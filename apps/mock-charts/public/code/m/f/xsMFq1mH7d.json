{"code":"let barColor = ['#16FFF1', '#37D3FF', '#FA7575', '#FD9D66', '#FFE57C'].reverse();\r\n// 计算总和\r\nlet total = 0;\r\ndata =  [\r\n            {\r\n                name: \"其他\",\r\n                value: 2,\r\n            },\r\n            {\r\n                name: \"环境污染\",\r\n                value: 6,\r\n            },\r\n            {\r\n                name: \"城市管理\",\r\n                value: 18,\r\n            },\r\n            {\r\n                name: \"矛盾纠纷\",\r\n                value: 22,\r\n            },\r\n            {\r\n                name: \"其他\",\r\n                value: 2,\r\n        }];\r\ndata.forEach((item) => {\r\n    total += item.value;\r\n});\r\nlet value = data.map(item => item.name);\r\n\r\noption = {\r\n    backgroundColor: '#313131',\r\n    angleAxis: {\r\n        type: 'value',\r\n        min: 0,\r\n        max: 100,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        }\r\n    },\r\n    radiusAxis: {\r\n        type: 'category',\r\n        data: value,\r\n        z: 100,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        }\r\n    },\r\n    polar: {\r\n        center: ['50%', '50%'],\r\n        radius: ['20%', '96%']\r\n    },\r\n    tooltip: {\r\n        show: true,\r\n        formatter: (item) => {\r\n            return `<span>${ item.name }<br/><span style='display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:${ barColor[item.dataIndex] }'></span>占比：${((item.value / total) * 100).toFixed(0)}%</span>`;\r\n        }\r\n    },\r\n    series: [{\r\n        type: 'bar',\r\n        coordinateSystem: 'polar',\r\n        barWidth: 6, // 10条数据的时候 10\r\n        barGap: 10,\r\n        showBackground: true,\r\n        backgroundStyle: {\r\n            color: 'rgba(89,113,126,.5)'\r\n        },\r\n        itemStyle: {\r\n            color: function (params) {\r\n                var idx = params.dataIndex;\r\n                return barColor[idx];\r\n            }\r\n        },\r\n        roundCap: true,\r\n        data: data.reverse()\r\n    }]\r\n};"}