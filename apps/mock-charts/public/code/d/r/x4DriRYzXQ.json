{"code":"var data = [];\nvar dataCount = 10;\nvar startTime = +new Date();\nvar categories = ['categoryA', 'categoryB', 'categoryC'];\nvar types = [\n    {name: 'JS Heap', color: '#7b9ce1'},\n    {name: 'Documents', color: '#bd6d6c'},\n    {name: 'Nodes', color: '#75d874'},\n    {name: 'Listeners', color: '#e0bc78'},\n    {name: 'GPU Memory', color: '#dc77dc'},\n    {name: 'GPU', color: '#72b362'}\n];\n\n// Generate mock data\ncategories.forEach(function (category, index) {\n    var baseTime = startTime;\n    for (var i = 0; i < dataCount; i++) {\n        var typeItem = types[Math.round(Math.random() * (types.length - 1))];\n        var duration = Math.round(Math.random() * 10000);\n        data.push({\n            name: typeItem.name,\n            value: [\n                index,\n                baseTime,\n                baseTime += duration,\n                duration\n            ],\n            itemStyle: {\n                normal: {\n                    color: typeItem.color\n                }\n            }\n        });\n        baseTime += Math.round(Math.random() * 2000);\n    }\n});\n\nfunction renderItem(params, api) {\n    var categoryIndex = api.value(0);\n    var start = api.coord([api.value(1), categoryIndex]);\n    var end = api.coord([api.value(2), categoryIndex]);\n    var height = api.size([0, 1])[1] * 0.6;\n\n    var rectShape = echarts.graphic.clipRectByRect({\n        x: start[0],\n        y: start[1] - height / 2,\n        width: end[0] - start[0],\n        height: height\n    }, {\n        x: params.coordSys.x,\n        y: params.coordSys.y,\n        width: params.coordSys.width,\n        height: params.coordSys.height\n    });\n\n    return rectShape && {\n        type: 'rect',\n        transition: ['shape'],\n        shape: rectShape,\n        style: api.style()\n    };\n}\n\n\noption = {\n    tooltip: {\n        formatter: function (params) {\n            return params.marker + params.name + ': ' + params.value[3] + ' ms';\n        }\n    },\n    title: {\n        text: '2021-9-10 性能分析',\n        left: 'center'\n    },\n    dataZoom: [{\n        type: 'slider',\n        filterMode: 'weakFilter',\n        showDataShadow: false,\n        top: 10,\n        labelFormatter: ''\n    }, {\n        type: 'inside',\n        filterMode: 'weakFilter'\n    }],\n    grid: {\n        height: 300\n    },\n    xAxis: {\n        min: startTime,\n        scale: true,\n        axisLabel: {\n            formatter: function (val) {\n                return (Math.max(0, val - startTime)) + 'ms';\n            }\n        }\n    },\n    yAxis: {\n        data: categories\n    },\n    series: [{\n        type: 'custom',\n        renderItem: renderItem,\n        itemStyle: {\n            opacity: 0.8\n        },\n        encode: {\n            x: [1, 2],\n            y: 0\n        },\n        data: data\n    }]\n};"}