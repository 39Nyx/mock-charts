{"code":"linesdata = [{\n\"fromId\": 14201,\n\"fromName\": \"凤起路地铁站\",\n\"toId\": 14100,\n\"toName\": \"西湖\",\n\"value\": \"11295\",\n\"coords\": [\n    [120.170007, 30.268763],\n    [120.15564, 30.25845]\n],\n\"lineStyle\": {\n    \"width\": 8\n}\n}, {\n\"fromId\": 14202,\n\"fromName\": \"龙翔桥地铁站\",\n\"toId\": 14100,\n\"toName\": \"西湖\",\n\"value\": \"5388\",\n\"coords\": [\n    [120.170581, 30.260523],\n    [120.15564, 30.25845]\n],\n\"lineStyle\": {\n    \"width\": 5\n}\n}, {\n\"fromId\": 14203,\n\"fromName\": \"定安路地铁站\",\n\"toId\": 14100,\n\"toName\": \"西湖\",\n\"value\": \"7187\",\n\"coords\": [\n    [120.174309, 30.2517],\n    [120.15564, 30.25845]\n],\n\"lineStyle\": {\n    \"width\": 5\n}\n}, {\n\"fromId\": 14100,\n\"fromName\": \"西湖\",\n\"toId\": 14203,\n\"toName\": \"定安路地铁站\",\n\"value\": \"11033\",\n\"coords\": [\n    [120.15564, 30.25845],\n    [120.174309, 30.2517]\n],\n\"lineStyle\": {\n    \"width\": 8\n}\n}, {\n\"fromId\": 14100,\n\"fromName\": \"西湖\",\n\"toId\": 14202,\n\"toName\": \"龙翔桥地铁站\",\n\"value\": \"13003\",\n\"coords\": [\n    [120.15564, 30.25845],\n    [120.170581, 30.260523]\n],\n\"lineStyle\": {\n    \"width\": 8\n}\n}, {\n\"fromId\": 14100,\n\"fromName\": \"西湖\",\n\"toId\": 14201,\n\"toName\": \"凤起路地铁站\",\n\"value\": \"21746\",\n\"coords\": [\n    [120.15564, 30.25845],\n    [120.170007, 30.268763]\n],\n\"lineStyle\": {\n    \"width\": 12\n}\n}]\n\nmyChart.setOption(\n    option = {\n        bmap: {\n            center: [120.169, 30.260],\n            zoom: 16,\n            roam: true,\n        },\n        tooltip: {\n            trigger: 'item',\n            formatter: function(param) {\n                if (param.seriesType == 'lines') {\n                    console.log(param)\n                    var str = ''\n                    str += param.marker + param.data.fromName + ' > ' + param.data.toName + '<br/><p style=\"font-size: 22px;font-weight:bold;display:inline-block;color:#a6c84c;\">' + param.data.value + '</p>人'\n                    return str\n                } else {\n                    return ''\n                }\n            }\n        },\n        series: [{\n            name: '流量',\n            type: 'lines',\n            coordinateSystem: 'bmap',\n            zlevel: 1,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0.7,\n                color: '#fff',\n                symbolSize: 3\n            },\n            lineStyle: {\n                normal: {\n                    color: '#a6c84c',\n                    width: 10,\n                    curveness: 0.2\n                }\n            },\n            data: linesdata\n        }, {\n            name: '流量',\n            type: 'lines',\n            coordinateSystem: 'bmap',\n            zlevel: 2,\n            symbol: ['none', 'arrow'],\n            symbolSize: 10,\n            effect: {\n                show: true,\n                period: 6,\n                trailLength: 0,\n                symbol: 'arrow',\n                symbolSize: 15\n            },\n            lineStyle: {\n                normal: {\n                    color: '#a6c84c',\n                    width: 10,\n                    opacity: 0.6,\n                    curveness: 0.2\n                }\n            },\n            data: linesdata\n        }, {\n            name: '点',\n            type: 'effectScatter',\n            coordinateSystem: 'bmap',\n            zlevel: 2,\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            label: {\n                normal: {\n                    show: true,\n                    position: 'right',\n                    formatter: '{b}'\n                }\n            },\n            symbolSize: 30,\n            showEffectOn: 'render',\n            itemStyle: {\n                normal: {\n                    color: '#a6c84c'\n                }\n            },\n            data: [{\n                name: '西湖',\n                value: [120.15564, 30.25845]\n            }]\n        }]\n    }\n)\n\n\nsetTimeout(function() {\n    \n    myChart.setOption({\n        series: [{\n            name: '点',\n            data:[]\n        }]\n    })\n}, 10000);"}