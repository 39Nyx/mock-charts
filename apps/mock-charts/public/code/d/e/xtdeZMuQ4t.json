{"code":"let {\r\n    date,\r\n    dataval\r\n} = {\r\n    date: [],\r\n    dataval: []\r\n}\r\n\r\n// 格式化时间\r\nfunction getTime() {\r\n    var ts = arguments[0] || 0;\r\n    var t, h, i, s;\r\n    t = ts ? new Date(ts * 1000) : new Date();\r\n    h = t.getHours();\r\n    i = t.getMinutes();\r\n    s = t.getSeconds();\r\n    // 可根据需要在这里定义时间格式\r\n    return (h < 10 ? '0' + h : h) + ':' + (i < 10 ? '0' + i : i) + ':' + (s < 10 ? '0' + s : s);\r\n}\r\n// 生成初始数据\r\nfor (var i = 0; i < 50; i++) {\r\n    dataval.push(Math.ceil(Math.random() * 800));\r\n    date.push(getTime(Math.round(new Date().getTime() / 1000) - i))\r\n}\r\noption = {\r\n    grid: [{\r\n        left: 20,\r\n        right: 20,\r\n        top: 80,\r\n        bottom: 20,\r\n        containLabel: true\r\n    }],\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        }\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        boundaryGap: false,\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n        data: date\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLine: {\r\n            lineStyle: {\r\n                color: '#57617B'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            formatter: '{value}',\r\n            textStyle: {\r\n                fontSize: 12\r\n            }\r\n        },\r\n        splitLine: {\r\n            lineStyle: {\r\n                color: '#cccccc'\r\n            }\r\n        }\r\n    }],\r\n    series: [{\r\n        name: '发送',\r\n        type: 'line',\r\n        showSymbol: false,\r\n        lineStyle: {\r\n            normal: {\r\n                width: 1\r\n            }\r\n        },\r\n        data: dataval\r\n    }]\r\n};\r\nsetInterval(function() {\r\n    dataval.shift();\r\n    dataval.push(Math.ceil(Math.random() * 800));\r\n    date.shift()\r\n    date.push(getTime(Math.round(new Date().getTime() / 1000)))\r\n    myChart.setOption({\r\n        series: [{\r\n            data: dataval\r\n        }],\r\n        xAxis: [{\r\n            data: date\r\n        }],\r\n    });\r\n}, 1000)"}