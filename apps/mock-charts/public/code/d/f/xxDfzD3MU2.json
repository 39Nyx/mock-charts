{"code":"data = [\n  {\n    name: 'Node 1',\n    x: 300,\n    y: 300\n  },\n  {\n    name: 'Node 2',\n    x: 800,\n    y: 300\n  },\n  {\n    name: 'Node 3',\n    x: 550,\n    y: 100\n  },\n  {\n    name: 'Node 4',\n    x: 550,\n    y: 500\n  }\n]\nseriesData = [\n  {\n    type: 'graph',\n    layout: 'none',\n    symbolSize: 60,\n    roam: false,\n    zlevel: 1,\n    label: {\n      show: true,\n      position: 'left',\n    },\n    edgeSymbol: ['circle', 'arrow'],\n    edgeSymbolSize: [4, 10],\n    edgeLabel: {\n      fontSize: 20\n    },\n    data: data,\n    // links: [],\n    links: [\n      {\n        source: 0,\n        target: 1,\n        symbolSize: [5, 20],\n        label: {\n          show: true\n        },\n        lineStyle: {\n          width: 5,\n          curveness: 0.2\n        }\n      },\n      {\n        source: 'Node 2',\n        target: 'Node 1',\n        label: {\n          show: true\n        },\n        lineStyle: {\n          curveness: 0.2\n        }\n      },\n      {\n        source: 'Node 1',\n        target: 'Node 3'\n      },\n      {\n        source: 'Node 2',\n        target: 'Node 3'\n      },\n      {\n        source: 'Node 2',\n        target: 'Node 4'\n      },\n      {\n        source: 'Node 1',\n        target: 'Node 4'\n      }\n    ],\n    lineStyle: {\n      opacity: 0.9,\n      width: 2,\n      curveness: 0\n    }\n  }\n]\noption = {\n  title: {\n    text: 'Basic Graph'\n  },\n  tooltip: {},\n  animationDurationUpdate: 1500,\n  animationEasingUpdate: 'quinticInOut',\n  series: seriesData\n};\n\n// 需要先setOption一次，不然会出现下面的问题\n// TypeError: Cannot read properties of undefined (reading 'queryComponents')\nmyChart.setOption(option)\n\nseriesData0 = getPieSeries(data, myChart)\nfunction getPieSeries(scatterData, chart) {\n  return scatterData.map(function (item, index) {\n    // 这里是关键，懂了 convertToPixel 方法，可以将多个图进行组合\n    var center = chart.convertToPixel({seriesIndex: 0}, [item.x, item.y]);\n    console.log(item, index, center)\n    return {\n      name: item.name,\n      id: index + 'pie',\n      zlevel: 2,\n      type: 'pie',\n      center: center,\n      label: {\n        formatter: '{c}',\n        position: 'inside'\n      },\n      radius: 30,\n      data: [\n        { name: '工作', value: Math.round(Math.random() * 24) },\n        { name: '娱乐', value: Math.round(Math.random() * 24) },\n        { name: '睡觉', value: Math.round(Math.random() * 24) }\n      ]\n    };\n  });\n}\nseries = [...seriesData, ...seriesData0]\noption.series = series\n// 这里再setOption一次，就可以将结点替换成饼图\nmyChart.setOption(option);"}