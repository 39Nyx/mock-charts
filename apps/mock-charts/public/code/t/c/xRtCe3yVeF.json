{"code":"\r\nvar option = {\r\n    title: {\r\n        text: '折线图堆叠'\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis'\r\n    },\r\n    legend: {\r\n        data:['邮件营销','联盟广告','视频广告','直接访问','搜索引擎']\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '3%',\r\n        containLabel: true\r\n    },\r\n    toolbox: {\r\n        feature: {\r\n            saveAsImage: {}\r\n        }\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        boundaryGap: false,\r\n        data: ['周一','周二','周三','周四','周五','周六','周日']\r\n    },\r\n    yAxis: {\r\n        type: 'value'\r\n    },\r\n    series: [\r\n        {\r\n            name:'邮件营销',\r\n            type:'line',\r\n            stack: '总量',\r\n            data:[120, 132, 101, 134, 90, 230, 210]\r\n        },\r\n        {\r\n            name:'联盟广告',\r\n            type:'line',\r\n            stack: '总量',\r\n            data:[220, 182, 191, 234, 290, 330, 310]\r\n        },\r\n        {\r\n            name:'视频广告',\r\n            type:'line',\r\n            stack: '总量',\r\n            data:[150, 232, 201, 154, 190, 330, 410]\r\n        },\r\n        {\r\n            name:'直接访问',\r\n            type:'line',\r\n            stack: '总量',\r\n            data:[320, 332, 301, 334, 390, 330, 320]\r\n        },\r\n        {\r\n            name:'搜索引擎',\r\n            type:'line',\r\n            stack: '总量',\r\n            data:[820, 932, 901, 934, 1290, 1330, 1320]\r\n        }\r\n    ]\r\n};\r\nmyChart.setOption(option);\r\nmyChart.on('legendselectchanged', function (params) {\r\n    let option = this.getOption();\r\n    let select_key = Object.keys(params.selected);\r\n    if (!params.selected[params.name]) {\r\n        select_key.map(res => {\r\n            option.legend[0].selected[res] = !params.selected[res];\r\n        });\r\n    } else {\r\n        select_key.map(res => {\r\n            option.legend[0].selected[res] = false;\r\n        });\r\n        option.legend[0].selected[params.name] = true;\r\n    }\r\n    this.setOption(option)\r\n});"}