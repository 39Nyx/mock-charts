{"code":"var data = [\r    ['30', 11.35],\r    ['01', 85.11],\r    ['02', 36.61],\r    ['03', 27.26],\r    ['04', 6.72],\r    ['05', 36.37],\r    ['06', 80.13],\r    ['07', 20.88],\r    ['08', 97.15]\r];\rdata.push(['预测', avg])\rvar sum = 0;\rvar data3 = [];\rfor (var i = 0; i < data.length - 1; i++) {\r    data3.push(data[i][1])\r    sum += data[i][1]\r}\rvar avg = sum / data.length;\rvar myRegression = ecStat.regression('polynomial', data);\rvar data1 = myRegression.points.sort(function(a, b) {\r    return a[0] - b[0];\r});\rvar data2 = [];\rfor (var i = 0; i < data.length - 1; i++) {\r    data2.push('')\r}\rdata2.push(data1[data1.length - 1][1])\r//======= x轴===========\rvar data4 = [];\rfor (var i = 0; i < data.length; i++) {\r    data4.push(data[i][0])\r}\roption = {\r    backgroundColor: '#000',\r    tooltip: {\r        trigger: 'axis',\r        formatter: function(params) {\r            if (params.length === 1) {\r                if (params[0].seriesName === 'bar1') {\r                    return '明天<br/>' + params[0].data;\r                } else {\r                    return params[0].axisValue + '日<br/>' + params[0].data;\r                }\r            } else {\r                return params[0].axisValue + '日<br/>' + params[0].data;\r            }\r        }\r    },\r    xAxis: [{\r        type: 'category',\r        name: '日',\r        data: data4,\r        splitLine: {\r            show: false,\r        },\r    }],\r    yAxis: {\r        type: 'value',\r        splitLine: {\r            show: false,\r        }\r    },\r    grid: {\r        top: 90\r    },\r    series: [{\r        name: 'bar',\r        type: 'bar',\r        barGap: '-100%',\r        data: data3,\r        itemStyle: {\r            color: '#ff0'\r        },\r        xAxisIndex: 0\r    }, {\r        name: 'bar1',\r        type: 'bar',\r        itemStyle: {\r            color: '#000',\r            shadowColor: '#f00',\r            shadowBlur: 10\r        },\r        data: data2,\r        xAxisIndex: 0\r    }]\r};"}