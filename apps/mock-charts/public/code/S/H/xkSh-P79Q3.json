{"code":"let datas = [\n    { value: 5, name: '大中型病险水库', percent: '5%' },\n    { value: 21, name: '中小河流治理工程', percent: '21%' },\n    { value: 14, name: '大型水利工程', percent: '14%' },\n    { value: 17, name: '其他工程', percent: '17%' },\n    { value: 12, name: '新建小型水利工程', percent: '12%' },\n    { value: 20, name: '主要支流治理工程', percent: '20%' },\n    { value: 11, name: '中型水利工程', percent: '11%' },\n];\n\nlet colors = ['#DF3AB9', '#18C79C', '#8555F9', '#F09228 ', '#135AEF', '#11A8AB', '#4FC4F6'];\nlet legendData = [];\nfor (var j = 0; j < datas.length; j++) {\n    // var data = {\n    //   name: datas[j].name,\n    //   icon: 'circle',\n    //   textStyle: {\n    //     fontSize: 18,\n    //     color: colors[j]\n    //   }\n    var data = {\n        name: datas[j].name,\n        icon: 'circle',\n        textStyle: {\n            fontSize: 18,\n            color: colors[j],\n        },\n    };\n    legendData.push(data);\n}\nlet objData = array2obj(datas, 'name');\nconsole.log(objData);\noption = {\n    legend: {\n        orient: 'vertical',\n        bottom: '15',\n        left: 'center',\n        itemGap: 10,\n        // data: legendData,\n        itemWidth: 20,\n        itemHeight: 12,\n        textStyle: {\n            rich: {\n                title: {\n                    color: '#888',\n                    fontSize: 16,\n                    fontWeight: 600,\n                    padding: [0, 10, 0, 10],\n                    width: 150,\n                },\n                value: {\n                    color: '#000',\n                    fontSize: 16,\n                    fontWeight: 600,\n                    padding: [0, 10, 0, 10],\n                },\n            },\n        },\n        formatter(val) {\n            let precet = null;\n            datas.forEach((item) => {\n                if (item.name == val) {\n                    precet = item.percent;\n                }\n            });\n            return `{title|${val}}{value|${precet}}`;\n        },\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: '{a} <br/>{b} : {c} ({d}%)',\n    },\n    color: colors,\n    series: [\n        {\n            name: '访问来源',\n            type: 'pie',\n            radius: '50%',\n            center: ['50%', '35%'],\n            label: {\n                fontSize: 18,\n                show: false,\n            },\n            data: datas,\n        },\n    ],\n};\n/**\n * @introduction 把数组中key值相同的那一项提取出来，组成一个对象\n * @description 详细描述\n * @param {参数类型} array 传入的数组 [{a:\"1\",b:\"2\"},{a:\"2\",b:\"3\"}]\n * @param {参数类型} key  属性名 a\n * @return {返回类型说明}\n * @exception [违例类型] [违例类型说明]\n */\nfunction array2obj(array, key) {\n    var resObj = {};\n    for (var i = 0; i < array.length; i++) {\n        resObj[array[i][key]] = array[i];\n    }\n    return resObj;\n}\n"}