{"code":"\nvar uploadedDataURL = \"https://geo.datav.aliyun.com/areas/bound/310000_full.json\";\nvar scatterData=[];//用于各区撒点\nvar shTempData = [] ;// 临时数据\nmyChart.showLoading();\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('shanghai', geoJson);\n     myChart.hideLoading();\n    for(var i=0;i<geoJson.features.length;i++){\n       scatterData[i]={\n           name:geoJson.features[i].properties.name,\n           value:geoJson.features[i].properties.centroid.concat(i)\n       }\n       shTempData[i] ={\n           name:geoJson.features[i].properties.name,\n           value:i\n       }\n    }\n console.log(scatterData );\n console.log(shTempData);\n option = {\n        backgroundColor: '#091c3d',\n        title: {\n            top:20,\n            text: '',\n            subtext: '',\n            x: 'center',\n            textStyle: {\n                color: '#ccc'\n            }\n        },    \n\n        tooltip: {\n            trigger: 'item',\n            formatter: function (params) {\n              if(typeof(params.value)[2] == \"undefined\"){\n              \treturn params.name + ' : ' + params.value;\n              }else{\n              \treturn params.name + ' : ' + params.value[2];\n              }\n            }\n        },\n        geo: {\n            show: true,\n            map: 'shanghai',\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false,\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: 'transparent',\n                    borderColor: '#3fdaff',\n                    borderWidth: 2,\n                    shadowColor: 'rgba(63, 218, 255, 0.5)',\n                    shadowBlur: 30\n                },\n                emphasis: {\n                    areaColor: '#2B91B7',\n                }\n            }\n        },\n        series : [\n          {\n                name: 'scatter', //地图各区撒点\n                type: 'scatter',\n                coordinateSystem: 'geo',\n                data: scatterData,\n                symbolSize:10,\n                label: {\n                    normal: {\n                        formatter: '{b}',\n                        position: 'right',\n                        show: true\n                    },\n                    emphasis: {\n                        show: true\n                    }\n                },\n                itemStyle: {\n                    normal: {\n                        color: '#F4E925'\n                    }\n                }\n        },\n         {\n            type: 'map',\n            map: 'shanghai',\n            geoIndex: 0,\n            aspectScale: 0.75, //长宽比\n            showLegendSymbol: false, // 存在legend时显示\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false,\n                    textStyle: {\n                        color: '#fff'\n                    }\n                }\n            },\n            roam: true,\n            itemStyle: {\n                normal: {\n                    areaColor: '#031525',\n                    borderColor: '#FFFFFF',\n                },\n                emphasis: {\n                    areaColor: '#2B91B7'\n                }\n            },\n            animation: false,\n            data: shTempData\n        }   \n    ]\n    };  \n    myChart.setOption(option);    \n});\n\n\n   "}