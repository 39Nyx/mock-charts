{"code":"var nodes = [\r\n\r\n    {\r\n        name: 'FTP下载队列',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: 'FTP下载',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n    {\r\n        name: 'Pcap处理',\r\n        itemStyle: {\r\n            color: '#FCC600'\r\n        }\r\n    },\r\n    {\r\n        name: 'PCAP规则检测结果',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: 'PCAP规则检测聚合',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n\r\n    {\r\n        name: 'kafka队列1',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: 'kafka队列2',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n\r\n    {\r\n        name: 'Kafka',\r\n        itemStyle: {\r\n            color: '#FCC600'\r\n        }\r\n    },\r\n\r\n    {\r\n        name: 'Meta处理队列1',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: 'Meta处理队列2',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n    {\r\n        name: 'Meta处理队列3',\r\n        itemStyle: {\r\n            color: '#FCC600'\r\n        }\r\n    },\r\n\r\n    {\r\n        name: '元数据标注结果',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: '元数据检测结果',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n    {\r\n        name: '文件标注结果',\r\n        itemStyle: {\r\n            color: '#FCC600'\r\n        }\r\n    },\r\n\r\n    {\r\n        name: '元数据标注聚合',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: '元数据检测聚合',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n    {\r\n        name: '文件标注聚合',\r\n        itemStyle: {\r\n            color: '#FCC600'\r\n        }\r\n    },\r\n\r\n    {\r\n        name: 'Meta_DoLog',\r\n        itemStyle: {\r\n            color: '#6FA8F7'\r\n        }\r\n    },\r\n    {\r\n        name: 'File_DoLog',\r\n        itemStyle: {\r\n            color: '#5ECC8F'\r\n        }\r\n    },\r\n]\r\nvar links = [{\r\n    source: 'kafka队列1',\r\n    target: 'Kafka',\r\n    value: 150\r\n},\r\n    {\r\n        source: 'kafka队列2',\r\n        target: 'Kafka',\r\n        value: 150\r\n    },\r\n\r\n    {\r\n        source: 'Kafka',\r\n        target: 'Meta处理队列1',\r\n        value: 100\r\n    },\r\n    {\r\n        source: 'Kafka',\r\n        target: 'Meta处理队列2',\r\n        value: 100\r\n    },\r\n    {\r\n        source: 'Kafka',\r\n        target: 'Meta处理队列3',\r\n        value: 100\r\n    },\r\n\r\n    {\r\n        source: 'Meta处理队列1',\r\n        target: '元数据标注结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列1',\r\n        target: '元数据检测结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列1',\r\n        target: '文件标注结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列2',\r\n        target: '元数据标注结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列2',\r\n        target: '元数据检测结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列2',\r\n        target: '文件标注结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列3',\r\n        target: '元数据标注结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列3',\r\n        target: '元数据检测结果',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: 'Meta处理队列3',\r\n        target: '文件标注结果',\r\n        value: 11.1\r\n    },\r\n\r\n    {\r\n        source: '元数据标注结果',\r\n        target: '元数据标注聚合',\r\n        value: 33.3\r\n    },\r\n    {\r\n        source: '元数据检测结果',\r\n        target: '元数据检测聚合',\r\n        value: 33.3\r\n    },\r\n    {\r\n        source: '文件标注结果',\r\n        target: '文件标注聚合',\r\n        value: 33.3\r\n    },\r\n\r\n    {\r\n        source: '元数据标注聚合',\r\n        target: 'Meta_DoLog',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: '元数据检测聚合',\r\n        target: 'Meta_DoLog',\r\n        value: 11.1\r\n    },\r\n    {\r\n        source: '文件标注聚合',\r\n        target: 'File_DoLog',\r\n        value: 11.1\r\n    },\r\n\r\n    {\r\n        source: 'FTP下载队列',\r\n        target: 'FTP下载',\r\n        value: 150\r\n    },\r\n    {\r\n        source: 'FTP下载',\r\n        target: 'Pcap处理',\r\n        value: 100\r\n    },\r\n    {\r\n        source: 'Pcap处理',\r\n        target: 'PCAP规则检测结果',\r\n        value: 33.3\r\n    },\r\n    {\r\n        source: 'PCAP规则检测结果',\r\n        target: 'PCAP规则检测聚合',\r\n        value: 33.3\r\n    },\r\n    {\r\n        source: 'PCAP规则检测聚合',\r\n        target: 'Meta_DoLog',\r\n        value: 33.3\r\n    },\r\n]\r\nvar option = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n        triggerOn: 'mousemove'\r\n    },\r\n    backgroundColor: '#FFFFFF',\r\n    series: {\r\n        type: 'sankey',\r\n        layout: 'none',\r\n        top: 50,\r\n        left: '3%',\r\n        right: '12%',\r\n        nodeGap: 14,\r\n        layoutIterations: 0, // 自动优化列表，尽量减少线的交叉，为0就是按照数据排列\r\n        data: nodes, // 节点\r\n        links: links, // 节点之间的连线\r\n        draggable: false,\r\n        focusNodeAdjacency: 'allEdges', // 鼠标划上时高亮的节点和连线，allEdges表示鼠标划到节点上点亮节点上的连线及连线对应的节点\r\n        // tooltip: {\r\n        //   formatter: function(params) {\r\n        //     if (params.data.source) {\r\n        //       return `${params.data.source}：${params.data.value}`;\r\n        //     } else {\r\n        //       return `${params.name}：${params.value}`;\r\n        //     }\r\n        //   }\r\n        // },\r\n        levels: [{\r\n            depth: 0,\r\n            itemStyle: {\r\n                color: '#F27E7E'\r\n            },\r\n            lineStyle: {\r\n                color: 'source',\r\n                opacity: 0.2\r\n            }\r\n        },\r\n            {\r\n                depth: 1,\r\n                lineStyle: {\r\n                    color: 'source',\r\n                    opacity: 0.2\r\n                }\r\n            },\r\n            {\r\n                depth: 2,\r\n                lineStyle: {\r\n                    color: 'source',\r\n                    opacity: 0.2\r\n                }\r\n            },\r\n            {\r\n                depth: 3,\r\n                label: {\r\n                    fontSize: 12\r\n                }\r\n            }\r\n        ],\r\n        label: {\r\n            fontSize: 14,\r\n            color: '#666'\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth: 0\r\n            }\r\n        }\r\n    }\r\n}\r\n"}