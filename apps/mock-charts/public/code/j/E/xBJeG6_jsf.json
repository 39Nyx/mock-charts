{"code":"const radius = {\r\n    pie: '55%',\r\n    doughnut: ['40%', '55%'],\r\n    rose: ['20%', '55%']\r\n};\r\n\r\nlet data = [{\r\n        value: 400,\r\n        name: '搜索引擎'\r\n    },\r\n    {\r\n        value: 335,\r\n        name: '直接访问'\r\n    },\r\n    {\r\n        value: 310,\r\n        name: '邮件营销'\r\n    },\r\n    {\r\n        value: 274,\r\n        name: '联盟广告'\r\n    },\r\n    {\r\n        value: 235,\r\n        name: '视频广告'\r\n    }\r\n];\r\n\r\nlet type = 'rose'; // pie doughnut\r\n\r\nfunction getOption() {\r\n    return {\r\n        color: ['#b34020', '#d95132', '#ff6347', '#ff8170', '#ffa199'],\r\n        grid: {\r\n            top: 46,\r\n            left: 16,\r\n            right: 16,\r\n            bottom: 16,\r\n            containLabel: true\r\n        },\r\n        tooltip: {\r\n            trigger: 'item',\r\n            formatter: '{b} : {c} ({d}%)',\r\n            backgroundColor: '#000'\r\n        },\r\n        legend: {\r\n            data: data.map(item => item.name)\r\n        },\r\n        series: [{\r\n            type: 'pie',\r\n            radius: radius[type],\r\n            center: ['50%', '60%'],\r\n            data: data,\r\n            roseType: type === 'rose' ? 'radius' : void 0,\r\n\r\n            animationType: 'scale',\r\n            animationEasing: 'elasticOut',\r\n            animationDelay: function(idx) {\r\n                return Math.random() * 200;\r\n            }\r\n        }]\r\n    };\r\n}\r\n\r\noption = getOption();\r\n\r\nlet types = ['rose', 'doughnut', 'pie'];\r\nlet i = 0;\r\n\r\nsetInterval(function() {\r\n    // data[i++ % data.length].selected = true; // 选中使用selected\r\n    type = types[(i++) % 3];\r\n    myChart.setOption(getOption());\r\n}, 1000);"}