{"code":"entities = ['小明', '小红', '小红红', '大明明', '大红红']\r\ntpl1 = { 'e1': '小明', 'rel': 'like1', 'e2': '小红' }\r\ntpl2 = { 'e1': '小明', 'rel': 'like2', 'e2': '小红红' }\r\ntpl3 = { 'e1': '大明明', 'rel': 'like4', 'e2': '大红红' }\r\ntriples = [tpl1, tpl2, tpl3]\r\n\r\n// 指定图表的配置项和数据\r\nvar option = {}\r\noption['title'] = {//图标信息\r\n    text: 'triples relations',\r\n    link: 'http://172.19.12.30:7474/browser/'\r\n}\r\noption['tooltip'] = {},//提示框组件\r\n    option['animationDurationUpdate'] = 1500//数据更新动画的时长\r\noption['animationEasingUpdate'] = 'quinticInOut',//数据更新动画的缓动效果\r\n    option['label'] = { normal: { show: true, textStyle: { fontSize: 12 }, } }\r\noption['legend'] = {\r\n    x: \"center\",\r\n    show: true,\r\n    data: []\r\n}\r\nvar series = {\r\n    type: 'graph',\r\n    layout: 'force',\r\n    symbolSize: 60,\r\n    focusNodeAdjacency: true,\r\n    roam: true,\r\n    label: {\r\n        normal: {\r\n            show: true,\r\n            textStyle: {\r\n                fontSize: 14\r\n            },\r\n        }\r\n    },\r\n    //力量\r\n    force: {\r\n        repulsion: 1000\r\n    },\r\n    edgeSymbolSize: [4, 50],\r\n    edgeLabel: {\r\n        normal: {\r\n            show: true,\r\n            textStyle: {\r\n                fontSize: 14//边字体\r\n            },\r\n            formatter: \"{c}\"\r\n        }\r\n    },\r\n    //边属性\r\n    lineStyle: {\r\n        normal: {\r\n            opacity: 0.9,\r\n            width: 2,\r\n            curveness: 0.15\r\n        }\r\n    }\r\n}\r\n\r\n//categories\r\nvar categories = []\r\n//data\r\nvar data = []\r\n//关系\r\nvar links = []\r\n\r\nfor (var e of entities) {\r\n    categories.push({ name: e })\r\n}\r\nfor (var name of entities) {\r\n    node = {\r\n        name: name,\r\n        category: entities.indexOf(name),\r\n        draggable: true,\r\n    }\r\n    data.push(node)\r\n    option['legend']['data'].push(name)\r\n}\r\nfor (var tpl of triples){\r\n    e1=tpl['e1']\r\n    rel=tpl['rel']\r\n    e2=tpl['e2']\r\n    edge={\r\n        source: e1,\r\n        target: e2,\r\n        value: rel\r\n    }\r\n    links.push(edge)\r\n}\r\nseries['categories'] = categories\r\nseries['data'] = data\r\nseries['links'] = links\r\noption['series'] = series"}