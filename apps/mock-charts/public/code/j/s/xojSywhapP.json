{"code":"var colorMap = {\n    '0.25': {\n        offset: 0.25,\n        color: 'RGBA(37, 172, 195, 1)'\n    },\n    '0.5': {\n        offset: 0.5,\n        color: 'RGBA(126, 197, 66, 1)'\n    },\n    '0.75': {\n        offset: 0.75,\n        color: 'RGBA(249, 142, 0, 1)'\n    },\n    '1': {\n        offset: 1,\n        color: 'RGBA(246, 49, 43, 1)'\n    }\n}\nvar colors = [\n    {\n        offset: 0.25,\n        color: 'RGBA(37, 172, 195, .50)'\n    },\n    {\n        offset: 0.5,\n        color: 'RGBA(126, 197, 66, .50)'\n    },\n    {\n        offset: 0.75,\n        color: 'RGBA(249, 142, 0, .50)'\n    },\n    {\n        offset: 1,\n        color: 'RGBA(246, 49, 43, .50)'\n    },\n]\n\nfunction percentFn(percent) {\n    percent = percent / 100;\n    console.log(percent)\n    if (percent > 0.25) {\n        colors.unshift(colorMap['0.25'])\n    }\n   \n}\n \n\n    \nvar axislineColor = new echarts.graphic.LinearGradient(0, 0, 1, 0, colors);\n\noption = {\n    tooltip : {\n        formatter: \"{a} <br/>{b} : {c}%\"\n    },\n    toolbox: {\n        feature: {\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    series: [\n        {\n            name: '业务指标',\n            type: 'gauge',\n            title: {\n                fontWeight: 'bold',\n                offsetCenter: [0, '70%'] ,\n            },  \n            radius: '40%',\n           axisLine: {    \n                show: false,// 坐标轴线\n                lineStyle: {       // 属性lineStyle控制线条样式\n                    width: 10,\n                    color: [\n                        [1,  axislineColor]\n                    ],\n                    // 这个是圆环外部的阴影\n                    shadowColor: 'RGBA(0, 0, 0, .50)', //'RGBA(244, 244, 244, .50)',\n                    shadowBlur: 15                    \n                }\n            },                 \n            min: 0,\n            max: 100,\n            pointer: {\n                show: false,\n                length: '0',\n                width: '0'\n            },     \n            splitLine: {\n                show: false\n            },\n            axisTick: {\n                show: false\n            },            \n            axisLabel: {\n                formatter:function(v){\n                    switch (v + '') {\n                        case '0' : return '70';\n                        case '1' : return '';\n                        case '100' : return '100';\n                    }\n                },\n                distance: -50,\n            },            \n            detail: {\n                formatter: '{value}%',\n                offsetCenter: [0, '5%']\n            },            \n            data: [{value: 50, name: 'CPU'}]\n        }\n    ]\n};\n\nsetInterval(function () {\n    var percent =  (Math.random() * 100).toFixed(2) - 0\n    option.series[0].data[0].value = percent;\n    percentFn(percent)\n    myChart.setOption(option, true);\n},2000);\n"}