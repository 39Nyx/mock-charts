{"code":"var data = {\r\n    \"abnormalRoomCnt\": 0,\r\n    \"finishedCourseCnt\": 0,\r\n    \"joinUserCnt\": 0,\r\n    \"livingCourseCnt\": 2,\r\n    \"masterRoomCnt\": 2,\r\n    \"planCourseCnt\": 38,\r\n    \"receiveRoomCnt\": 1\r\n}\r\nvar textData, receiveRoomCnt, masterRoomCnt, faultRoomCnt;\r\n\r\nreceiveRoomCnt = data.receiveRoomCnt;\r\nmasterRoomCnt = data.masterRoomCnt;\r\nfaultRoomCnt = data.abnormalRoomCnt;\r\ntextData = receiveRoomCnt + masterRoomCnt;\r\n\r\nvar faultMax = Math.max.call(receiveRoomCnt, masterRoomCnt, faultRoomCnt);\r\nfaultMax = faultMax * 1.2;\r\nvar circleData = function(val) {\r\n    let total = faultMax;\r\n    let count = val;\r\n    let shadeCount;\r\n    let noneCount = faultMax * 0.25;\r\n    if (val > total) {\r\n        count = total;\r\n        shadeCount = 0;\r\n    } else if (val == 0) {\r\n        total = 1;\r\n        shadeCount = total * 0.75;\r\n        count = 0;\r\n        noneCount = total * 0.25\r\n    } else {\r\n        shadeCount = total - val;\r\n    }\r\n    return {\r\n        count: count,\r\n        shadeCount: shadeCount,\r\n        noneCount: noneCount,\r\n    }\r\n};\r\n\r\nplaceHolderStyle = {\r\n    normal: {\r\n        borderWidth: 5,\r\n        shadowBlur: 40,\r\n        borderColor: \"#132235\",\r\n        shadowColor: 'rgba(0, 0, 0, 0)', //边框阴影\r\n        color: \"#132235\"\r\n    }\r\n};\r\n\r\noption = {\r\n     backgroundColor:'#0B1A32',\r\n    title: {\r\n        show: true,\r\n        text: textData + '间正在直播',\r\n        right: 20,\r\n        top: 40,\r\n        textStyle: {\r\n            fontSize: 16,\r\n            color: '#19a3dd'\r\n        }\r\n    },\r\n    color: ['#1c68e5', '#11a754'],\r\n    tooltip: {\r\n        show: false,\r\n        trigger: 'item'\r\n    },\r\n    legend: {\r\n        type: 'scroll',\r\n        orient: 'vertical',\r\n        right: '13%',\r\n        top: '40%',\r\n        itemWidth: 10,\r\n        itemHeight: 5,\r\n        itemGap: 10,\r\n        textStyle: {\r\n            color: ['#1bbcfa', '#5beca0'],\r\n            fontSize: 12\r\n        },\r\n        data: ['主讲教室 ' + masterRoomCnt, '接入教室 ' + receiveRoomCnt]\r\n    },\r\n    series: [{\r\n        name: '主讲教室 ' + masterRoomCnt,\r\n        type: 'pie',\r\n        clockWise: false,\r\n        radius: ['51%', '55%'],\r\n        center: ['30%', '50%'],\r\n        hoverAnimation: false, //鼠标移入变大\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                borderWidth: 5,\r\n                shadowBlur: 40,\r\n                borderColor: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                    offset: 0,\r\n                    color: '#1d69f1'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#1bbcfa'\r\n                }]),\r\n                shadowColor: 'rgba(0, 0, 0, 0)' //边框阴影\r\n            }\r\n        },\r\n        data: [{\r\n                value: circleData(masterRoomCnt).count,\r\n                name: '主讲教室'\r\n            },\r\n            {\r\n                value: circleData(masterRoomCnt).shadeCount,\r\n                name: '',\r\n                itemStyle: placeHolderStyle\r\n            },\r\n            {\r\n                value: circleData(masterRoomCnt).noneCount,\r\n                name: '',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'none',\r\n                        borderColor: 'none'\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }, {\r\n        name: '接入教室 ' + receiveRoomCnt,\r\n        type: 'pie',\r\n        clockWise: false,\r\n        hoverAnimation: false,\r\n        radius: ['31%', '35%'],\r\n        center: ['30%', '50%'],\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                },\r\n                borderWidth: 5,\r\n                shadowBlur: 40,\r\n                borderColor: new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\r\n                    offset: 0,\r\n                    color: '#20a65a'\r\n                }, {\r\n                    offset: 1,\r\n                    color: '#5beca0'\r\n                }]),\r\n                shadowColor: 'rgba(0, 0, 0, 0)' //边框阴影\r\n            }\r\n        },\r\n        data: [{\r\n                value: circleData(receiveRoomCnt).count,\r\n                name: '接入教室'\r\n            },\r\n            {\r\n                value: circleData(receiveRoomCnt).shadeCount,\r\n                name: '',\r\n                itemStyle: placeHolderStyle\r\n            },\r\n            {\r\n                value: circleData(receiveRoomCnt).noneCount,\r\n                name: '',\r\n                itemStyle: {\r\n                    normal: {\r\n                        color: 'none',\r\n                        borderColor: 'none'\r\n                    }\r\n                }\r\n            }\r\n        ]\r\n    }]\r\n};"}