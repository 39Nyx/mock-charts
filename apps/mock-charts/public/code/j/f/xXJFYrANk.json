{"code":"\r\n    var originaldata = [{\r\n      \"value\": 1862,\r\n      \"name\": \"传统型业务\",\r\n      \"children\": [{\r\n          \"value\": 1310,\r\n          \"name\": \"个客业务\"\r\n      }, {\r\n          \"value\": 552,\r\n          \"name\": \"其它\"\r\n      }]\r\n  }, {\r\n      \"value\": 1053,\r\n      \"name\": \"分散型业务\"\r\n  }, {\r\n      \"value\": 2216,\r\n      \"name\": \"政保业务\",\r\n      \"children\": [{\r\n          \"value\": 1917,\r\n          \"name\": \"利川医责险\"\r\n      }, {\r\n          \"value\": 299,\r\n          \"name\": \"其它\"\r\n      }]\r\n  }];\r\n  var color0 = ['#87d370', '#278bf6', '#fbc10f'];\r\n  var data0 = [];\r\n  for (var i = 0; i < originaldata.length; i++) {\r\n      var obj = originaldata[i];\r\n      data0.push({\r\n          value: obj.value,\r\n          name: obj.name,\r\n          itemStyle: {\r\n              color: color0[i]\r\n          },\r\n      });\r\n  }\r\n  var color1 = ['#FD4440', 'rgba(255,255,255,.1)'];\r\n  var data1 = [];\r\n  for (var i = 0; i < originaldata.length; i++) {\r\n      var obj = originaldata[i];\r\n      var kids = obj.children;\r\n      if (typeof(kids) === 'undefined') {\r\n          data1.push({\r\n              value: obj.value,\r\n              name: obj.name,\r\n              itemStyle: {\r\n                  color: 'transparent'\r\n              }\r\n          });\r\n      } else {\r\n          for (var k = 0; k < kids.length; k++) {\r\n              var kid = kids[k];\r\n              data1.push({\r\n                  value: kid.value,\r\n                  name: kid.name,\r\n                  itemStyle: {\r\n                      color: color1[k]\r\n                  },\r\n                  label: {\r\n                      normal: {\r\n                          position: 'outside',\r\n                          formatter: '{b} \\n{c}万元',\r\n                          color: 'rgba(255,255,255,.6)',\r\n                          fontSize:14,\r\n                      }\r\n                  },\r\n                  \r\n          labelLine: {\r\n                normal: {\r\n                       length: 12,\r\n                       length2: 10,\r\n                      lineStyle: {\r\n                       \r\n                      color: 'rgba(255,255,255,.5)'\r\n                  }}\r\n          }\r\n              });\r\n          }\r\n      }\r\n      // alert(k);\r\n  }\r\n  \r\n  option = {\r\nbackgroundColor:'#222',\r\n      series: [{\r\n              name: '非车险种构成',\r\n              type: 'pie',\r\n              animation: false,\r\n              radius: ['20%', '55%'],\r\n              center: ['50%', '50%'],\r\n              label: {\r\n                  normal: {\r\n                      position: 'inside',\r\n                      formatter: '{b} \\n{c}万元 ',\r\n                      color: '#fff',\r\n                    \r\n                      fontWeight:'bold'\r\n                  }\r\n              },\r\n              labelLine: {},\r\n              data: data0\r\n          },\r\n          {\r\n              name: '访问来源',\r\n              type: 'pie',\r\n              center: ['50%', '50%'],\r\n              radius: ['55%', '60%'],\r\n              animation: false,\r\n              data: data1\r\n          }\r\n      ],\r\n  };\r\n \r\n\r\n    // 使用刚指定的配置项和数据显示图表。\r\n    myChart.setOption(option);\r\n    window.addEventListener(\"resize\",function(){\r\n        myChart.resize();\r\n    });"}