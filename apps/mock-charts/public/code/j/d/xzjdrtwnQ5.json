{"code":"\n\nfunction getVirtulData() {\n    var today = echarts.number.parseDate(new Date());\n    var dayTime = 3600 * 24 * 1000;\n    var thatday = today - dayTime * 31;\n\n    var data = [];\n    for (var time = thatday; time < today; time += dayTime) {\n        data.push([\n            echarts.format.formatTime('yyyy-MM-dd', time),\n            Math.floor(Math.random() * 100)\n        ]);\n    }\n    return {\n        data,\n        today: echarts.format.formatTime('yyyy-MM-dd', today),\n        thatday: echarts.format.formatTime('yyyy-MM-dd', thatday)\n    };\n}\n\noption = {\n    // title: {\n    //     top: 30,\n    //     text: '2020年9月污染情况',\n    //     subtext: '安徽合肥',\n    //     left: 'center',\n    // },\n    visualMap: {\n        min: 0,\n        max: 100,\n        inRange: {\n            color: ['green','yellow', 'red']\n        },\n        // inRange: {\n        //     color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196027']\n        // },\n        show: false\n    },\n    backgroundColor: '#fff',\n    calendar: {\n        cellSize: [40, 30],\n        orient: 'vertical',\n        range: [getVirtulData()['thatday'], getVirtulData()['today']],\n        itemStyle: {\n            borderColor: '#fff',\n            borderWidth: 4\n        },\n        splitLine: {\n            show: false\n        },\n        // yearLabel: { show: false }\n        yearLabel: {\n            formatter: '2020年蓝天日历',\n            fontSize:12,\n            margin:30,\n            show:true,\n            color:'#000000'\n        },\n        monthLabel: {\n            show:true,\n            firstDay: 1,\n            align:'left',\n            position:'end',\n            nameMap: 'cn',\n            margin:5,\n            color:'#000000'\n        },\n        dayLabel: {\n            firstDay: 1,\n            margin:10,\n            nameMap: 'cn',\n            textStyle: {\n                color: '#000000'\n            }\n        }\n    },\n    series: {\n        type: 'heatmap',\n        coordinateSystem: 'calendar',\n        data: getVirtulData()['data'],\n        pointSize: 13,\n        itemStyle: {\n            normal: {\n                color: '#f4e925'\n            }\n        },\n        label: {\n            show: true,\n            formatter(params) {\n                return params.value[0].split('-')[2]\n            },\n            fontSize:10,\n            offset: [0, 0],\n            // color: '#000000'\n        }\n    }\n};\n"}