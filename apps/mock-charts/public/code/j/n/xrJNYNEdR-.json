{"code":"var type = '不合格';\r\nvar val = 80;\r\noption = {\r\n    tooltip: {\r\n        formatter: \"{a} <br/>{b} : {c}%\"\r\n    },\r\n    series: [{\r\n        //背景刻度\r\n        name: '背景刻度',\r\n        type: 'gauge',\r\n        splitNumber: 10, //刻度数量\r\n        min: 0,\r\n        max: 100,\r\n        radius: '70%', //刻度尺寸略小\r\n        endAngle: -45,\r\n        zlevel: 20,\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                width: 0,\r\n                shadowBlur: 0,\r\n                color: [\r\n                    [1, '#ccc']\r\n                ]\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: true,\r\n            lineStyle: {\r\n                color: '#ddd',\r\n                width: 1\r\n            },\r\n            length: 10,\r\n            splitNumber: 3\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            length: 20,\r\n            lineStyle: {\r\n                color: '#aaa'\r\n            }\r\n        },\r\n        axisLabel: {\r\n            show: false,\r\n        },\r\n        detail: {\r\n            show: false\r\n        }\r\n    }, {\r\n        //进度轴线\r\n        name: '进度',\r\n        type: 'gauge',\r\n        radius: '80%', //进度轴尺寸略大\r\n        endAngle: -45,\r\n        zlevel: 40,\r\n        animationEasing: 'bounceInOut',\r\n        animationDelay: function(idx) {\r\n            return idx * 1000;\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n            lineStyle: {\r\n                width: 0,\r\n                shadowBlur: 0,\r\n                color: [\r\n                    [1, '#ccc']\r\n                ]\r\n\r\n            }\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            show: false\r\n        },\r\n        detail: {\r\n            offsetCenter: [\r\n                0, '90%'\r\n            ], // x, y，单位px\r\n            textStyle: {\r\n                fontWeight: 400,\r\n                color: '#fa4936',\r\n                fontSize: 30\r\n            },\r\n            formatter: '{value}%'\r\n        },\r\n        pointer: {\r\n            show: true,\r\n            length: '70%',\r\n            width: 14\r\n        }, // 其他演示在itemStyle中调试\r\n        // 不是整个canvas的title\r\n        title: {\r\n            color: '#fa4936',\r\n            fontSize: 30,\r\n            fontWeight: 400,\r\n            offsetCenter: [0, '-50%']\r\n        },\r\n        data: [\r\n            // data数据为实时数据\r\n            {\r\n                name: type,\r\n                value: val\r\n            }\r\n        ]\r\n    }, {\r\n        name: '进度展示条',\r\n        type: 'pie',\r\n        radius: ['71%', '79%'],\r\n        avoidLabelOverlap: false,\r\n        silent: true,\r\n        startAngle: 225,\r\n        zlevel: 1,\r\n        animationEasing: 'bounceIn',\r\n        animationDelay: function(idx) {\r\n            return idx * 1000;\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: false\r\n            },\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        labelLine: {\r\n            normal: {\r\n                show: false\r\n            }\r\n        },\r\n        data: [{\r\n            // 展示数据\r\n            value: val * 2.7, //270(度数)*80(展示数据具体值)*0.01(百分占比常数)\r\n            name: '显示进度条',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: {\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                            offset: 0,\r\n                            color: '#f84fa6' // 0% 处的颜色\r\n                        }, {\r\n                            offset: 1,\r\n                            color: '#f88a4e' // 100% 处的颜色\r\n                        }],\r\n                        globalCoord: false // 缺省为 false\r\n                    },\r\n                    shadowColor: 'rgba(0, 0, 0, 0.2)',\r\n                    shadowBlur: 10\r\n                }\r\n            }\r\n        }, {\r\n            // 空白数据\r\n            value: 270 * (1 - val * 0.01), //270*(1-80*0.01)\r\n            name: '隐藏进度条',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#eaeaea',\r\n                    shadowColor: 'rgba(0, 0, 0, 0.1)',\r\n                    shadowBlur: 10\r\n                }\r\n            }\r\n        }, {\r\n            // 占位数据(写死)\r\n            value: 90,\r\n            name: '空白部分',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#eee'\r\n                }\r\n            }\r\n        }]\r\n    }]\r\n};"}