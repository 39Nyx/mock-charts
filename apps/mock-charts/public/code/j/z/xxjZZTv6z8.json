{"code":"\r\n// 散点图\r\n\r\n   var yAxis = ['星期一', '星期二', '星期三', '星期四', '星期五', '星期六', '星期日'];\r\n   var seriesData = [39, 31, 18, 12, 10, 10, 10];\r\n  var sumvalue = sum(seriesData);\r\n  var data = [];\r\n  for (var i = 0; i < yAxis.length; i++) {\r\n    data.push({\r\n      name: yAxis[i],\r\n      value: seriesData[i]\r\n    });\r\n  }\r\n  data.push({\r\n    name: '测试',\r\n    value: 0\r\n  }, {\r\n    name: '测试',\r\n    value: 0\r\n  }, {\r\n    name: '测试',\r\n    value: 0\r\n  }, {\r\n    name: '测试1',\r\n    value: 0\r\n  }, {\r\n    name: '测试1',\r\n    value: 0\r\n  });\r\n  function sum (seriesData) {\r\n    var s = 0;\r\n    for (var i = seriesData.length - 1; i >= 0; i--) {\r\n      s += seriesData[i];\r\n    }\r\n    return s;\r\n  }\r\n  var wordLength = (value) => {\r\n    var ret = ''; // 拼接加\\n返回的类目项\r\n    var maxLength = 4; // 每项显示文字个数\r\n    var valLength = value.length; // X轴类目项的文字个数\r\n    var rowN = Math.ceil(valLength / maxLength); // 类目项需要换行的行数\r\n    if (rowN > 1) { // 如果类目项的文字大于3,\r\n      for (var i = 0; i < rowN; i++) {\r\n        var temp = ''; // 每次截取的字符串\r\n        var start = i * maxLength; // 开始截取的位置\r\n        var end = start + maxLength; // 结束截取的位置\r\n        if (end >= valLength) {\r\n          temp = value.substring(start, end);\r\n        } else {\r\n          temp = value.substring(start, end) + '\\n';\r\n        }\r\n        ret += temp; // 凭借最终的字符串\r\n      }\r\n      return ret;\r\n    }\r\n    return value;\r\n  };\r\n  var offsetData = [\r\n    [50, 50],\r\n    [75, 80],\r\n    [70, 20],\r\n    [10, 45],\r\n    [30, 20],\r\n    [30, 80],\r\n    [95, 45],\r\n    [5, 10],\r\n    [50, 90],\r\n    [55, 10],\r\n    [95, 90],\r\n    [10, 90]\r\n  ];\r\n\r\n  var datas = [];\r\n  for (let n = 0; n < data.length; n++) {\r\n    var item = data[n];\r\n    if (item.name === '测试') {\r\n      var colortxtName = 'transparent';\r\n      var colortxtValue = 'transparent';\r\n      var size = 15;\r\n    } else if (item.name === '测试1') {\r\n      colortxtName = 'transparent';\r\n      colortxtValue = 'transparent';\r\n      size = 22;\r\n    } else {\r\n      colortxtName = '#F7B239';\r\n      colortxtValue = '#fff';\r\n      size = 60;\r\n    }\r\n    datas.push({\r\n      name: '{value|' + item.value + '万}' + '\\n' + '{name|' + wordLength(item.name) + '}',\r\n      value: offsetData[n],\r\n      symbolSize: item.value / sumvalue * 200 + size,\r\n      label: {\r\n        normal: {\r\n          color: 'red',\r\n          textStyle: {\r\n            fontSize: 14,\r\n            lineHeight: 20,\r\n            color: 'red'\r\n          },\r\n          rich: {\r\n            name: {\r\n              color: colortxtName,\r\n              fontSize: 14,\r\n              fontWeight: '400',\r\n              lineHeight: 20,\r\n              align: 'center'\r\n\r\n            },\r\n            value: {\r\n              color: colortxtValue,\r\n              fontSize: 14,\r\n              fontWeight: '400',\r\n              lineHeight: 20,\r\n              align: 'center'\r\n            }\r\n\r\n          }\r\n        }\r\n      },\r\n      itemStyle: {\r\n        normal: {\r\n          color: 'rgba(44,190,255,0.1)',\r\n          borderColor: 'rgb(39,187,252)',\r\n          borderWidth: '2'\r\n        }\r\n\r\n      }\r\n    });\r\n  }\r\n option = {\r\n     backgroundColor:'#000',\r\n    grid: {\r\n      show: false,\r\n      top: 12,\r\n      bottom: 14\r\n    },\r\n    xAxis: [{\r\n      gridIndex: 0,\r\n      type: 'value',\r\n      show: false,\r\n      min: 0,\r\n      max: 100,\r\n      nameLocation: 'middle',\r\n      nameGap: 5\r\n    }],\r\n    yAxis: [{\r\n      gridIndex: 0,\r\n      min: 0,\r\n      show: false,\r\n      max: 100,\r\n      nameLocation: 'middle',\r\n      nameGap: 10\r\n    }],\r\n\r\n    series: [\r\n      {\r\n        type: 'scatter',\r\n        symbol: 'circle',\r\n        symbolSize: 120,\r\n        label: {\r\n          normal: {\r\n            show: true,\r\n            formatter: '{b}',\r\n            textStyle: {\r\n              fontSize: '20'\r\n            }\r\n          }\r\n        },\r\n\r\n        itemStyle: {\r\n          normal: {\r\n            color: 'red'\r\n          }\r\n        },\r\n        data: datas\r\n      }\r\n    ]\r\n  };\r\n\r\n"}