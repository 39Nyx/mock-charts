{"code":"var originaldata = [{\n    \"value\": 60,\n    \"name\": \"移动端\",\n    \"children\": [{\n        \"value\": 40,\n        \"name\": \"苹果\"\n    }, {\n        \"value\": 10,\n        \"name\": \"安卓\"\n    }, {\n        \"value\": 10,\n        \"name\": \"塞班\"\n    }]\n}, {\n    \"value\": 40,\n    \"name\": \"PC\"\n}, {\n    \"value\": 40,\n    \"name\": \"平板\"\n}];\nvar color0 = ['#4A6DBF', '#15B3BC', '#FD4440'];\nvar data0 = [];\nfor (var i = 0; i < originaldata.length; i++) {\n    var obj = originaldata[i];\n    data0.push({\n        value: obj.value,\n        name: obj.name,\n        itemStyle: {\n            color: color0[i]\n        },\n        labelLine: {\n            length: 40,\n            length2: 10\n        }\n    });\n}\n\nvar color1 = ['rgba(244,156,31,0.3)', 'rgba(94,140,208,0.3)', 'rgba(198,52,157,0.3)'];\nvar data1 = [];\nfor (var i = 0; i < originaldata.length; i++) {\n    var obj = originaldata[i];\n    var kids = obj.children;\n    if (typeof(kids) === 'undefined') {\n        data1.push({\n            value: obj.value,\n            name: obj.name,\n            itemStyle: {\n                color: 'transparent'\n            }\n        });\n    } else {\n        for (var k = 0; k < kids.length; k++) {\n            var kid = kids[k];\n            data1.push({\n                value: kid.value,\n                name: kid.name,\n                itemStyle: {\n                    color: color1[k]\n                },\n                label: {\n                    normal: {\n                        position: 'outside',\n                        formatter: '{b} {d}% ',\n                        color: '#909090'\n                    }\n                }\n            });\n        }\n    }\n    // alert(k);\n}\n\noption = {\n    backgroundColor: '#161823',\n    series: [{\n            name: '访问来源',\n            type: 'pie',\n            animation: false,\n            radius: ['47%', '74%'],\n            label: {\n                normal: {\n                    position: 'outside',\n                    formatter: '{b} {d}% ',\n                    color: '#fff'\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: true\n                },\n            },\n            data: data0\n        },\n        {\n            name: '访问来源',\n            type: 'pie',\n            radius: ['74%', '84%'],\n            animation: false,\n            data: data1\n        }\n    ],\n};"}