{"code":"var posList = [\n    'left', 'right', 'top', 'bottom',\n    'inside',\n    'insideTop', 'insideLeft', 'insideRight', 'insideBottom',\n    'insideTopLeft', 'insideTopRight', 'insideBottomLeft', 'insideBottomRight'\n];\n\napp.configParameters = {\n    rotate: {\n        min: -90,\n        max: 90\n    },\n    align: {\n        options: {\n            left: 'left',\n            center: 'center',\n            right: 'right'\n        }\n    },\n    verticalAlign: {\n        options: {\n            top: 'top',\n            middle: 'middle',\n            bottom: 'bottom'\n        }\n    },\n    position: {\n        options: echarts.util.reduce(posList, function(map, pos) {\n            map[pos] = pos;\n            return map;\n        }, {})\n    },\n    distance: {\n        min: 0,\n        max: 100\n    }\n};\n\napp.config = {\n    rotate: 90,\n    align: 'left',\n    verticalAlign: 'middle',\n    position: 'insideBottom',\n    distance: 15,\n    onChange: function() {\n        var labelOption = {\n            normal: {\n                rotate: app.config.rotate,\n                align: app.config.align,\n                verticalAlign: app.config.verticalAlign,\n                position: app.config.position,\n                distance: app.config.distance\n            }\n        };\n        myChart.setOption({\n            series: [{\n                label: labelOption\n            }, {\n                label: labelOption\n            }, {\n                label: labelOption\n            }, {\n                label: labelOption\n            }]\n        });\n    }\n};\n\n\nvar labelOption = {\n\n};\n\nlet a1 = [{\n        name: '单货1',\n        value: 1,\n        year: 2018\n    },\n    {\n        name: '单货2',\n        value: 2,\n        year: 2018\n    }\n]\n\nlet a2 = [{\n    name: '单货4',\n    value: 4,\n    year: 2019\n}]\n\nlet a3 = [{\n        name: '单货1',\n        value: 5,\n        year: 2020\n    },\n    {\n        name: '单货2',\n        value: 6,\n        year: 2020\n    },\n    {\n        name: '单货4',\n        value: 7,\n        year: 2020\n    },\n    {\n        name: '单货3',\n        value: 8,\n        year: 2020\n    },\n]\n\nlet arr4 = [...a1, ...a2, ...a3];\nlet years = ['2018', '2019', '2020'];\nlet names = ['单货1', '单货2', '单货3', '单货4']\n\nlet arr = [];\n\nyears.forEach(item => {\n    item = {\n        name: item,\n        type: 'bar',\n        barGap: 0,\n        label: labelOption,\n        data: []\n    }\n    names.forEach((me, index) => {\n        let find = arr4.find(so => {\n            console.log(so, item, me)\n            return so.name == me && so.year == item.name\n        })\n        if (find) {\n            item.data.push(find.value)\n        } else {\n            item.data.push(0)\n        }\n    })\n    arr.push(item)\n})\n\nconsole.log(arr)\noption = {\n    color: ['#003366', '#006699', '#4cabce', '#e5323e'],\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        }\n    },\n    legend: {\n        data: years\n    },\n    toolbox: {\n        show: true,\n        orient: 'vertical',\n        left: 'right',\n        top: 'center',\n        feature: {\n            mark: {\n                show: true\n            },\n            dataView: {\n                show: true,\n                readOnly: false\n            },\n            magicType: {\n                show: true,\n                type: ['line', 'bar', 'stack', 'tiled']\n            },\n            restore: {\n                show: true\n            },\n            saveAsImage: {\n                show: true\n            }\n        }\n    },\n    xAxis: [{\n        type: 'category',\n        axisTick: {\n            show: false\n        },\n        data: ['单货1', '单货2', '单货3', '单货4']\n    }],\n    yAxis: [{\n        type: 'value'\n    }],\n    series: arr\n};"}