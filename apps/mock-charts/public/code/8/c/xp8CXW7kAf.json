{"code":"var inputData = [\n    {value: 90, name: '展现'},\n    {value: 80, name: '点击'},\n    {value: 60, name: '访问'},\n    {value: 90, name: '咨询'},\n    {value: 70, name: '订单'}\n];\nvar ratio = 100;\nvar data = [];\nfor (var i = 1; i < inputData.length; ++i) {\n    ratio *= inputData[i].value / 100;\n    data.push({\n        value: ratio,\n        name: inputData[i].name\n    });\n}\n\noption = {\n    title: {\n        text: '漏斗图',\n        subtext: '纯属虚构'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: function (params) {\n            return inputData[params.dataIndex].name + '转化率：'\n                + inputData[params.dataIndex].value + '%';\n        }\n    },\n    toolbox: {\n        feature: {\n            dataView: {readOnly: false},\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    legend: {\n        data: ['展现','点击','访问','咨询','订单']\n    },\n\n    series: [\n        {\n            name:'漏斗图',\n            type:'funnel',\n            left: '10%',\n            top: 60,\n            //x2: 80,\n            bottom: 60,\n            width: '80%',\n            // height: {totalHeight} - y - y2,\n            min: 0,\n            max: 100,\n            minSize: '0%',\n            maxSize: '100%',\n            sort: 'none',\n            gap: 2,\n            label: {\n                show: true,\n                position: 'inside'\n            },\n            labelLine: {\n                length: 10,\n                lineStyle: {\n                    width: 1,\n                    type: 'solid'\n                }\n            },\n            itemStyle: {\n                borderColor: '#fff',\n                borderWidth: 1\n            },\n            emphasis: {\n                label: {\n                    fontSize: 20\n                }\n            },\n            data: data\n        }\n    ]\n};"}