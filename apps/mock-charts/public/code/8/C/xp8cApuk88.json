{"code":"//职称结构取数\r\nvar getsjjg = ['小说', '辅助教材', '期刊', '其他'];\r\nvar getsjjgrs = [30, 200, 20, 50];\r\n//职称结构图表\r\nvar colorList = ['#507AFF', '#51D9A2', '#FFC371', '#797AFF'];\r\nvar syjgdata = [];\r\nvar list = [];\r\nfor (var i = 0; i < getsjjg.length; i++) {\r\n    syjgdata.push({\r\n        name: getsjjg[i],\r\n        value: getsjjgrs[i]\r\n    })\r\n    list.push({\r\n        name: getsjjg[i],\r\n        value: getsjjgrs[i],\r\n        labelLine: {\r\n            lineStyle: {\r\n                color: colorList[i]\r\n            }\r\n        },\r\n        label: {\r\n            color: colorList[i]\r\n        }\r\n    })\r\n}\r\nvar rich = {\r\n    cir: {\r\n        padding: 0,\r\n        align: \"center\",\r\n        verticalAlign: \"middle\",\r\n        fontSize: 20,\r\n    }\r\n}\r\n\r\noption = {\r\n    series: [{\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                    return colorList[params.dataIndex]\r\n                }\r\n            }\r\n        },\r\n        type: 'pie',\r\n        radius: ['0%', '50%'],\r\n        center: [\"50%\", \"50%\"],\r\n        label: {\r\n            normal: {\r\n                show: false\r\n\r\n            }\r\n        },\r\n        data: syjgdata\r\n    }, {\r\n        itemStyle: {\r\n            normal: {\r\n                color: function(params) {\r\n                    return colorList[params.dataIndex]\r\n                }\r\n            }\r\n        },\r\n        type: 'pie',\r\n        silent: true, //取消高亮\r\n        radius: ['0%', '50%'],\r\n        center: [\"50%\", \"50%\"],\r\n        labelLine: {\r\n            normal: {\r\n                length: 30,\r\n                length2: 0,\r\n                lineStyle: {\r\n                    color: 'transparent'\r\n                }\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                padding: [-6, -6, -6, -6],\r\n                formatter: params => {\r\n                    return '{cir|●}';\r\n                },\r\n                rich: rich,\r\n            }\r\n        },\r\n\r\n        data: syjgdata,\r\n        z: -1\r\n    }, {\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'transparent'\r\n            }\r\n        },\r\n        type: 'pie',\r\n        silent: true, //取消高亮\r\n        radius: ['0%', '57%'],\r\n        center: [\"50%\", \"50%\"],\r\n        hoverAnimation: false, //取消动画效果\r\n        data: list,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                alignTo: 'labelLine',\r\n                color: \"inherit\"\r\n            }\r\n        },\r\n        labelLine: {\r\n            show: true,\r\n            length: 20,\r\n            length2: 100,\r\n            // color: \"inherit\",\r\n            showAbove: true\r\n        },\r\n        z: -1\r\n    }]\r\n};"}