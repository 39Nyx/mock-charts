{"code":"\n    var base = + new Date(2017,3,8);\n    var oneDay = 24*3600*1000;\n    var date = [];\n    var data = [Math.random()*150];\n    var now = new Date(base);\n    var day = 30;\n    function addData(shift){\n        now = [now.getFullYear(),now.getMonth()+1,now.getDate()].join('/');        \n        date.push(now);        \n        data.push((Math.random()-0.5)*10+data[data.length-1]);\n        if (shift) {\n            console.log(data);\n            date.shift();\n            data.shift();\n        }\n        now = new Date(+new Date(now)+oneDay);        \n    }\n\n    for (var i = 0; i < day; i++) {\n        addData();\n    }\n\noption = {\n    title:{\n            text:'ECharts 30天内数据实时更新'\n        },\n        xAxis:{\n            type:\"category\",\n            //boundaryGap:false,\n            data:date\n        },\n        yAxis:{\n            boundaryGap:[0,'100%'],\n            type:'value'\n        },\n        series:[{\n            name:'成交',\n            type:'bar',\n            smooth:true, //数据光滑过度\n            symbol:'none', //下一个数据点\n            stack:'a',\n            areaStyle:{\n                normal:{\n                    // color:'red'\n                }\n            },\n            data:data\n        }]\n};\nsetInterval(function(){\n        addData(true);\n        myChart.setOption({\n            xAxis:{\n                data:date\n            },\n            series:[{\n                name:'成交',\n                data:data\n            }]\n        });\n    },1000)"}