{"code":"let _rawData = [\n                [\n                    \"Income\",\n                    \"Country\",\n                    \"Year\"\n                ],\n                [\n                    1399,\n                    \"重点机构x\",\n                    2012\n                ],\n                [\n                    1651,\n                    \"物证x\",\n                    2012\n                ],\n                \n                [\n                    2269,\n                    \"重点机构x\",\n                    2013\n                ],\n                [\n                    1922,\n                    \"物证x\",\n                    2013\n                ],\n                \n                [\n                    3267,\n                    \"重点机构x\",\n                    2014\n                ],\n                [\n                    2202,\n                    \"物证x\",\n                    2014\n                ],\n                \n                [\n                    44056,\n                    \"重点机构x\",\n                    2015\n                ],\n                [\n                    43294,\n                    \"物证x\",\n                    2015\n                ]\n            ]\n\nlet countries = [\n    '重点机构x',\n    '物证x'\n];\nlet datasetWithFilters = [];\nlet seriesList = [];\nrun(_rawData)\nfunction run(_rawData) {\n  \n  echarts.util.each(countries, function (country) {\n    var datasetId = 'dataset_' + country;\n    datasetWithFilters.push({\n      id: datasetId,\n      fromDatasetId: 'dataset_raw',\n      transform: {\n        type: 'filter',\n        config: {\n          and: [\n            { dimension: 'Year', gte: 1950 },\n            { dimension: 'Country', '=': country }\n          ]\n        }\n      }\n    });\n    seriesList.push({\n      type: 'line',\n      datasetId: datasetId,\n      showSymbol: false,\n      name: country,\n      endLabel: {\n        show: true,\n        formatter: function (params) {\n          return params.value[1] + ': ' + params.value[0];\n        }\n      },\n      labelLayout: {\n        moveOverlap: 'shiftY'\n      },\n      emphasis: {\n        focus: 'series'\n      },\n      encode: {\n        x: 'Year',\n        y: 'Income',\n        label: ['Country', 'Income'],\n        itemName: 'Year',\n        tooltip: ['Income']\n      }\n    });\n  });\n  \n}\noption = {\n    animationDuration: 10000,\n    dataset: [\n      {\n        id: 'dataset_raw',\n        source: _rawData\n      },\n      ...datasetWithFilters\n    ],\n    color: ['red', '#ff0'],\n    tooltip: {\n          order: 'valueDesc',\n          trigger: 'axis',\n          backgroundColor: \"#1a252d\", //设置背景图片 rgba格式\n        //   color: \"#a8d5ff\",\n          borderWidth: \"1\", //边框宽度设置1\n          borderColor: \"#6bc7ef\", //设置边框颜色\n          textStyle: {\n            color: \"#a8d5ff\" //设置文字颜色\n          },\n          formatter: function(params, ticket, callback) {\n            console.log(params)\n            var res = '' + params[0].name;\n            for (var i = 0, l = params.length; i < l; i++) {\n              if(i == 2) {\n                res += '<br><span style=\"color:red;\">' + params[i].seriesName + ' : ' + params[i].value + '</span>';//给\n              } else {\n                res += '<br>' + params[i].seriesName + ' : ' + params[i].value;\n              }\n              \n            }\n            // setTimeout(function() {\n                // 仅为了模拟异步回调\n                callback(ticket, res);\n            // }, 1000)\n            // return 'loading';\n        }\n    },\n    xAxis: {\n      type: 'category',\n      nameLocation: 'middle'\n    },\n    yAxis: {\n    //   name: 'Income'\n    },\n    grid: {\n      right: 140\n    },\n    series: seriesList\n  };"}