{"code":"var myData=[]\r\nvar myLinks=[]\r\n\r\n// 初始化数据\r\nvar data=\r\n{\r\n\t\"wl_lx_ydhl_s002\": [\"wl_lx_ydhl_s001\"],\r\n\t\"wl_lx_ydhl_s003\": [\"wl_lx_ydhl_s002\"],\r\n\t\"wl_lx_ydhl_s001\": [],\r\n\t\"wl_lx_ydhl_s010\": [\"wl_lx_ydhl_s009\"],\r\n\t\"wl_lx_ydhl_s008\": [],\r\n\t\"wl_lx_ydhl_s009\": [\"wl_lx_ydhl_s008\"],\r\n\t\"wl_lx_ydhl_s006\": [\"wl_lx_ydhl_s005\"],\r\n\t\"wl_lx_ydhl_s007\": [\"wl_lx_ydhl_s005\"],\r\n\t\"wl_lx_ydhl_s004\": [\"wl_lx_ydhl_s003\"],\r\n\t\"wl_lx_ydhl_s005\": [\"wl_lx_ydhl_s002\"]\r\n}\r\n// 当前节点\r\nvar curCode = \"wl_lx_ydhl_s002\"\r\n\r\nlet i =0\r\nfor(let key in data){\r\n    var obj = {\r\n        category:1,\r\n        draggable:true,\r\n        id:key,\r\n        name:key,\r\n        value:''\r\n    }\r\n    if(data[key].length>0){\r\n        for(let index in data[key]){\r\n            var link={\r\n                source:key,\r\n                target:data[key][index],\r\n                value:''\r\n            }\r\n            myLinks.push(link)\r\n        }\r\n    }\r\n    if(key == curCode){\r\n        obj.category = 0\r\n    }\r\n    myData.push(obj)\r\n}\r\n\r\n\r\n// 编写echart参数\r\noption = {\r\n    title: {\r\n        text: '逻辑关系'\r\n    },\r\n    tooltip: {},\r\n    animationDurationUpdate: 1500,\r\n    animationEasingUpdate: 'quinticInOut',\r\n    label: {\r\n        normal: {\r\n            show: true,\r\n            textStyle: {\r\n                fontSize: 12\r\n            }\r\n        }\r\n    },\r\n    legend: {\r\n        x: 'center',\r\n        data: ['当前知识点', '可推荐知识点', ],\r\n        tooltip: {\r\n            show: true\r\n        }\r\n    },\r\n    series: [{\r\n        type: 'graph',\r\n        layout: 'force',\r\n        symbolSize: 45,\r\n        legendHoverLink: true,\r\n        focusNodeAdjacency: true,\r\n        roam: true,\r\n        categories: [{\r\n            name: '当前知识点',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#ff1931'\r\n                }\r\n            }\r\n        }, {\r\n            name: '可推荐知识点',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: '#d6c7d9'\r\n                }\r\n            }\r\n        }],\r\n        label: {\r\n            normal: {\r\n                color: '#050101',\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: 12\r\n                }\r\n            }\r\n        },\r\n        force: {\r\n            repulsion: 1000\r\n        },\r\n        edgeSymbol: ['circle', 'arrow'],\r\n        edgeSymbolSize: [4, 10],\r\n        edgeLabel: {\r\n            normal: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: 10\r\n                },\r\n                formatter: '{c}'\r\n            }\r\n        },\r\n        data: myData,\r\n        links: myLinks,\r\n        lineStyle: {\r\n            normal: {\r\n                opacity: 0.9,\r\n                width: 1,\r\n                curveness: 0\r\n            }\r\n        }\r\n    }]\r\n}"}