{"code":"var x = ['F>24', '18<F≤24', '12<F≤18', '6<F≤12', '0<F≤6'];\nvar y = ['R≤30', '30<R≤60', '60<R≤90', '90<R≤180', 'R>180'];\n\nvar data = [];\nvar min = Infinity;\nvar max = -Infinity;\nvar total = 0;\n\nfor (let i = 0; i < x.length; i++) {\n    for (let j = 0; j < y.length; j++) {\n        const v = Math.trunc(Math.random() * 1e3);\n        if (v < min) {\n            min = v;\n        }\n        if (v > max) {\n            max = v;\n        }\n        data.push([i, j, v]);\n        total += v;\n    }\n}\n\noption = {\n    tooltip: {},\n    grid: [\n        {\n            containLabel: false,\n            top: '15%',\n            right: '30%',\n            bottom: '30%',\n            left: '10%',\n        },\n        {\n            containLabel: false,\n            top: '15%',\n            right: '5%',\n            bottom: '30%',\n            left: '75%',\n        },\n        {\n            containLabel: false,\n            top: '80%',\n            right: '30%',\n            bottom: '10%',\n            left: '10%',\n        },\n        {\n            containLabel: false,\n            top: '80%',\n            right: '5%',\n            bottom: '10%',\n            left: '75%',\n        },\n    ],\n    xAxis: [\n        {\n            type: 'category',\n            name: '到站次数(F)',\n            gridIndex: 0,\n            nameGap: 0,\n            nameTextStyle: {\n                align: 'center',\n                verticalAlign: 'top',\n                padding: [14, 0, 0, 0],\n                color: '#444',\n            },\n            data: x,\n            axisLabel: {\n                margin: 14,\n                color: '#666',\n            },\n            splitArea: {\n                show: true,\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n        {\n            type: 'category',\n            gridIndex: 1,\n            position: 'top',\n            data: ['行合计'],\n            axisLabel: {\n                margin: 14,\n                color: '#666',\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n        {\n            type: 'category',\n            gridIndex: 2,\n            show: false,\n        },\n        {\n            type: 'category',\n            gridIndex: 3,\n            show: false,\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',\n            name: '最新到站(R)',\n            gridIndex: 0,\n            nameGap: 0,\n            nameTextStyle: {\n                align: 'right',\n                verticalAlign: 'bottom',\n                padding: [0, 14, 0, 0],\n                color: '#444',\n            },\n            data: y,\n            axisLabel: {\n                margin: 14,\n                color: '#666',\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n        {\n            type: 'category',\n            gridIndex: 1,\n            show: false,\n        },\n        {\n            type: 'category',\n            gridIndex: 2,\n            data: ['列合计'],\n            axisLabel: {\n                margin: 14,\n                color: '#666',\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n        {\n            type: 'category',\n            gridIndex: 3,\n            axisLabel: {\n                show: false,\n                margin: 14,\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n    ],\n    visualMap: [\n        {\n            min: 0,\n            max: max,\n            seriesIndex: 0,\n            padding: 0,\n            calculable: true,\n            orient: 'horizontal',\n            inverse: true,\n            top: '5%',\n            right: '30%',\n            itemWidth: 18,\n            itemHeight: 114,\n            inRange: {\n                color: ['#99d7ff', '#007bcb'],\n                symbolSize: [100, 100],\n            },\n            text: ['高', '低'],\n            textGap: 8,\n            textStyle: {\n                color: '#666',\n            },\n        },\n    ],\n    series: [\n        {\n            name: 'Punch Card',\n            type: 'heatmap',\n            data: data,\n            gridIndex: 0,\n            xAxisIndex: 0,\n            yAxisIndex: 0,\n            label: {\n                show: true,\n                formatter: (p) => {\n                    const v = p.value[2];\n                    return `${v} | ${((v / total) * 100).toFixed(2)}%`;\n                },\n                color: '#333',\n            },\n            itemStyle: {\n                borderWidth: 2,\n                borderColor: '#fff',\n            },\n        },\n        {\n            name: 'Punch Card',\n            type: 'heatmap',\n            data: [\n                [\n                    0,\n                    0,\n                    data.reduce((r, e) => {\n                        if (e[1] === 0) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    0,\n                    1,\n                    data.reduce((r, e) => {\n                        if (e[1] === 1) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    0,\n                    2,\n                    data.reduce((r, e) => {\n                        if (e[1] === 2) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    0,\n                    3,\n                    data.reduce((r, e) => {\n                        if (e[1] === 3) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    0,\n                    4,\n                    data.reduce((r, e) => {\n                        if (e[1] === 4) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n            ],\n            gridIndex: 1,\n            xAxisIndex: 1,\n            yAxisIndex: 1,\n            label: {\n                show: true,\n                formatter: (p) => {\n                    const v = p.value[2];\n                    return `${v} | ${((v / total) * 100).toFixed(2)}%`;\n                },\n                color: '#333',\n            },\n            itemStyle: {\n                borderWidth: 2,\n                borderColor: '#fff',\n                color: '#E0EAFB',\n            },\n        },\n        {\n            name: 'Punch Card',\n            type: 'heatmap',\n            data: [\n                [\n                    0,\n                    0,\n                    data.reduce((r, e) => {\n                        if (e[0] === 0) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    1,\n                    0,\n                    data.reduce((r, e) => {\n                        if (e[0] === 1) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    2,\n                    0,\n                    data.reduce((r, e) => {\n                        if (e[0] === 2) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    3,\n                    0,\n                    data.reduce((r, e) => {\n                        if (e[0] === 3) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n                [\n                    4,\n                    0,\n                    data.reduce((r, e) => {\n                        if (e[0] === 4) {\n                            r += e[2];\n                        }\n                        return r;\n                    }, 0),\n                ],\n            ],\n            gridIndex: 2,\n            xAxisIndex: 2,\n            yAxisIndex: 2,\n            label: {\n                show: true,\n                formatter: (p) => {\n                    const v = p.value[2];\n                    return `${v} | ${((v / total) * 100).toFixed(2)}%`;\n                },\n                color: '#333',\n            },\n            itemStyle: {\n                borderWidth: 2,\n                borderColor: '#fff',\n                color: '#E0EAFB',\n            },\n        },\n        {\n            name: 'Punch Card',\n            type: 'heatmap',\n            data: [[0, 0, total]],\n            gridIndex: 3,\n            xAxisIndex: 3,\n            yAxisIndex: 3,\n            label: {\n                show: true,\n                formatter: (p) => {\n                    const v = p.value[2];\n                    return `${v} | ${((v / total) * 100).toFixed(2)}%`;\n                },\n                color: '#333',\n            },\n            itemStyle: {\n                borderWidth: 1,\n                borderColor: '#009afe',\n                color: '#E0EAFB',\n            },\n        },\n    ],\n    backgroundColor: '#fff',\n};\n"}