{"code":"$.getJSON('/asset/get/s/data-1483975567865-BJOcimZIg.json', function(data) {\n\n    function getAirportCoord(idx) {\n        return [data.airports[idx][3], data.airports[idx][4]];\n    }\n    var routes = data.routes.slice(0,900).map(function(airline) {\n        return {\n            coords: [\n                getAirportCoord(airline[1]),\n                getAirportCoord(airline[2])\n            ],\n            value: Math.round(Math.random() * 100)\n        }\n    });\n    myChart.setOption({\n        timeline: {\n            axisType: 'category',\n            autoPlay: true,\n            data: ['2014','2015','2016','2017']  \n        },\n        baseOption:{\n            title:{\n                text:'境外资本流入',\n                textStyle:{\n                    color:'#fff'\n                },\n                left:'center',\n                top:20\n            },\n            visualMap:{\n                id:'lines',\n                type:'piecewise',\n                show:false,\n                seriesIndex:0,\n                splitNumber: 4,\n                max:100,\n                color:['#215096', '#3598c1', '#40a9ed', '#b7d6f3']\n            },\n            backgroundColor: '#000',\n           \n            globe: {\n                baseTexture: '/asset/get/s/data-1491837049070-rJZtl7Y6x.jpg',\n                heightTexture: '/asset/get/s/data-1491889019097-rJQYikcpl.jpg',\n                environment: '/asset/get/s/data-1499132777213-SyZdmO_4-.jpg',\n                shading: 'lambert',\n                globeRadius:70,\n                light: {\n                    ambient: {\n                        intensity: 0.4\n                    },\n                    main: {\n                        intensity: 0.4\n                    }\n                },\n    \n                viewControl: {\n                    autoRotate: true\n                }\n            },\n            series: [{\n                type: 'lines3D',\n                coordinateSystem: 'globe',\n                lineStyle: {\n                    width:1.5,\n                    opacity: 0.8\n                },\n                data: []\n            }]\n        },\n        options:[\n            {   \n                title:{text:'2014'},\n                series:[{data:routes.slice(0,5)}]\n            },{\n                title:{text:'2015'},\n                series:[{data:routes.slice(0,50)}]\n            },{   \n                title:{text:'2016'},\n                series:[{data:routes.slice(0,150)}]\n            },{\n                title:{text:'2017'},\n                series:[{data:routes}]\n            }\n        ],\n        \n    });\n});"}