{"code":"var uploadedDataURL = \"/asset/get/s/data-1504965328785-rJKAz_-cW.json\";\n\n$.get(uploadedDataURL, function(points) {\n    points = JSON.parse(points);\n    points = JSON.parse(points);\n    var colorList = ['#778899', '#FFD700', '#7CFC00', \"#00BFFF\", '#FF8C00', \"#FF0000\", \"#9400D3\"];\n    var labels = [\"0\", \"0~10\", \"10~20\", \"20~30\", \"30~50\", \"50~80\", \">80\"];\n    var series = labels.map((i, j) => {\n        var name = i;\n        var data = points[name];\n        for (var index in data) {\n            var tempArr = [];\n            var tempStr = String(data[index]);\n            tempArr.push(Number(tempStr.split(',')[0]));\n            tempArr.push(Number(tempStr.split(',')[1]));\n            tempArr.push(tempStr.split(',')[2]);\n            tempArr.push(tempStr.split(',')[3]);\n            data[index] = tempArr;\n        }\n        var color = colorList[j];\n        return {\n            name: name,\n            type: 'effectScatter',\n            coordinateSystem: 'bmap',\n            data: data,\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            itemStyle: {\n                normal: {\n                    color: color\n                }\n            },\n            blendMode: 'lighter'\n        }\n    });\n    myChart.setOption(option = {\n        animation: true,\n        bmap: {\n            center: [125.35, 43.86],\n            zoom: 12,\n            roam: true,\n            mapStyle: {\n                style: 'dark'\n            },\n        },\n        legend: {\n            orient: 'vertical',\n            bottom: '55',\n            left: '1',\n            backgroundColor: \"rgba(255,255,255,0.6)\",\n            data: labels.reverse(),\n            formatter: (name) => {\n                return '速度:' + name + 'km/h';\n            }\n        },\n        series: series,\n        tooltip: {\n            formatter: function(params) {\n                var retStr = '车牌号: ' + params.data[3] + '<br />经度: ' + params.data[0] + '   纬度: ' + params.data[1] + '<br />速度: ' + params.data[2] + '    km/h';\n                return retStr;\n            }\n        },\n    });\n});"}