{"code":"\r\nvar data = [{\r\n        value: 3,\r\n        name: '剩余寿命里程>60W'\r\n    },\r\n    {\r\n        value: 10,\r\n        name: '剩余寿命里程<20w'\r\n    },\r\n    {\r\n        value: 1,\r\n        name: '剩余寿命里程20w<>60w'\r\n    },\r\n];\r\nfunction getRich() {\r\n    let result = {}\r\n    colorArr.forEach((v, i) => {\r\n        result[`normal${i}`]={\r\n            fontSize: 18,\r\n            align: 'left',\r\n            padding: [10, 4],\r\n            color: '#ACCFFF',\r\n        },\r\n        result[`value${i}`]={\r\n            color: '#ACCFFF',\r\n            align: 'left',\r\n            fontSize: 14,\r\n            padding: [10, 4],\r\n        }\r\n    })\r\n    return result\r\n}\r\nvar colorArr = ['#F1E402', '#138AF5', '#2DD7FE']\r\noption = {\r\n    backgroundColor:'#021434',\r\n    color: colorArr,\r\n    series: [\r\n        {\r\n            name: '访问来源',\r\n            type: 'pie',\r\n            radius: ['50%', '70%'],\r\n            center: [\"43%\", \"50%\"],\r\n            selectedMode: 'single',\r\n            selectedOffset: 10,\r\n            clockwise: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: function(params, ticket, callback) {\r\n                        var percent = 0;\r\n                        var total = 0;\r\n                        var str=params.name\r\n                         var namePev = str.substr(0,5)\r\n                         var nameNext = str.substr(6,str.length-1)\r\n                        for (var i = 0; i < data.length; i++) {\r\n                            total += data[i].value;\r\n                        }\r\n                        percent = ((params.value / total) * 100).toFixed(0)+ '%';\r\n                            const index = params.dataIndex\r\n                        return  [`{value${index}|${namePev}}\\n{normal${index}|${nameNext}/${percent}}`].join('\\n');\r\n                    },\r\n                    padding: [0, -120,0,-120],\r\n                    rich: getRich()\r\n                }\r\n\r\n            },\r\n            labelLine: {\r\n                length: 40,\r\n                length2: 120,\r\n                lineStyle: {\r\n                    color: '#4B70C9',\r\n                }\r\n            },\r\n            itemStyle: {\r\n                normal: {\r\n                    shadowColor: \"rgba(0,0,0,0.4)\",\r\n                    shadowBlur: 15\r\n                }\r\n            },\r\n            data: data\r\n        }\r\n    ]\r\n};"}