{"code":"var names = ['1', '2', '3', '4', '5'];\nvar values = [\n    {\n        value:220,\n        itemStyle: {\n            normal: {\n                color:'#a2f2f2'\n            }\n        }\n    },{\n        value:220,\n        itemStyle: {\n            normal: {\n                color:'#0aacff'\n            }\n        }\n    },{\n        value:220,\n        itemStyle: {\n            normal: {\n                color:'#0ab120'\n            }\n        }\n    },{\n        value:220,\n        itemStyle: {\n            normal: {\n                color:'#e50ee6'\n            }\n        }\n    },{\n        value:220,\n        itemStyle: {\n            normal: {\n                color:'#e6cf1e'\n            }\n        }\n    }];\nvar color=['pink','#a2f2f2','#0aacff','#0ab120','#e50ee6','#e6cf1e'];\noption = {\n    color:color,\n    title: {\n        text: '柱形图----\\n--->图例和x轴数据相同&柱子颜色跟随图例.demo'\n    },\n    legend: {\n        show: true,\n        data: names\n    },\n    xAxis: {\n        data: [1, 2, 3, 4, 5]\n    },\n    yAxis: {},\n    series: [{\n        type: 'bar',\n        itemStyle:{\n          color:'green'  \n        },\n        data: values\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '1'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '2'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '3'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '4'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '5'\n    }]\n};\nmyChart.on('legendselectchanged', function(params) {\n    var option = {};\n    console.log(params);\n    var newNames = [];\n    var newValues = [];\n    for(var i = 0; i < names.length ;i ++){\n        if(params.selected[names[i]] == true){\n            newNames.push(names[i]);\n            newValues.push(values[i]);\n        }\n    }\n    \n    myChart.setOption({\n        xAxis: {\n        data: newNames\n    },\n    yAxis: {},\n    series: [{\n        type: 'bar',\n        data: newValues\n    }, {\n        type: 'scatter',\n        name: '1'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '2'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '3'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '4'\n    }, {\n        type: 'scatter',\n        data: [],\n        name: '5'\n    }]\n    })\n});"}