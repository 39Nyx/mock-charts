{"code":"var testData = [\r\n        {\r\n            name:\"书房\",\r\n            value:40,\r\n        },\r\n        {\r\n            name:\"客厅\",\r\n            value:20\r\n        },\r\n        {\r\n            name:\"厨房\",\r\n            value:10\r\n        },\r\n        {\r\n            name:\"卫生间\",\r\n            value:10\r\n        },\r\n        {\r\n            name:\"房间\",\r\n            value:45,\r\n            children:[\r\n                {name:\"主卧\",value:25},\r\n                {name:\"次卧\",value:20}\r\n            ]\r\n        }\r\n    ]\r\nfunction colorMappingChange(value) {\r\n        var levelOption = getLevelOption(value);\r\n        chart.setOption({\r\n            series: [{\r\n                levels: levelOption\r\n            }]\r\n        });\r\n    }\r\n\r\n    var formatUtil = echarts.format;\r\n\r\n    function getLevelOption() {\r\n        return [\r\n            {\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderWidth: 0,\r\n                        gapWidth: 5\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                itemStyle: {\r\n                    normal: {\r\n                        gapWidth: 1\r\n                    }\r\n                }\r\n            },\r\n            {\r\n                colorSaturation: [0.35, 0.5],\r\n                itemStyle: {\r\n                    normal: {\r\n                        gapWidth: 1,\r\n                        borderColorSaturation: 0.6\r\n                    }\r\n                }\r\n            }\r\n        ];\r\n    }\r\n\r\n    myChart.setOption(option = {\r\n        title:{\r\n            text:\"房间平面图\"\r\n        },\r\n        tooltip: {\r\n            formatter: function (info) {\r\n                var value = info.value;\r\n                var treePathInfo = info.treePathInfo;\r\n                var treePath = [];\r\n\r\n                for (var i = 1; i < treePathInfo.length; i++) {\r\n                    treePath.push(treePathInfo[i].name);\r\n                }\r\n\r\n                return [\r\n                    '<div class=\"tooltip-title\">' + formatUtil.encodeHTML(treePath.join('/')) + '</div>',\r\n                    '面积: ' + formatUtil.addCommas(value) + ' m²',\r\n                ].join('');\r\n            }\r\n        },\r\n\r\n        series: [\r\n            {\r\n                name:'平面图',\r\n                type:'treemap',\r\n                visibleMin: 300,\r\n                label: {\r\n                    show: true,\r\n                    formatter: '{b}'\r\n                },\r\n                itemStyle: {\r\n                    normal: {\r\n                        borderColor: '#fff'\r\n                    }\r\n                },\r\n                levels: getLevelOption(),\r\n                data: testData\r\n            }\r\n        ]\r\n    });"}