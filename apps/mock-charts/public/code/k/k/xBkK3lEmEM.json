{"code":"//数据\r\nvar all = {\r\n    \"data\": [\r\n        [537, 120, 110, 449, 691],\r\n        [145, 130, 917, 142, 665],\r\n        [341, 413, 282, 741, 300],\r\n        [441, 513, 672, 441, 500]\r\n    ],\r\n    \"rote\": [\r\n        [12.0, 13.4, 15.0, 44.9, 69.1],\r\n        [14.5, 13.0, 91.7, 12, 66.5],\r\n        [34.1, 41.3, 28.2, 74.1, 30.0],\r\n        [44.1, 51.3, 67.2, 44.1, 50.0]\r\n    ],\r\n    \"provinces\": [\"四川\", \"西藏\", \"云南\", \"贵州\", \"广西\"],\r\n    \"months\": [\"合计\", \"1月\", \"2月\", \"3月\"]\r\n};\r\n\r\n//series样式\r\nvar itemStyle = {\r\n    normal: {\r\n        color: new echarts.graphic.LinearGradient(\r\n            0, 1, 0, 0, [{\r\n                offset: 0,\r\n                color: '#2af598'\r\n            }, {\r\n                offset: 1,\r\n                color: '#009efd'\r\n            }]\r\n        ),\r\n        barBorderRadius: 4\r\n    },\r\n    emphasis: {\r\n        color: new echarts.graphic.LinearGradient(\r\n            0, 1, 0, 0, [{\r\n                offset: 0,\r\n                color: '#2af598'\r\n            }, {\r\n                offset: 1,\r\n                color: '#009efd'\r\n            }]\r\n        ),\r\n        barBorderRadius: 4\r\n    }\r\n};\r\n\r\n// echarts配置项\r\noption = {\r\n    timeline: {\r\n        axisType: 'category',\r\n        show: true,\r\n        autoPlay: false,\r\n        playInterval: 1000,\r\n        data: []\r\n    },\r\n    options: []\r\n};\r\n\r\n//循环数据\r\nfor (var n = 0; n < all.months.length; n++) {\r\n    option.timeline.data.push(all.months[n]);\r\n    option.options.push({\r\n        title: {\r\n            show: true,\r\n            text: all.months[n]\r\n        },\r\n        tooltip: {\r\n            trigger: 'axis'\r\n        },\r\n        legend: {\r\n            show: true,\r\n            x: 'right',\r\n            data: ['上客量', '百分比']\r\n        },\r\n        calculable: true,\r\n        grid: {\r\n            y: 80,\r\n            y2: 100\r\n        },\r\n        xAxis: [{\r\n            type: 'category',\r\n            axisLabel: {\r\n                interval: 0,\r\n                rotate: 45\r\n            },\r\n            data: all.provinces\r\n        }],\r\n        yAxis: [{\r\n            type: 'value',\r\n            name: '上客量(人)'\r\n        }, {\r\n            type: 'value',\r\n            name: '百分比(%)'\r\n        }],\r\n        series: [{\r\n            name: '上客量',\r\n            yAxisIndex: 0,\r\n            type: 'bar',\r\n            itemStyle: itemStyle,\r\n            barWidth:40,\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'top',\r\n                    formatter: '{c}'\r\n                }\r\n            },\r\n            data: all.data[n]\r\n        }, {\r\n            name: '百分比',\r\n            yAxisIndex: 1,\r\n            type: 'line',\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                    position: 'top',\r\n                    formatter: '{c}'+'%'\r\n                }\r\n            },\r\n            data: all.rote[n]\r\n        }]\r\n    });\r\n}\r\n\r\n//setOption\r\nmyChart.setOption(option);"}