{"code":"var types = [\n    '路基工程质量检验',\n    '桥梁工程质量检验',\n    '隧道工程质量检验',\n    '路面工程质量检验',\n    '交安工程质量检验',\n];\nvar names = ['TJ-01', 'TJ-02', 'TJ-03', 'TJ-04', 'TJ-05', 'TJ-06', 'TJ-07', 'TJ-8'];\n\nvar data = [\n    [0, 0, 5],\n    [0, 1, 1],\n    [0, 2, 6],\n    [0, 3, 2],\n    [0, 4, 4],\n    [1, 0, 7],\n    [1, 1, 2],\n    [1, 2, 5],\n    [1, 3, 7],\n    [1, 4, 2],\n    [2, 0, 1],\n    [2, 1, 1],\n    [2, 2, 4],\n    [2, 3, 2],\n    [2, 4, 3],\n    [3, 0, 5],\n    [3, 1, 4],\n    [3, 2, 7],\n    [3, 3, 4],\n    [3, 4, 4],\n    [4, 0, 1],\n    [4, 1, 3],\n    [4, 2, 4],\n    [4, 3, 8],\n    [4, 4, 5],\n    [5, 0, 2],\n    [5, 1, 1],\n    [5, 2, 3],\n    [5, 3, 2],\n    [5, 4, 4],\n    [6, 0, 1],\n    [6, 1, 1],\n    [6, 2, 5],\n    [6, 3, 10],\n    [6, 4, 5],\n    [7, 0, 7],\n    [7, 1, 6],\n    [7, 2, 5],\n    [7, 3, 3],\n    [7, 4, 4],\n];\n\ndata = data.map(function (item) {\n    return [item[1], item[0], item[2] || '-'];\n});\n\noption = {\n    tooltip: {\n        position: 'top',\n    },\n    animation: false,\n    grid: {\n        height: '50%',\n        top: '10%',\n    },\n    xAxis: {\n        type: 'category',\n        data: types,\n        splitArea: {\n            show: true,\n        },\n    },\n    yAxis: {\n        type: 'category',\n        data: names,\n        splitArea: {\n            show: true,\n        },\n    },\n    visualMap: {\n        type: 'continuous',\n        min: 0,\n        max: 10,\n        calculable: true,\n        orient: 'horizontal',\n        left: 'center',\n        bottom: '15%',\n        inRange: {\n            color: ['#ebedf0', '#c6e48b', '#7bc96f', '#239a3b', '#196027']\n        },\n    },\n    series: [\n        {\n            name: '检验完成情况',\n            type: 'heatmap',\n            data: data,\n            label: {\n                show: true,\n                formatter(params){\n                    return params.value[2] * 10 + '%'\n                }\n            },\n            emphasis: {\n                itemStyle: {\n                    shadowBlur: 10,\n                    shadowColor: 'rgba(0, 0, 0, 0.5)',\n                },\n            },\n            tooltip: {\n                formatter: function(params) {\n                    console.log(params)\n                    var title = params.seriesName\n                    var x = params.name\n                    var y = names[params.value[1]]\n                    var point = params.value[2]\n                    return `${title}:${point*10}%<br>标段：${y}<br>类型：${x}<br>`\n                }\n            }\n        },\n    ],\n};\n"}