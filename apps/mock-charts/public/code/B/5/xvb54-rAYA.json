{"code":"\r\nvar  getname= ['优秀', '合格','基本合格', '不合格'];\r\n\r\nvar getvalue = [4, 2, 2, 3];\r\n\r\n// var getbl = [40, 21, 19, 20];\r\n\r\nvar data = [];\r\n\r\nvar sum=0;\r\n\r\nfor (var i = 0; i < getname.length; i++) {\r\n sum = sum +  getvalue[i];\r\n    data.push({ name: getname[i], value: getvalue[i] });\r\n}\r\n\r\nvar colorList = ['#1890FF', '#B9A9FF', '#12DDA1', '#FFB026'];\r\n\r\nvar colorList1 = ['#1183ED', '#A793FF', '#00CF92', '#EF9D0F'];\r\nvar colorList2 = ['#1890FF', '#B9A9FF', '#12DDA1', '#FFB026'];\r\n\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item',\r\n\r\n        show: false,\r\n    },\r\n\r\n    legend: {\r\n        type: 'scroll',\r\n\r\n        orient: 'vertical',\r\n\r\n        height: '88%',\r\n\r\n        right: '20%',\r\n\r\n        top: 'center',\r\n\r\n        icon: 'circle',\r\n\r\n        itemWidth: 18,\r\n\r\n        itemHeight: 18,\r\n\r\n        itemGap: 20,\r\n\r\n        data: getname,\r\n\r\n        formatter: function (name) {\r\n            for (var i = 0; i < getname.length; i++) {\r\n                if (name == data[i].name) {\r\n                    // return '{name|' + name + '}{value|' + getvalue[i] + '次}{rate|' + getbl[i].toFixed(0) + '%}';\r\n                    return '{name|' + name + '}{value|' + getvalue[i] + '次}{rate|' + (((data[i].value)/sum)*100).toFixed(0) + '%}';\r\n                }\r\n            }\r\n        },\r\n\r\n        textStyle: {\r\n            rich: {\r\n                name: {\r\n                    fontSize: 16,\r\n\r\n                    fontWeight: 400,\r\n\r\n                    width: 50,\r\n\r\n                    height: 35,\r\n\r\n                    padding: [0, 0, 0, 10],\r\n\r\n                    color: '#666666',\r\n                },\r\n\r\n                value: {\r\n                    fontSize: 16,\r\n\r\n                    fontWeight: 400,\r\n\r\n                    width: 50,\r\n\r\n                    height: 35,\r\n\r\n                    padding: [0, 0, 0, 20],\r\n\r\n                    color: '#333333',\r\n                },\r\n\r\n                rate: {\r\n                    fontSize: 16,\r\n\r\n                    fontWeight: 500,\r\n\r\n                    height: 35,\r\n\r\n                    width: 55,\r\n\r\n                    align: 'left',\r\n\r\n                    color: '#666666',\r\n                },\r\n            },\r\n        },\r\n    },\r\n\r\n    series: [\r\n        {\r\n            type: 'pie',\r\n\r\n            radius: ['35%', '55%'],\r\n\r\n            center: ['25%', '50%'],\r\n\r\n            itemStyle: {\r\n                normal: {\r\n                    color: function (params) {\r\n                        return colorList1[params.dataIndex];\r\n                    },\r\n                },\r\n            },\r\n            label: {\r\n                fontSize: 13,\r\n                color: '#333',\r\n                // color: function (params) {\r\n                //     return colorList2[params.dataIndex];\r\n                // },\r\n                formatter: function (param) {\r\n                    return param.name + '{per' + param.dataIndex + '|' + param.percent.toFixed(0) + '%}';\r\n                    // return '{name|' + name + '}{value|' + getvalue[i] + '次}{rate|' + getbl[i].toFixed(0) + '%}';\r\n                },\r\n                // 自定义富文本样式\r\n                rich: {\r\n                    per0: {\r\n                        padding: [0, 0, 0, 5],\r\n                        fontSize: 16,\r\n                        fontWeight: 'bold',\r\n                        color: '#1890FF',\r\n                    },\r\n                    per1: {\r\n                        padding: [0, 0, 0, 5],\r\n                        fontSize: 16,\r\n                        fontWeight: 'bold',\r\n                        color: '#B9A9FF',\r\n                    },\r\n                    per2: {\r\n                        padding: [0, 0, 0, 5],\r\n                        fontSize: 16,\r\n                        fontWeight: 'bold',\r\n                        color: '#12DDA1',\r\n                    },\r\n                    per3: {\r\n                        padding: [0, 0, 0, 5],\r\n                        fontSize: 16,\r\n                        fontWeight: 'bold',\r\n                        color: '#FFB026',\r\n                    },\r\n                    // per4: {\r\n                    //     padding: [0, 0, 0, 5],\r\n                    //     fontSize: 13,\r\n                    //     fontWeight: 'bold',\r\n                    //     color: '#FD4D63',\r\n                    // },\r\n                },\r\n            },\r\n\r\n            labelLine: {\r\n                show: true,\r\n                // show: false,\r\n                length: 20,\r\n                length2: 50,\r\n            },\r\n\r\n            data: data,\r\n        },\r\n        {\r\n            type: 'pie',\r\n\r\n            radius: ['30%', '40%'],\r\n\r\n            center: ['25%', '50%'],\r\n\r\n            itemStyle: {\r\n                normal: {\r\n                    color: function (params) {\r\n                        return colorList1[params.dataIndex];\r\n                    },\r\n                },\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                },\r\n            },\r\n            labelLine: {\r\n                normal: {\r\n                    show: false,\r\n                },\r\n            },\r\n\r\n            data: data,\r\n        },\r\n    ],\r\n};\r\n\r\nreturn option;"}