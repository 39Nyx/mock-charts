{"code":"// var fadianliang=[\n//                 {\"TIME\":\"\",\"NAME\":\"华能云南分公司\",\"VAL\":\"2.0253\",\"PID\":\"\"},\n//                 {\"TIME\":\"\",\"NAME\":\"小湾水电站\",\"VAL\":\"0.2140\",\"PID\":\"华能云南分公司\"},\n//                 {\"TIME\":\"\",\"NAME\":\"漫湾水电站\",\"VAL\":\"0.1101\",\"PID\":\"华能云南分公司\"},\n//                 {\"TIME\":\"\",\"NAME\":\"景洪水电站\",\"VAL\":\"0.2909\",\"PID\":\"华能云南分公司\"},\n//                 {\"TIME\":\"\",\"NAME\":\"龙开口水电站\",\"VAL\":\"0.2696\",\"PID\":\"华能云南分公司\"},\n//                 {\"TIME\":\"\",\"NAME\":\"濡扎渡水电站\",\"VAL\":\"0.4654\",\"PID\":\"华能云南分公司\"},\n//                 {\"TIME\":\"\",\"NAME\":\"功果桥水电站\",\"VAL\":\"0.2005\",\"PID\":\"华能云南分公司\"}\n//                 ];\n// var node=[];\n// var links=[];\n// var color=[\"#F89A56\" , \"#30C25B\", \"#66B4FF\" , \"#FF4464\" , \"#9AE65B\"];\n// var d=fadianliang[0].TIME;\n// for(var i=0 ; i<fadianliang.length; i++)\n// {\n//     //model.nodes的值\n//     var nodes={};\n//     nodes[\"name\"]=fadianliang[i].NAME;\n//     nodes[\"value\"]=fadianliang[i].VAL;\n//     nodes[\"itemStyle\"]={\"normal\":{\"color\":color[i%5]}};\n//     node[i]=nodes;\n//     //model.links的值\n//     if (i>0){\n//         var links2={};\n//         links2[\"source\"]=fadianliang[i].PID;\n//         links2[\"target\"]=fadianliang[i].NAME;\n//         links2[\"value\"]=fadianliang[i].VAL;\n//         links2[\"lineStyle\"]={\"normal\":{\"color\":color[i%5],\"opacity\":0.3}};\n//         links[i-1]=links2;\n//     }\n    \n// }\n\nvar node=[\n        {name:\"华能云南分公司\",itemStyle:{color: \"#F89A56\"}},\n        {name:\"小湾水电站\",itemStyle:{color: \"#30C25B\"}},\n        {name:\"漫湾水电站\",itemStyle:{color: \"#66B4FF\"}},\n        {name:\"景洪水电站\",itemStyle:{color: \"#FF4464\"}},\n        {name:\"龙开口水电站\",itemStyle:{color: \"#9AE65B\"}},\n        {name:\"濡扎渡水电站\",itemStyle:{color: \"#F89A56\"}},\n        {name:\"功果桥水电站\",itemStyle:{color: \"#30C25B\"}},\n    ];\nvar links=[\n        {source:\"华能云南分公司\",target:\"小湾水电站\",value:\"0.2140\",lineStyle:{color: \"#30C25B\", opacity: 0.3}},\n        {source:\"华能云南分公司\",target:\"漫湾水电站\",value:\"0.1101\",lineStyle:{color: \"#66B4FF\", opacity: 0.3}},\n        {source:\"华能云南分公司\",target:\"景洪水电站\",value:\"0.2909\",lineStyle:{color: \"#FF4464\", opacity: 0.3}},\n        {source:\"华能云南分公司\",target:\"龙开口水电站\",value:\"0.2696\",lineStyle:{color: \"#9AE65B\", opacity: 0.3}},\n        {source:\"华能云南分公司\",target:\"濡扎渡水电站\",value:\"0.4654\",lineStyle:{color: \"#F89A56\", opacity: 0.3}},\n        {source:\"华能云南分公司\",target:\"功果桥水电站\",value:\"0.2005\",lineStyle:{color: \"#30C25B\", opacity: 0.3}},\n    ];\nvar model={\"nodes\":node,\"links\":links};\nmyChart.showLoading();\n//$.getJSON(uploadedDataURL, function (data) {\nmyChart.hideLoading();\n\nmyChart.setOption(option = {\n\tbackgroundColor:\"#071A38\",\n    tooltip: {\n        trigger: 'item',\n        triggerOn: 'mousemove'\n    },\n    grid:{\n        right: 60,\n    },\n    formatter:function(params){\n        return params.name + '：' + params.value + '万kW.h';\n    },\n    series: [{\n        type: 'sankey',\n        layout:'none',\n        data: model.nodes,\n        links: model.links,\n        itemStyle: {\n            normal: {\n                borderWidth: 1,\n                borderColor: '#aaa'\n            }\n        },\n        lineStyle: {\n            normal: {\n                curveness: 0.5,\n                color: 'source',\n            }\n        },\n        label: {\n            normal: {\n                fontSize:12,\n                color:'#D4E8FF',\n                formatter: function(params) {\n                    if(params.name=='华能云南水电有限公司'){\n                        return  d + '日发电量：' + params.value + '亿kW.h';\n                    }else{\n                        return params.name + '\\n' + params.value + '亿kW.h';\n                    }\n                }\n            }\n        }\n    }]\n});\n"}