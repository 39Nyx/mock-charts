{"code":"// 画圈开始位置\r\nlet startAngle = 90;\r\nlet series = [];\r\nlet datas = {\r\n    datasArr: [{\r\n            name: \"A区\",\r\n            value: 9\r\n        },\r\n        {\r\n            name: \"B区\",\r\n            value: 16.5\r\n        },\r\n        {\r\n            name: \"C区\",\r\n            value: 12\r\n        },\r\n        {\r\n            name: \"D区\",\r\n            value: 25\r\n        },\r\n        {\r\n            name: \"E区\",\r\n            value: 61.5\r\n        },\r\n    ]\r\n}\r\nlet legend = [];\r\n// 里到外颜色\r\nlet colors = [\"rgba(49, 164, 255)\", \"rgba(66, 195, 175,1)\", \"rgba(249, 224, 21)\", \"orange\", \"red\", ];\r\nlet datasArr = datas.datasArr;\r\ndatasArr.forEach(function(item, index) {\r\n    // 图例\r\n    legend.push(item.name);\r\n    // 圈大小\r\n    let radius = [10 + index * 10 + index + '%', 18 + index * 10 + index + '%'];\r\n    // 上面彩色圈\r\n    let upCircle = {\r\n        // name: item.name,\r\n        type: 'pie',\r\n        radius,\r\n        center: ['50%', '50%'],\r\n        z: 2,\r\n        startAngle,\r\n        data: [\r\n            // 占比的一边\r\n            {\r\n                hoverOffset: 1,\r\n                value: item.value,\r\n                name: item.name,\r\n                itemStyle: {\r\n                    color: colors[index],\r\n                },\r\n                label: {\r\n                    normal: {\r\n                        show: false,\r\n                    },\r\n                },\r\n                labelLine: {\r\n                    normal: {\r\n                        smooth: false,\r\n                        lineStyle: {\r\n                            width: 0\r\n                        }\r\n                    }\r\n                },\r\n                hoverAnimation: false,\r\n            },\r\n            // 另外一边\r\n            {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    normal: {\r\n                        smooth: true,\r\n                        lineStyle: {\r\n                            width: 0\r\n                        }\r\n                    }\r\n                },\r\n                value: 100 - item.value,\r\n                hoverAnimation: false,\r\n                itemStyle: {\r\n                    color: 'rgba(0,0,0,0)',\r\n                },\r\n            }\r\n        ]\r\n    };\r\n    // 下面一圈\r\n    let downCircle = {\r\n        type: 'pie',\r\n        radius,\r\n        center: ['50%', '50%'],\r\n        z: -1,\r\n        data: [{\r\n            hoverOffset: 0,\r\n            value: item.value,\r\n            name: '',\r\n            itemStyle: {\r\n                color: 'rgba(229, 229, 229,1)',\r\n            },\r\n            label: {\r\n                show: false\r\n            },\r\n            tooltip:false,\r\n            labelLine: {\r\n                normal: {\r\n                    smooth: true,\r\n                    lineStyle: {\r\n                        width: 0\r\n                    }\r\n                }\r\n            },\r\n            hoverAnimation: false,\r\n        }, ]\r\n    };\r\n    series.push(upCircle, downCircle);\r\n})\r\nconsole.log(\"legend\",legend,series)\r\noption = {\r\n    backgroundColor: '#fff',\r\n    lenend: {\r\n        icon: \"circle\",\r\n        orient: \"vertical\",\r\n        right: \"15%\",\r\n        top: \"20%\",\r\n        itemWidth:10,\r\n        itemHeight:10,\r\n        textStyle: {\r\n            color: \"#000\",\r\n            fontSize:20\r\n        },\r\n        formatter: function(params) {\r\n            return \"11111111\"\r\n            // return params + \"     \" + objData[params].value + \"  \" + company;\r\n        },\r\n        data: legend\r\n    },\r\n    series\r\n};"}