{"code":"// 播放\nvar dot8543E0 =\n    'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABYUlEQVQ4T42TfXXCQBDEZxwgIShoHDR7BooEJMRBQQHUAQ5KDbDUAVXQSMDB9k16xzvyKPT+guzb337MLDF57t4CeAHQRcRcYZLfAI4APszsVKew/uPufUQsSa6UYGZnxd19loE9yXczeyt5F4C77wGczEzJfz53V7w1s8XYXa7QA5g9Si7UDDmb2ZaaOSJ2KSXNPj53F117WJvZcKudw+FwJNkLoJbUukYoAH2bRUSXZ17fWLaKtMykZV0pQ7XEo35HxEKLnRRp1LkAQ0qpmahRVJB0GklxgRqSl2LK/RcgQ5YRscqAEVwAWsa9EToAGwCf6qLyxu8Id5ao7T/LjdMClVJtkXGbUlKlooIcKdf19eKquBTaC1wbqTEzGerhc/ctgGE0UkWVD3Q0Ms94Aze01028AphfWXnSugyyIflVvCEZI+JJcJI7VS45V9eYlyNLL+RCAMUfA0lJp+Qra/8Av9T2fUP5hw0AAAAASUVORK5CYII=';\n// 暂停\nvar dotffa897 =\n    'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABAElEQVQ4T62T0VHDQAxEVx2kBDrAJbCuIHQQKohLSAeYDkwFUIFFCaECUgIdbEYenecgiYch8df5TvsknfYMV372W+/uKwBbAGsATZ7vAbwDeCH5XWt+ANx9A+AZwCuAgWQI4e4B6iStzawjORTIDAixpN7MHorwTHWNpI8aMgGy7C8AvCQusKgmIXfRTgHsAKxIdlVglNpngnmd/9HCgeRuAozjuDezTZ3d3UWyJJjX5U4kDW3bNmcDMugioD6/DeAWLVx3iTFGSYclDyyOMS/lT0YK2wB4IhnWxomV041v6fvayltJjznuSXwCqFxZfH8fe5I+zSxE/eJj+s/LPgJF2tcRaVQF3AAAAABJRU5ErkJggg==';\n// 每屏展示数据条数，从0开始\nvar zoomLength = 9;\nvar iconImg = dotffa897;\nvar temp = null;\nfunction initEchartIcon() {\n    if (temp) {\n        clearInterval(temp);\n    }\n    iconImg = iconImg == dotffa897 ? dot8543E0 : dotffa897;\n}\noption = {\n    color: ['#3398DB'],\n    title: {\n        text: 'Beijing AQI',\n    },\n    tooltip: {\n        trigger: 'axis',\n    },\n    toolbox: {\n        right: 30,\n        itemGap: 15,\n        feature: {\n            myTool1: {\n                show: true,\n                title: iconImg === dotffa897 ? '暂停' : '播放',\n                icon: iconImg,\n                onclick() {\n                    initEchartIcon();\n                },\n            },\n            saveAsImage: {\n                title: '下载图片',\n            },\n        },\n    },\n\n    dataZoom: [\n        {\n            type: 'inside',\n            startValue: 0,\n            endValue: zoomLength, // 每屏展示数据条数，从0开始\n        },\n        {\n            type: 'slider',\n            startValue: 0,\n            endValue: zoomLength,\n        },\n    ],\n    xAxis: {\n        data: [\n            '2014-07-14',\n            '2014-07-15',\n            '2014-07-16',\n            '2014-07-17',\n            '2014-07-18',\n            '2014-07-19',\n            '2014-07-20',\n            '2014-07-21',\n            '2014-07-22',\n            '2014-07-23',\n            '2014-07-24',\n            '2014-07-25',\n            '2014-07-26',\n            '2014-07-27',\n            '2014-07-28',\n            '2014-07-29',\n            '2014-07-30',\n            '2014-07-31',\n            '2014-08-01',\n            '2014-08-02',\n        ],\n    },\n    yAxis: {\n        splitLine: {\n            show: false,\n        },\n    },\n    series: [\n        {\n            name: 'Beijing AQI',\n            type: 'bar',\n            data: [156, 140, 133, 186, 182, 106, 119, 68, 54, 82, 90, 134, 188, 194, 159, 159, 169, 244, 199, 163],\n        },\n    ],\n};\nvar currentIndex = -1;\nvar e = zoomLength; // 结束\nvar s = 0; // 开始\ntemp = setInterval(function () {\n    var dataLen0 = option.series[0].data.length;\n    var seriesCurrentIndex = 0;\n    for (let index = 0; index < option.series.length; index++) {\n        const element = option.series[index].data;\n        if (element[currentIndex + 1]) {\n            seriesCurrentIndex = index;\n            break;\n        }\n    }\n    // 取消之前高亮的图形\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: seriesCurrentIndex,\n        dataIndex: currentIndex,\n    });\n    var highlightIndex0 = (currentIndex + 1) % dataLen0;\n\n    currentIndex = highlightIndex0;\n    if (highlightIndex0 <= zoomLength || e > dataLen0) {\n        e = zoomLength;\n        s = 0;\n    } else {\n        e += 1;\n        s += 1;\n    }\n    myChart.dispatchAction({\n        type: 'dataZoom',\n        startValue: s,\n        endValue: e,\n    });\n    // 高亮当前图形\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: seriesCurrentIndex,\n        dataIndex: currentIndex,\n    });\n\n    // 显示 tooltip\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: seriesCurrentIndex,\n        dataIndex: currentIndex,\n    });\n}, 2000);\n"}