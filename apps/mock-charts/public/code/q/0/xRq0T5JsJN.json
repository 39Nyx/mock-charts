{"code":"// let levels = ['严重', '高危', '中危', '低危'];\n\nlet Datas = [23, 58, 65, 98];\nlet name = ['严重', '高危', '中危', '低危'];\nlet color = ['#d98986', '#f3b77b', '#f8c955', '#82b4a3'];\n\nlet series = [];\nlet max = eval(Datas.join(\"+\")); // 首先计算出所有等级的总数\n\nDatas.forEach((item, index) => {\n    console.log(max)\n    let bar;\n    if (item > 0) {\n        bar = {\n            name: name[index],\n            type: 'bar',\n            stack: '总量',\n            // 每条柱形的宽度\n            barWidth: '15%',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'inside',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: '14',\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: color[index],\n                },\n            },\n            data: [item],\n        }\n    } else {\n        bar = {\n            name: name[index],\n            type: 'bar',\n            stack: '总量',\n            // 每条柱形的宽度\n            barWidth: '15%',\n            label: {\n                normal: {\n                    show: false,\n                    position: 'inside',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: '14',\n                    },\n                },\n            },\n            itemStyle: {\n                normal: {\n                    color: color[index],\n                },\n            },\n            data: [item],\n        }\n    }\n    \n    series.push(bar)\n});\n\n// 指定图表的配置项和数据\noption = {\n    /*tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\n        },\n    },*/\n    /*legend: {\n        data: levels,\n    },*/\n    /*grid: {\n        left: '10%',\n        right: '10%',\n        bottom: '15%',\n        containLabel: true,\n    },*/\n    xAxis: {\n        type: 'value',\n        max: max,\n        show: false,\n    },\n    yAxis: {\n        type: 'category',\n        show: false,\n        data: [''],\n    },\n    series: series,\n};\n"}