{"code":"barColor=['#8F6EE8','#7F6EE8','#6E74E8','#6A8FF1','#62A4F0','#6AC5F1','#62D4E3','#73DFD9']\npersonFloorName=[{value:10,name:'F1'},{value:20,name:'F2'},{value:40,name:'F3'},{value:45,name:'F4'}]\noption = {\n    title: {\n        text: '圆环柱状图'\n    },\n    backgroundColor:'#fff',\n    polar: {\n            radius:['20%','90%']\n        },\n        angleAxis: {\n            show: false,\n            clockwise:false,\n            // min: function(value) {\n            //     return 5\n            // },\n            max: function(value) {\n                return value.max+2;\n            }\n        },\n        radiusAxis: {\n            type: 'category',\n            min: function(value) {\n                return -1\n            },\n            max: function(value) {\n                return value.max;\n            },\n            axisLabel: {\n                interval: 0,\n                color: function(value, index) {\n                    return barColor[index - 1];\n                },\n                fontSize: 10,\n                align:'left',\n                margin:'-10'\n            },\n            axisLine: {\n                show: false\n            },\n            axisTick: {\n                show: false,\n                alignWithLabel: true\n            },\n            splitLine: {\n                show: false\n            },\n            z:20,\n            data: [...personFloorName.map(d => d.name)],\n        },\n        series: [{\n                type: 'bar',\n                coordinateSystem: 'polar',\n                barWidth: 10, // 10条数据的时候 10\n                barGap:10,\n                showBackground: true,\n                backgroundStyle: {\n                    color: \"#F2F2F2\"\n                },\n                itemStyle: {\n                   color: function(params) {\n                      var idx=params.dataIndex;\n                        return barColor[idx]\n                    },\n                },\n                roundCap: true,\n                data: personFloorName\n            },\n            {\n                type: \"custom\",\n                coordinateSystem: 'polar',\n                renderItem: function(params, api) {\n                    var values = [api.value(0), api.value(1)];\n                    var coord = api.coord(values);\n                    return {\n                        type: 'text',\n                        position: [3 * Math.sin(coord[3]), 3 * Math.cos(coord[3])],\n                        rotation: coord[3] + Math.PI / 2,\n                        origin: [coord[0], coord[1]],\n                        style: {\n                            text: api.value(1),\n                            fill: '#333',\n                            fontSize: 10,\n                            textAlign: \"left\",\n                            textVerticalAlign: \"middle\",\n                            x: coord[0]+10,\n                            y: coord[1]\n                        }\n                    };\n                },\n                data: personFloorName\n            }\n        ]\n};"}