{"code":"option = {\n  title: {\n    show: false,\n    text: '',\n  },\n  tooltip: {\n    trigger: 'axis',\n  },\n  grid: {\n    top: '40',\n    right: '10',\n    left: '10',\n    bottom: '30',\n    containLabel: true,\n  },\n  dataGroupId: '',\n  animationDurationUpdate: 500,\n  xAxis: {\n    //坐标轴线\n    axisLine: {\n      show: false,\n    },\n    //坐标轴刻度相关设置\n    axisTick: {\n      show: false,\n      interval: 0,\n    },\n    //坐标轴刻度标签的相关设置\n    axisLabel: {\n      interval: 0,\n      align: 'center',\n      rotate: '20',\n      margin: '36',\n    },\n    triggerEvent: true,\n    data: ['北方公司', '蒙东公司', '滇东公司', '华亭煤业', '陕西矿业', '扎煤', '庆阳煤电'],\n  },\n  yAxis: {\n    type: 'value',\n  },\n  series: [\n    {\n      name: '报警数量',\n      type: 'bar',\n      barWidth: 35,\n      itemStyle: {\n        color: '#04e9ee',\n      },\n      universalTransition: {\n        //开启全局动画过度策略\n        enabled: true,\n        divideShape: 'clone',\n      },\n      data: [\n        {\n          value: 1,\n          groupId: '1',\n        },\n        {\n          value: 2,\n          groupId: '2',\n        },\n        {\n          value: 3,\n          groupId: '3',\n        },\n        {\n          value: 4,\n          groupId: '4',\n        },\n        {\n          value: 5,\n          groupId: '5',\n        },\n        {\n          value: 6,\n          groupId: '6',\n        },\n        {\n          value: 7,\n          groupId: '7',\n        },\n      ],\n    },\n  ],\n};\nconst drilldownData = [\n  {\n    dataGroupId: '1',\n    data: [\n      {\n        name: '第一矿',\n        val1: { value: 5, groupId: '1' },\n        val2: { value: 15, groupId: '1' },\n      },\n      {\n        name: '第二矿',\n        val1: { value: 8, groupId: '2' },\n        val2: { value: 12, groupId: '2' },\n      },\n      {\n        name: '第三矿',\n        val1: { value: 13, groupId: '3' },\n        val2: { value: 7, groupId: '3' },\n      },\n    ],\n  },\n  {\n    dataGroupId: '2',\n    data: [\n      {\n        name: '第四矿',\n        val1: { value: 5, groupId: '1' },\n        val2: { value: 15, groupId: '1' },\n      },\n      {\n        name: '第五矿',\n        val1: { value: 8, groupId: '2' },\n        val2: { value: 12, groupId: '2' },\n      },\n      {\n        name: '第六矿',\n        val1: { value: 13, groupId: '3' },\n        val2: { value: 7, groupId: '3' },\n      },\n    ],\n  },\n  {\n    dataGroupId: 'cars',\n    data: [\n      ['Toyota', 4],\n      ['Opel', 2],\n      ['Volkswagen', 2],\n    ],\n  },\n];\nmyChart.on('click', function (event) {\n  if (event.data) {\n    var subData = drilldownData.find(function (data) {\n      return data.dataGroupId === event.data.groupId;\n    });\n    if (!subData) {\n      return;\n    }\n    myChart.setOption({\n      xAxis: {\n        data: subData.data.map(function (item) {\n          return item.name;\n        }),\n      },\n      series: [\n        {\n          type: 'bar',\n          name: '设备离线',\n          barWidth: 35,\n          itemStyle: {\n            color: '#fed62a',\n          },\n          data: subData.data.map(function (item) {\n            return item.val1;\n          }),\n          universalTransition: {\n            enabled: true,\n            divideShape: 'clone',\n          },\n        },\n        {\n          type: 'bar',\n          name: '超排数量',\n          barWidth: 35,\n          itemStyle: {\n            color: '#21c546',\n          },\n          data: subData.data.map(function (item) {\n            return item.val2;\n          }),\n          universalTransition: {\n            enabled: true,\n            divideShape: 'clone',\n          },\n        },\n      ],\n      graphic: [\n        {\n          type: 'text',\n          left: 50,\n          top: 20,\n          style: {\n            text: 'Back',\n            fontSize: 18,\n          },\n          onclick: function () {\n            myChart.setOption(option, true);\n          },\n        },\n      ],\n    });\n  }\n});\n"}