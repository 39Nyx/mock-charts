{"code":"const chartData = [\n    { name: '其他', nd: 17, nm: 50, wm: 54 },\n    { name: '铁矿', nd: 17, nm: 60, wm: 10 },\n    { name: '煤炭', nd: 17, nm: 40, wm: 20 },\n    { name: '有色矿', nd: 17, nm: 46, wm: 54 },\n    { name: '汽车', nd: 17, nm: 46, wm: 54 },\n    { name: '散杂货', nd: 17, nm: 20, wm: 54 },\n];\nlet color = ['#4DB5F7', '#F5F500', '#01ECA4', '#EC0202'];\nlet sum = [],\n    pieSeries = [];\n// 数据处理\nchartData.forEach((v, i) => {\n    sum.push(v.nm + v.wm);\n});\nconst maxNum = Math.max(...sum) + Math.min(...sum);\n\nconst index = chartData.length;\n// 图表option整理\nchartData.forEach((v, i) => {\n    pieSeries.push({\n        name: '学历',\n        type: 'pie',\n        clockWise: true,\n        hoverAnimation: false,\n        radius: [70 - i * 10 + '%', 75 - i * 10 + '%'],\n        center: ['40%', '50%'],\n        label: {\n            show: false,\n        },\n        \n        itemStyle: {\n            normal: {\n                borderWidth: 0,\n            },\n\n            emphasis: {\n                borderWidth: 2,\n                shadowBlur: 8,\n                borderColor: '#00ffff',\n                shadowColor: '#00ffff',\n            },\n        },\n        data: [\n            {\n                ...v,\n                value: v.nm+v.wm,\n                value1:v.wm,\n                name: '内贸',\n                 itemStyle: {\n                    color: {\n    type: 'linear',\n    x:0,\n    y: v.wm/(v.nm+v.wm),\n    x2: 0,\n    y2: 0,\n    colorStops: [{\n        offset: 0, color: '#4DB5F7' // 0% 处的颜色\n    }, {\n        offset: v.wm/(v.nm+v.wm), color: '#F5F500' // 100% 处的颜色\n    }],\n    globalCoord: false // 缺省为 false\n}\n                },\n            },\n            // {\n            //     ...v,\n            //     value: v.wm,\n            //     name: '外贸',\n            // },\n            {\n                value: maxNum - v.nm - v.wm,\n                name: '',\n                itemStyle: {\n                    color: 'red',\n                },\n            },\n        ],\n        markLine: {\n            data: [\n                [\n                    {\n                        name: `${v.name} \\xa0\\xa0 年度${v.nd}%`,\n                        x: 20 + index * 0 + '%',\n                        y: '15%',\n                    },\n                    {\n                        x: 40 + index * 0 + '%',\n                        y: 5 * (i + 3) + '%',\n                    },\n                ],\n            ],\n            label: {\n                color: '#FFF',\n                fontSize: 10,\n                lineHeight: 10,\n                align: 'right',\n                padding: [-10, 16, 0, 0],\n            },\n            lineStyle: {\n                opacity: 0,\n            },\n        },\n        label: {\n            show: true,\n            position: 'outside',\n            formatter: function (data) {\n                console.log('data', data);\n                let labelHtml = '';\n                labelHtml = labelHtml + '{title|类型\\xa0\\xa0内贸\\xa0\\xa0外贸}';\n                return labelHtml;\n            },\n            rich: {\n                title: {\n                    fontSize: 12,\n                    color: '#FFFFFF',\n                    padding: [-30, -40, 0, -65],\n                },\n            },\n        },\n        labelLine: {\n            normal: {\n                show: true,\n                length: 28,\n                length2: 64,\n                align: 'right',\n                showAbove: false,\n            },\n        },\n    });\n});\n\noption = {\n    color: color,\n    grid: {\n        top: '12%',\n        bottom: '54%',\n        left: '30%',\n        containLabel: false,\n    },\n    tooltip: {\n        trigger: 'item',\n        textStyle: {\n            fontSize: 10,\n        },\n    },\n    legend: {\n        show: true,\n        right: '0',\n        top: 7,\n        itemWidth: 15,\n        itemHeight: 5,\n        textStyle: {\n            color: '#fff',\n            fontFamily: 'PingFang SC',\n            fontWeight: 400,\n            fontSize: 12,\n        },\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n            // data: lineYAxis,\n        },\n    ],\n    xAxis: [\n        {\n            show: false,\n        },\n    ],\n    series: pieSeries,\n};\n"}