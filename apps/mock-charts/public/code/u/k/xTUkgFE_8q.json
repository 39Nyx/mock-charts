{"code":"dataAll = (function() {\r\n    var res = [];\r\n    var len = 0;\r\n    while (len < 30) {\r\n        res.push((Math.random() * 3 + 5).toFixed(1) - 0);\r\n        len++;\r\n    }\r\n    return res;\r\n})()\r\n\r\ndate = (function() {\r\n    var now = new Date();\r\n    var res = [];\r\n    var len = 30;\r\n    while (len--) {\r\n        res.unshift(now.toLocaleTimeString().replace(/^\\D*/, ''));\r\n        now = new Date(now - 2000);\r\n    }\r\n    return res;\r\n})()\r\n\r\n\r\n\r\noption = {\r\n    title: {\r\n        text: '重绘面积图',\r\n        subtext: ''\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'cross',\r\n            label: {\r\n                backgroundColor: '#283b56'\r\n            }\r\n        }\r\n    },\r\n    legend: [],\r\n    toolbox: {\r\n        show: true,\r\n        feature: {\r\n            dataView: {\r\n                readOnly: false\r\n            },\r\n            restore: {},\r\n            saveAsImage: {}\r\n        }\r\n    },\r\n    dataZoom: {\r\n        show: false,\r\n        start: 0,\r\n        end: 100\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        data: date\r\n    }, ],\r\n    yAxis: [{\r\n        type: 'value',\r\n        scale: true,\r\n        name: '价格',\r\n        max: 30,\r\n        min: 0,\r\n        boundaryGap: [0.2, 0.2]\r\n    }],\r\n    series: [{\r\n            name: '重绘',\r\n            type: 'line',\r\n            smooth: false,\r\n            symbol: \"none\", // 隐藏点\r\n            data: [],\r\n            areaStyle: {\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: 'rgba(200, 200, 200,0.5)'\r\n                }, {\r\n                    offset: 1,\r\n                    color: 'rgba(200, 200, 200,0.5)'\r\n                }])\r\n            }\r\n        },\r\n        {\r\n            name: '完整',\r\n            type: 'line',\r\n            smooth: false, // 平滑\r\n            symbol: \"none\", // 隐藏点\r\n            data: dataAll,\r\n            show: false,\r\n            areaStyle: {\r\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\r\n                    offset: 0,\r\n                    color: 'rgba(200, 200, 200,0.2)'\r\n                }, {\r\n                    offset: 1,\r\n                    color: 'rgba(200, 200, 200,0.2)'\r\n                }])\r\n            },\r\n            markPoint: {\r\n                data: [{\r\n                    type: 'max',\r\n                    name: '最大值'\r\n                }]\r\n            },\r\n        }\r\n    ]\r\n};\r\n\r\ndata3 = [];\r\ntimer = setInterval(function() {\r\n\r\n    data3.push(dataAll.shift());\r\n    myChart.setOption({\r\n        series: [{\r\n            data: data3,\r\n            markPoint: {\r\n                symbol: 'circle',\r\n                symbolSize: 10,\r\n                label: {\r\n                    fontSize:16,\r\n                    color: '#000',\r\n                    formatter: data3[data3.length - 1] + '',\r\n                    offset: [0, -20]\r\n                },\r\n                itemStyle: {\r\n                    color: '#6c6c6c',\r\n                    // borderColor: 'white'\r\n                },\r\n                data: [{\r\n                    value: '',\r\n                    xAxis: data3.length - 1,\r\n                    yAxis: data3[data3.length - 1],\r\n\r\n                }]\r\n            }\r\n        }, ]\r\n\r\n    });\r\n    dataAll.length === 0 && clearInterval(timer);\r\n\r\n}, 500);"}