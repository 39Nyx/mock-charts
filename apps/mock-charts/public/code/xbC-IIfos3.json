{"code":"\nlet data = [{\n    name: '经济管理学院',\n    value: 4158,\n    count:8124\n},{\n    name: '生命与科学学院',\n    value: 6024,\n    count:10268\n},{\n    name: '自动化学院',\n    value: 7248,\n    count:11489\n},{\n    name: '外语外贸学院',\n    value: 6018,\n    count:9483\n},{\n    name: '电子信息与科技学院',\n    value: 7529,\n    count:9963\n}]\n\nlet yaxisData = []\nlet countList = []\ndata.map(item=>{\n    yaxisData.push(item.name)\n    countList.push(item.count)\n})\nlet max = Math.max(...countList)\nconsole.log(max)\n\nlet xData = [];\nlet yData = [];\nlet markPointData = []\nlet backgroundData = []\ndata.map((item, index) => {\n    xData.push(item.name);\n    yData.push({\n        value:item.value/item.count * max,\n        symbolBoundingData:max\n    })\n    backgroundData.push(max)\n})\n\noption = {\n    backgroundColor: '#051523',\n    xAxis: {\n        show: false,\n        max: max,\n        type: 'value',\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        },\n        splitLine: {\n            show: false\n        },\n\n    },\n    yAxis: {\n        type: 'category',\n        // data: data,\n        barWidth: 20,\n        inverse: false,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            textStyle:{\n                color:'rgba(134, 208, 255, 1)',\n                fontSize:13\n            }\n        },\n        data:yaxisData\n    },\n    series: [\n        {\n            type: 'bar',\n            data: data,\n            barWidth: 14,\n            itemStyle: {\n                normal: {\n                    color: 'rgba(252,252,252,0)',\n                }\n            },\n            z: 1\n        },\n        {\n            type: 'pictorialBar',\n            z: 3,\n            symbol: 'rect',\n            symbolSize: [5, 14],\n            symbolMargin: 2,\n            symbolClip: true,\n            symbolBoundingData: max,\n            data: yData,\n            symbolRepeat: 'fixed',\n            symbolPosition: 'start',\n            itemStyle: {\n                normal: {\n                    color: {\n                        x:0,\n                        y:0,\n                        x2:1,\n                        y2:0,\n                        colorStops:[{\n                            offset:0,\n                            color:'rgba(0, 102, 255, 1)'\n                        },{\n                            offset:1,\n                            color:'rgba(0, 210, 255, 1)'\n                        }]\n                    }\n                }\n            },\n        }, {\n            type: 'pictorialBar',\n            z: 2,\n            symbol: 'rect',\n            symbolSize: [5, 14],\n            symbolMargin: 2,\n            symbolClip: true,\n            symbolBoundingData: max,\n            data: backgroundData,\n            symbolRepeat: 'fixed',\n            symbolPosition: 'start',\n            itemStyle: {\n                normal: {\n                    color: 'rgba(84, 217, 255, 0.3)'\n                }\n            }\n        }\n    ]\n};"}