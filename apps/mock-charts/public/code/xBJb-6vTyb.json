{"code":"var builderJson = {\n  \"all\": 10887,\n  \"charts\": {\n    \"第十一段\": 3237,\n    \"第二段2分支\": 2164,\n    \"第二段1分支\": 7561,\n    \"第十段\": 7778,\n    \"第九段\": 7355,\n    \"第八段\": 2405,\n    \"第七段\": 1842,\n    \"第六段\": 2090,\n    \"第五段\": 1762,\n    \"第四段\": 1593,\n    \"第三分支\": 2060,\n    \"第二分支\": 1537,\n    \"第一分支\": 1908,\n    \"第三段\": 2107,\n    \"第二段\": 1692,\n    \"第一段\": 1568\n  },\n  \"components\": {\n    \"12\": 2788,\n    \"11\": 9575,\n    \"10\": 9400,\n    \"9\": 9466,\n    \"8\": 9266,\n    \"7\": 3419,\n    \"6\": 2984,\n    \"5\": 2739,\n    \"4\": 2744,\n    \"3\": 2466,\n    \"2\": 3034,\n    \"1\": 1945\n  },\n  \"ie\": 9743\n};\n\nvar downloadJson = {\n  \"高压\": 17365,\n  \"中压\": 4079,\n  \"中低压\": 6929,\n  \"次高压\": 14890\n}\n\nvar themeJson = {\n  \"设备故障\": 1594,\n  \"压力超低\": 925,\n  \"瞬时超高\": 1608,\n  \"泄漏报警\": 721,\n  \"计量校表\": 2179,\n  \"压力超高\": 1982\n}\n\noption = {\n    tooltip: {\n        \n    },\n    title: [{\n        text: '分段输差',\n        subtext: '总计 ' + builderJson.all,\n        x: '25%',\n        textAlign: 'center'\n    }, {\n        text: '波动',\n        subtext: '总计 ' + Object.keys(downloadJson).reduce(function (all, key) {\n            return all + downloadJson[key];\n        }, 0),\n        x: '75%',\n        textAlign: 'center'\n    }, {\n        text: '故障返回占比',\n        subtext: '总计 ' + Object.keys(themeJson).reduce(function (all, key) {\n            return all + themeJson[key];\n        }, 0),\n        x: '75%',\n        y: '50%',\n        textAlign: 'center'\n    }],\n    grid: [{\n        top: 50,\n        width: '50%',\n        bottom: '45%',\n        left: 10,\n        containLabel: true\n    }, {\n        top: '55%',\n        width: '50%',\n        bottom: 0,\n        left: 10,\n        containLabel: true\n    }],\n    xAxis: [{\n        type: 'value',\n        max: builderJson.all,\n        splitLine: {\n            show: false\n        }\n    }, {\n        type: 'value',\n        max: builderJson.all,\n        gridIndex: 1,\n        splitLine: {\n            show: false\n        }\n    }],\n    yAxis: [{\n        type: 'category',\n        data: Object.keys(builderJson.charts),\n        axisLabel: {\n            interval: 0,\n            rotate: 30\n        },\n        splitLine: {\n            show: false\n        }\n    }, {\n        gridIndex: 1,\n        type: 'category',\n        data: Object.keys(builderJson.components),\n        axisLabel: {\n            interval: 0,\n            rotate: 30\n        },\n        splitLine: {\n            show: false\n        }\n    }],\n    series: [{\n        type: 'bar',\n        stack: 'chart',\n        z: 3,\n        label: {\n            normal: {\n                position: 'right',\n                show: true\n            }\n        },\n        data: Object.keys(builderJson.charts).map(function (key) {\n            return builderJson.charts[key];\n        })\n    }, {\n        type: 'bar',\n        stack: 'chart',\n        silent: true,\n        itemStyle: {\n            normal: {\n                color: '#eee'\n            }  \n        },\n        data: Object.keys(builderJson.charts).map(function (key) {\n            return builderJson.all - builderJson.charts[key];\n        })\n    }, {\n        type: 'bar',\n        stack: 'component',\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        z: 3,\n        label: {\n            normal: {\n                position: 'right',\n                show: true\n            }\n        },\n        data: Object.keys(builderJson.components).map(function (key) {\n            return builderJson.components[key];\n        })\n    }, {\n        type: 'bar',\n        stack: 'component',\n        silent: true,\n        xAxisIndex: 1,\n        yAxisIndex: 1,\n        itemStyle: {\n            normal: {\n                color: '#eee'\n            }  \n        },\n        data: Object.keys(builderJson.components).map(function (key) {\n            return builderJson.all - builderJson.components[key];\n        })\n    }, {\n        type: 'pie',\n        radius: [0, '30%'],\n        center: ['75%', '25%'],\n        data: Object.keys(downloadJson).map(function (key) {\n            return {\n                name: key.replace('.js', ''),\n                value: downloadJson[key]\n            }\n        })\n    }, {\n        type: 'pie',\n        radius: [0, '30%'],\n        center: ['75%', '75%'],\n        data: Object.keys(themeJson).map(function (key) {\n            return {\n                name: key.replace('.js', ''),\n                value: themeJson[key]\n            }\n        })\n    }]\n}"}