{"code":"app.title = '项目部物资采购统计表';\r\n\r\nfunction suspensionFormatter(params, option) {\r\n    var result = '';\r\n    var series = option.series;\r\n    var year_xAxis = option.xAxis[0].data; //第一个X轴的值\r\n    var dataIndex = params[0].dataIndex;\r\n    var years = 4;\r\n\r\n    if (params.length > 0) {\r\n        result += params[0].name + \"</br>\";\r\n    }\r\n    for (var i = 0; i < years; i++) {\r\n        var index = dataIndex * years + i;\r\n        result += year_xAxis[i] + \"</br>\";\r\n        for (var p in series) {\r\n            if (p == '3')\r\n                continue;\r\n                \r\n            var dotHtml = '<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + option.color[p] + '\"></span>'\r\n            result += dotHtml + series[p].name + \"：\" + series[p].data[index] + \"%</br>\"\r\n        }\r\n    }\r\n\r\n\r\n    return result;\r\n}\r\noption = {\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow', // 默认为直线，可选为：'line' | 'shadow'\r\n        },\r\n        formatter: function(params) {\r\n            return suspensionFormatter(params, option);\r\n        }\r\n    },\r\n    color: ['#003366', '#006699', '#4cabce', '#e5323e'],\r\n    legend: {\r\n        data: ['COGS', 'ROS', 'SG&A']\r\n    },\r\n    grid: {\r\n        left: '3%',\r\n        right: '4%',\r\n        bottom: '30%',\r\n        containLabel: true\r\n    },\r\n    xAxis: [{\r\n            type: 'category',\r\n            axisPointer: {\r\n                type: 'none',\r\n                show: false\r\n            },\r\n            data: ['2014', '2015', '2016', '2017', '2014', '2015', '2016', '2017', '2014', '2015', '2016', '2017', '2014', '2015', '2016', '2017']\r\n        },\r\n        {\r\n            position: 'bottom',\r\n            offset: 30,\r\n            type: 'category',\r\n            data: ['OP', 'EAI', 'EAII', 'ACT'],\r\n            axisTick: {\r\n                inside: true,\r\n                length: 60,\r\n            },\r\n            axisLine: {\r\n                show: true\r\n            }\r\n        }\r\n\r\n    ],\r\n    yAxis: {\r\n        type: 'value'\r\n    },\r\n    series: [{\r\n            name: 'COGS',\r\n            type: 'bar',\r\n            stack: '总量',\r\n\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                }\r\n            },\r\n            data: [500, 302, 301, 222, 500, 302, 301, 222, 500, 302, 301, 222, 500, 302, 301, 222]\r\n        },\r\n        {\r\n            name: 'ROS',\r\n            type: 'bar',\r\n            stack: '总量',\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                }\r\n            },\r\n            data: [120, 680, 101, 222, 120, 680, 101, 222, 120, 680, 101, 222, 120, 680, 101, 222]\r\n        },\r\n        {\r\n            name: 'SG&A',\r\n            type: 'bar',\r\n            stack: '总量',\r\n            label: {\r\n                normal: {\r\n                    show: true,\r\n                }\r\n            },\r\n            data: [220, 182, 792, 222, 220, 182, 792, 222, 220, 182, 792, 222, 220, 182, 792, 222]\r\n        },\r\n        {\r\n            type: 'bar',\r\n            xAxisIndex: 1,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                }\r\n            },\r\n            data: [0, 0, 0, 0]\r\n        }\r\n    ]\r\n};"}