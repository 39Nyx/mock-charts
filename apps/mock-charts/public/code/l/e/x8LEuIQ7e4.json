{"code":"option = {\n    title: {\n        text: '温度'\n    },\n    tooltip: {\n        trigger: 'axis'\n    },\n    legend: {\n        data: ['供温', '回温', '均温']\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        bottom: '3%',\n        containLabel: true\n    },\n    toolbox: {\n        feature: {\n            // saveAsImage: {}\n        }\n    },\n    xAxis: {\n        type: 'category',\n        data: ['2020-11-03', '2020-11-04', '2020-11-05', '2020-11-06', '2020-11-07', '2020-11-08', '2020-11-09']\n    },\n    yAxis: {\n        type: 'value'\n    },\n    series: [\n        {\n            name: '供温',\n            type: 'line',\n            step: 'start',\n            data: [12, 13, 10, 13, 10, 23, 21]\n        },\n        {\n            name: '回温',\n            type: 'line',\n            step: 'middle',\n            data: [22, 28, 20, 23, 29, 43, 41]\n        },\n        {\n            name: '均温',\n            type: 'line',\n            step: 'end',\n            data: [45, 43, 40, 44, 59, 53, 51]\n        }\n    ]\n};\n    autoFn(option.xAxis.data.length)\n    function autoFn(leng){\n             var that = this\n            //轮播效果\n            var currentIndex = -1\n           \n            //  let myChart = echarts.getInstanceByDom(document.getElementById(\"chart-panel\"))\n            var dataLen =leng\n\n            that.timer = setInterval(() => {\n                //  计时器增加\n                that.ai++\n\n                if (that.ai == dataLen) {\n                    that.ai = 1\n                }\n                 console.log(dataLen)\n                // 取消之前高亮的图形\n                myChart.dispatchAction({\n                    type: 'downplay',\n                    seriesIndex: 0,\n                    dataIndex: currentIndex,\n                })\n                currentIndex = (currentIndex + 1) % dataLen\n                // 高亮当前图形\n                myChart.dispatchAction({\n                    type: 'highlight',\n                    seriesIndex: 0,\n                    dataIndex: currentIndex,\n                })\n                // 显示 tooltip\n              myChart.dispatchAction({\n                    type: 'showTip',\n                    seriesIndex: 1,\n                    dataIndex: currentIndex,\n                })\n            }, 3000)\n    }\n    "}