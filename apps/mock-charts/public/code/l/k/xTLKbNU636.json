{"code":"var lishui = '/asset/get/s/data-1540377628167-ud3UjK0aB.json';\n\n$.get(lishui, function (geoJson) {\n    echarts.registerMap('ls', geoJson);\n    var geoCoordMap = {\n        缙云县: [120.27, 28.65],\n        青田县: [120.11, 28.15],\n    };\n    var data = [\n        { name: '缙云县', value: 250 },\n        { name: '青田县', value: 330 },\n    ];\n    var convertData = function (data) {\n        var res = [];\n        for (var i = 0; i < data.length; i++) {\n            var geoCoord = geoCoordMap[data[i].name];\n            if (geoCoord) {\n                res.push({\n                    name: data[i].name,\n                    value: geoCoord.concat(data[i].value),\n                });\n            }\n        }\n        return res;\n    };\n    myChart.setOption(\n        (option = {\n            title: {\n                text: '丽水市地图',\n                left: 'center',\n                top: '2%',\n                textStyle: {\n                    color: '#fff',\n                },\n            },\n            backgroundColor: '#070d18',\n\n            geo: {\n                map: 'ls',\n                show: true,\n                roam: false,\n                label: {\n                    emphasis: {\n                        show: false,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        areaColor: '#031525',\n                        borderColor: '#1773c3',\n                        shadowColor: '#031525',\n                        shadowBlur: 20,\n                    },\n                },\n                zoom: 1.2,\n            },\n            series: [\n                {\n                    type: 'map',\n                    map: 'ls',\n                    geoIndex: 1,\n                    aspectScale: 0.75, //长宽比\n                    showLegendSymbol: true, // 存在legend时显示\n                    zoom: 1.2,\n                    label: {\n                        normal: {\n                            formatter: '{b}',\n                            show: true,\n                            textStyle: {\n                                color: '#fff',\n                            },\n                        },\n                        emphasis: {\n                            show: false,\n                            textStyle: {\n                                color: '#05C3F9',\n                            },\n                        },\n                    },\n                    roam: false,\n                    itemStyle: {\n                        normal: {\n                            areaColor: 'transparent',\n                            borderColor: '#3B5077',\n                            borderWidth: 1,\n                        },\n                        emphasis: {\n                            areaColor: '#070d18',\n                            shadowColor: '#1773c3',\n                            shadowBlur: 20,\n                        },\n                    },\n                },\n\n                {\n                    name: '点',\n                    type: 'scatter',\n                    coordinateSystem: 'geo',\n                    symbol: 'pin',\n                    symbolSize: function (val) {\n                        return val[2] / 4;\n                    },\n                    label: {\n                        normal: {\n                            show: true,\n                            formatter: function (value) {\n                                return value.value[2];\n                            },\n                            textStyle: {\n                                color: '#fff',\n                                fontSize: 12,\n                            },\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#F62157', //标志颜色\n                        },\n                    },\n                    zlevel: 6,\n                    data: convertData(data),\n                },\n                {\n                    name: '',\n                    type: 'effectScatter',\n                    coordinateSystem: 'geo',\n                    data: convertData(data),\n                    symbolSize: function (val) {\n                        return val[2] / 20;\n                    },\n                    showEffectOn: 'render',\n                    rippleEffect: {\n                        brushType: 'stroke',\n                    },\n                    hoverAnimation: true,\n                    label: {\n                        normal: {\n                            show: false,\n                        },\n                        emphasis: {\n                            formatter: function (value) {\n                                return value.name + ':' + value.value[2];\n                            },\n                            position: 'right',\n                            show: true,\n                        },\n                    },\n                    itemStyle: {\n                        normal: {\n                            color: '#05C3F9',\n                            shadowBlur: 10,\n                            shadowColor: '#05C3F9',\n                        },\n                    },\n                    zlevel: 1,\n                },\n            ],\n        })\n    );\n}).error(function () {\n    alert('地图的geoJSON获取失败，请运行服务器');\n});\n"}