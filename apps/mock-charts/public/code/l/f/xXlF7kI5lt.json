{"code":"// 值\r\nlet num=70;\r\n// 通过值控制圆环缺口\r\nlet arr=[85,15];\r\n// 圆环起始角度\r\nlet startAngle=-((arr[1]/100)*360)/2;\r\nlet radius=[\"42%\", \"44%\"];\r\nlet radius2=[\"56%\", \"58%\"];\r\nlet radius3='53%';\r\n      option = {\r\n         backgroundColor:'rgba(0,0,0,1)',\r\n         title:{\r\n            text:'进度：'+num ,\r\n            textStyle:{\r\n                color:'#fff',\r\n                fontSize:40\r\n            },\r\n            top:'47%',\r\n            left:'60%'\r\n         },\r\n        polar: [\r\n          {\r\n            radius: [\"33.5%\", \"63%\"],\r\n            center: [\"50%\", \"50%\"],\r\n          },\r\n        ],\r\n\r\n        angleAxis: {\r\n          max: 100,\r\n          show: false,\r\n          inverse: false,\r\n        },\r\n        radiusAxis: {\r\n          type: \"category\",\r\n          show: true,\r\n          axisLabel: {\r\n            show: false,\r\n          },\r\n          axisLine: {\r\n            show: false,\r\n          },\r\n          axisTick: {\r\n            show: false,\r\n          },\r\n        },\r\n\r\n        series: [\r\n          //极坐标柱状图\r\n          {\r\n            type: \"pie\",\r\n            zlevel: 0,\r\n            silent: true,\r\n            startAngle: startAngle,\r\n            radius: radius,\r\n            z: 1,\r\n            label: {\r\n              normal: {\r\n                show: false,\r\n              },\r\n            },\r\n            labelLine: {\r\n              normal: {\r\n                show: false,\r\n              },\r\n            },\r\n            itemStyle: {\r\n              color: (params) => {\r\n                if (params.data == 15) {\r\n                  return \"transparent\";\r\n                } else {\r\n                  return '#FFAE46';\r\n                }\r\n              },\r\n            },\r\n            data: arr,\r\n          },\r\n          {\r\n            type: \"pie\",\r\n            zlevel: 0,\r\n            silent: true,\r\n            startAngle: startAngle,\r\n            radius: radius2,\r\n            z: 1,\r\n            label: {\r\n              normal: {\r\n                show: false,\r\n              },\r\n            },\r\n            labelLine: {\r\n              normal: {\r\n                show: false,\r\n              },\r\n            },\r\n            itemStyle: {\r\n              color: (params) => {\r\n                if (params.data == 15) {\r\n                  return \"transparent\";\r\n                } else {\r\n                  return '#FFAE46';\r\n                }\r\n              },\r\n            },\r\n            data: arr,\r\n          },\r\n\r\n          //分割刻度\r\n          {\r\n            type: \"gauge\",\r\n            radius: radius3,\r\n            clockwise: false,\r\n            startAngle: startAngle,\r\n            endAngle: 360+startAngle-0.000001,\r\n            splitNumber: 30,\r\n            detail: {\r\n              offsetCenter: [0, 0],\r\n              formatter: \" \",\r\n            },\r\n            pointer: {\r\n              show: false,\r\n            },\r\n            axisLine: {\r\n              show: true,\r\n              lineStyle: {\r\n                color: [\r\n                  [0, \"#fff\"],\r\n                  [-startAngle / 180, \"transparent\"],\r\n                  [(100/(arr[0]/100) - num) / (100/(arr[0]/100)), \"rgba(53,53,53,.3)\"],\r\n                  [1, \"#FFAE46\"],\r\n                ],\r\n                width: 26,\r\n                shadowColor: \"#FFAE46\",\r\n                shadowBlur: 1,\r\n              },\r\n            },\r\n            axisTick: {\r\n              show: false,\r\n            },\r\n            splitLine: {\r\n              show: true,\r\n              length: 26,\r\n              distance:-26,\r\n              lineStyle: {\r\n                color: \"rgba(0,0,0,1)\",\r\n                width: 4,\r\n              },\r\n            },\r\n            axisLabel: {\r\n              show: false,\r\n            },\r\n          },\r\n        ],\r\n      };"}