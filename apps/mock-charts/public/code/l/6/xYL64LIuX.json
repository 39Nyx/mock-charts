{"code":"var uploadedDataURL = \"/asset/get/s/data-1576655009916-by_DuGU2.json\";\nmyChart.showLoading();\nvar data = [];\n$.getJSON(uploadedDataURL, function(geoJson) {\n    echarts.registerMap('广东', geoJson);\n    data = geoJson.features.map((item) => {\n        return {\n            value: (Math.random() * 1000).toFixed(2),\n            name: item.properties.name\n        }\n    });\n    myChart.hideLoading();\n    option = {\n        tooltip: {\n            backgroundColor: 'rgba(0,0,0,0)',\n            trigger: 'item',\n        },\n        legend: {\n            show: false,\n        },\n        series: [{\n            tooltip: {\n                trigger: 'item',\n                formatter: function(item) {\n                    var tipHtml = '';\n                    tipHtml = '<div style=\"background:#fff;border-radius:10px;padding-top:10px;box-shadow:0 0 10px #666\">' +\n                        '<div style=\"color:#fff;height:20px;border-radius:6px;font-size:12px;line-height:20px;background-color:#5861a2;text-align:center;margin:0 2px;\">' + item.data.name + '</div>' +\n                        '<div style=\"text-align:center;color:#494949;padding:8px 6px\">' +\n                        '<span style=\"font-size:18px;font-weight:bold;\">' + item.data.value + ' ' + '</span>' +\n                        '</div>' + '</div>';\n                    return tipHtml;\n                }\n            },\n            name: '广东省数据',\n            type: 'map',\n            map: '广东', // 自定义扩展图表类型\n            aspectScale: 1,\n            zoom: 0.65, //缩放\n            showLegendSymbol: false,\n            label: {\n                show: true,\n                color: '#fff',\n                fontSize: 10\n            },\n            itemStyle: {\n                areaColor: '#0E95F1',\n                borderColor: '#e9e9e9',\n                borderWidth: 1,\n                shadowColor: '#0E95F1',\n                shadowBlur: 20,\n            },\n            emphasis: {\n                label: {\n                    show: true,\n                    color: '#fff',\n                    fontSize: 10\n                },\n                itemStyle: {\n                    areaColor: '#FFD181',\n                    borderColor: '#fff',\n                    borderWidth: 1\n                }\n            },\n            layoutCenter: ['50%', '50%'],\n            layoutSize: '160%',\n            markPoint: {\n                symbol: 'none'\n            },\n            data: data,\n        }],\n    }\n    myChart.setOption(option);\n    showTips('广州市');\n})\n// 默认鼠标移出canvas后显示广州的tooltip信息\nmyChart.on(\"globalout\", () => {\n    setTimeout(() => {\n        showTips('广州市')\n    }, 5000)\n})\n\nfunction showTips(name) {\n    data.forEach((item, i) => {\n        if (item.name.includes(name)) {\n            myChart.dispatchAction({\n                type: 'showTip',\n                seriesIndex: 0,\n                dataIndex: i\n            });\n            myChart.dispatchAction({\n                type: 'mapSelect',\n                seriesIndex: 0,\n                dataIndex: i\n            });\n        }\n    })\n}"}