{"code":"data = {\n    info: {\n        title: '单位燃料及动力成本对比及趋势分析',\n        subtitle: '组织分布（N-1级组织分布情况）',\n        yAxis: {\n            yAxisCount: 2,\n            yAxisName: ['单位生产成本 （单位：元）', '单位燃料及动力成本变化率'],\n            isPercent: [false, true],\n        },\n        series: {\n            seriesCount: 4,\n            stack: ['0', '1', '', ''],\n            type: ['bar', 'bar', 'line', 'line'],\n            yAxisIndex: [0, 0, 1, 1],\n            color: ['#7494d4', '#bcdcfc', '#7494d4', '#bcdcfc'],\n            isPercent: [false, false, true, true],\n        },\n    },\n    results: [\n        ['工业园', '单位动力成本', '单位燃料成本', '单位动力成本', '单位燃料成本'],\n        ['5月', 280, 269, 0.9, 0.85],\n        ['6月', 275, 269, 0.92, 0.9],\n        ['7月', 270, 273, 1.1, 0.97],\n        ['8月', 265, 265, 0.98, 0.95],\n        ['9月', 260, 265, 0.9, 0.88],\n    ],\n};\n\nconst {\n    info: {\n        title,\n        subtitle,\n        yAxis: { yAxisCount, yAxisName, isPercent },\n        series: { seriesCount, stack, type, yAxisIndex, color },\n    },\n    results,\n} = data;\n\noption = {\n    title: {\n        text: title,\n        subtext: subtitle,\n        textStyle: {\n            color: 'black',\n            fontWeight: 'bolder',\n            fontSize: 20,\n        },\n        subtextStyle: {\n            color: 'black',\n            fontWeight: 'bolder',\n            fontSize: 15,\n        },\n        left: '3%',\n        top: '3%',\n    },\n    xAxis: {\n        type: 'category',\n    },\n    dataset: {\n        source: results,\n    },\n    grid: {\n        left: '10%',\n        right: '10%',\n        top: '20%',\n        bottom: '10%',\n    },\n    legend: {\n        right: '10%',\n        top: '10%',\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow',\n        },\n        formatter: (params) => {\n            console.log(params);\n            let html = '';\n            html += `${params[0].axisValueLabel} <br>`;\n            params.forEach((val, i) => {\n                let value = val.value[val.encode.y[0]];\n                const { marker, seriesName, seriesType } = val;\n                if (seriesType === 'line') value = `${(value * 100).toFixed(2)}%`;\n                if (seriesType === 'bar') value = value.toLocaleString('zh', { maximumFractionDigits: 2 });\n                html += `${marker} ${seriesName}: ${value} <br>`;\n            });\n            return html;\n        },\n    },\n};\n\nlet series = [];\nfor (let i = 0; i < seriesCount; i += 1) {\n    series.push({\n        stack: stack[i],\n        type: type[i],\n        yAxisIndex: yAxisIndex[i],\n        itemStyle: { color: color[i] },\n    });\n}\n\nlet yAxis = [];\nfor (let i = 0; i < yAxisCount; i += 1) {\n    yAxis.push({\n        type: 'value',\n        name: yAxisName[i],\n        nameRotate: 90,\n        nameLocation: 'center',\n        nameGap: 40,\n        nameTextStyle: {\n            color: 'black',\n            fontWeight: 'bolder',\n            fontSize: 15,\n        },\n        scale: true,\n        splitLine: {\n            lineStyle: {\n                color: 'white',\n            },\n        },\n    });\n}\n\noption.series = series;\noption.yAxis = yAxis;\n"}