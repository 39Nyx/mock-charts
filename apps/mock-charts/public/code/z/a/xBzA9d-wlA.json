{"code":"var data = [\n    ['01', 85.11],\n    ['02', 36.61],\n    ['03', 27.26],\n    ['04', 6.72],\n    ['05', 36.37],\n    ['06', 80.13],\n    ['07', 20.88],\n    ['08', 97.15],\n\n];\n\nlet type = [] //1蓝色拐点，0红色拐点\nlet symbolArr = [];\nvar dataa = [];\nfor (var i = 0; i < data.length; i++) {\n    dataa.push(data[i][1])\n    type.push(data[i][1])\n}\nconsole.log(type)\ntype.forEach(function(v, i) {\n    symbolArr[i] = {\n        value: dataa[i],\n        symbolSize: v == 97.15 ? 13 : 0,\n        itemStyle: {\n            normal: {\n                color: v == 97.15 ? '#E4007F' : '#1572E9',\n                shadowBlur: 50,\n                shadowColor: '#333'\n            }\n        }\n    };\n});\nconsole.log(symbolArr)\ndata.push(['', avg])\nvar sum = 0;\nvar data3 = [];\nfor (var i = 0; i < data.length - 1; i++) {\n    data3.push(data[i][1])\n    sum += data[i][1]\n}\nvar avg = sum / data.length;\n// console.log(avg)\n\nvar data1 = data\nvar data2 = [];\ndata2\nfor (var i = 0; i < data.length - 2; i++) {\n    data2.push('')\n}\ndata2.push(data[data.length - 2][1])\ndata2.push(data1[data1.length - 2][1])\n// console.log(data1)\nconsole.log(data3)\n//======= x轴===========\nvar data4 = [];\nfor (var i = 0; i < data.length; i++) {\n    data4.push(data[i][0])\n}\noption = {\n\n    tooltip: {\n        trigger: 'axis',\n        formatter: function(params) {\n            if (params.length === 1) {\n                if (params[0].seriesName === 'line1') {\n                    return '明天<br/>' + params[0].data;\n                } else {\n                    return params[0].axisValue + '日<br/>' + params[0].data;\n                }\n            } else {\n                return params[0].axisValue + '日<br/>' + params[0].data;\n            }\n        }\n    },\n    xAxis: [{\n        type: 'category',\n        name: '',\n        data: data4,\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n        },\n        splitNumber: 20\n    }],\n    yAxis: [{\n            type: 'value',\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            }\n        },\n        {\n            type: 'value',\n            show: false,\n            axisTick: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            }\n        }\n    ],\n    grid: {\n        top: 90\n    },\n\n    series: [{\n            name: 'line',\n            type: 'line',\n            symbol: 'none',\n\n            lineStyle: {\n                color: '#ff7405'\n            },\n            data: data3,\n            xAxisIndex: 0,\n            markLine: {\n                symbol: ['none', 'none'],\n                label: {\n                    show: false\n                },\n                data: [{\n                        xAxis: 7\n                    },\n\n\n                ]\n            }\n        },\n\n        {\n            name: 'line1',\n            type: 'line',\n            // showAllSymbol: true,\n            // symbol:'',\n           \n            //  showSymbol: true,\n            symbolSize:1,\n            \n            lineStyle: {\n                color: '#1260FF',\n                type: 'dashed'\n            },\n            data: data2,\n            label: {\n                show: true,\n                distance: 4,\n                position: ['10', '-10'],\n                formatter: function(params) {\n                    console.log(params)\n                    if(params.dataIndex==8){\n                        var val1 = params.value || 0;\n                    return '{color1|' + val1 + '}'; \n                    }\n                   \n                },\n                rich: {\n                    color1: {\n                        color: '#fff',\n                        backgroundColor: 'black',\n                        borderColor: '#FAAE29',\n                        border: 1,\n                        lineHeight: 24,\n                        height: 24,\n                        padding: [2, 6, 2, 6],\n                        borderWidth: 1,\n                        borderRadius: [3, 3, 3, 3],\n                    }\n\n                }\n            },\n            xAxisIndex: 0,\n            markLine: {\n                lineStyle: {\n                    type: 'solid',\n                    color: 'red'\n                },\n                symbol: ['none', 'none'],\n                label: {\n                    show: false\n                },\n\n                data: [\n\n                    {\n                        xAxis: 8\n                    }\n\n                ]\n            }\n        },\n        {\n            label: {\n                show: false,\n\n\n            },\n\n            type: 'effectScatter',\n            coordinateSystem: 'cartesian2d',\n            data: symbolArr,\n            yAxisIndex: 1,\n            symbolSize: 0,\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true\n        }\n    ]\n};"}