{"code":"\r\n\r\nloadMap('/asset/get/s/data-1591152454850-nnifVpUft.json', 'china'); //初始化全国地图\r\n// 先请求全国数据\r\nvar item = [\r\n    { \r\n        name: '贵州', \r\n        value: 9.143 ,\r\n        per:'23.52%'\r\n    },\r\n    { \r\n        name: '江苏', \r\n        value: 80 ,\r\n        per:'23.52%'\r\n    },\r\n\r\n]\r\n\r\nfunction loadMap(mapCode, name) {\r\n    $.get(mapCode, function(data) {\r\n        if (data) {\r\n            echarts.registerMap(name, data);\r\n            var option = {\r\n                backgroundColor: '#fff',\r\n                tooltip: {\r\n                    formatter: function(params) {\r\n                        console.log(params)\r\n                        let str = `<div style=\"width:153px;background:#fff;border: 1px solid #E5E5E5;border-radius: 3px;margin:-5px\">\r\n                            <div style=\"font-size:12px;color:#333;padding:10px 14px;border-bottom:1px solid #EBEBEB;\">\r\n                              ${params.name}\r\n                            </div>`\r\n                        if(params.data) {\r\n                            str += `\r\n                            <div style=\"padding:10px 14px;font-size:12px;color:#333\">\r\n                              <div style=\"margin-bottom:10px;\">\r\n                                <span style=\"display:inline-block;color:#6C767E;width:80px;font-weight: 400;\">攻击量</span>\r\n                                <span>${params.value}</span>\r\n                              </div>\r\n                              <div>\r\n                                <span style=\"display:inline-block;color:#6C767E;width:80px;font-weight: 400;\">攻击量占比</span>\r\n                                <span>${params.data.per}</span>\r\n                              </div>\r\n                            </div>`\r\n                        }else {\r\n                            str += '</div>'\r\n                        }\r\n                        return str\r\n                    }\r\n\r\n                },\r\n                visualMap: {\r\n                    min: 0,\r\n                    max: 38,\r\n                    left: 40,\r\n                    bottom: 40,\r\n                    text: ['高', '低'],\r\n                    calculable: false,\r\n                    inRange: {\r\n                        color: [ '#FEB71D','#FF0001'],\r\n                        // symbolSize: [0, 100]\r\n                    },\r\n                    show: true\r\n                },\r\n                series: [{\r\n                    type: 'map',\r\n                    mapType: name,\r\n                    label: {\r\n                        normal: {\r\n                            show: false\r\n                        },\r\n                        emphasis: {\r\n                            show: true,\r\n                            color: '#fff'\r\n                        }\r\n                    },\r\n                    itemStyle: {\r\n                        normal: {\r\n                            borderWidth: 2,\r\n                            borderColor: '#CCCCCC',\r\n                            areaColor: '#fff',\r\n                        },\r\n                        emphasis: {\r\n                            areaColor: '#6daade',\r\n                            color: '#aa14ac'\r\n                        }\r\n                    },\r\n                    data: item\r\n                }]\r\n            };\r\n            myChart.setOption(option);\r\n        } else {\r\n            alert('无法加载该地图');\r\n        }\r\n    });\r\n}"}