{"code":"var cost = [61, 94, 97,100]//本期比上期（大于1按1处理）\r\nvar totalCost = [ 100,100, 100, 100,100]//比例综合\r\nvar visits = [1144, 3925, 40,17]//本期占总的百分比*100\r\n//1144   剩余444  完成700\r\n//新增189  \r\nvar grade = ['Windows服务器补丁','Windows服务器基线','Linux服务器漏洞','Linux服务器基线' ]\r\nvar myColor = ['#21BF57','#F57474',  '#1089E7', '#F8B448' ];\r\nvar data = {\r\n    grade: grade,\r\n    cost: cost,\r\n    totalCost: totalCost,\r\n    visits: visits,\r\n\r\n};\r\noption = {\r\n    backgroundColor: '#fff',\r\n    title: {\r\n        top: '2%',\r\n        left: 'center',\r\n        text: '服务器安全隐患统计',\r\n        textStyle: {\r\n            align: 'center',\r\n            color: '#4DCEF8',\r\n            fontSize: 30\r\n        }\r\n    },\r\n    grid: {\r\n        left: '230',\r\n        right: '100'\r\n    },\r\n    xAxis: {\r\n        show: false,\r\n    },\r\n    yAxis: {\r\n        type: 'category',\r\n        axisLabel: {\r\n            margin:30,\r\n            show: true,\r\n            color: '#4400CC',\r\n            fontSize: 20\r\n        },\r\n        axisTick: {\r\n            show: false,\r\n        },\r\n        axisLine: {\r\n            show: false,\r\n        },\r\n        data: data.grade\r\n    },\r\n    series: [{\r\n        type: 'bar',\r\n        barGap: '-65%',\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'right',\r\n                color: '#E60000',\r\n                fontSize: 20,\r\n                formatter: \r\n                function(param) {\r\n                    return data.visits[param.dataIndex] +'';\r\n                },\r\n            }\r\n        },\r\n        barWidth: '30%',\r\n        itemStyle: {\r\n            normal: {\r\n                borderColor: '#4DCEF8',\r\n                borderWidth: 2,\r\n                barBorderRadius: 15,\r\n                color: 'rgba(102, 102, 102,0)'\r\n            },\r\n        },\r\n        z: 1,\r\n        data: data.totalCost,\r\n        // data: da\r\n    }, {\r\n        type: 'bar',\r\n        barGap: '-85%',\r\n        barWidth: '21%',\r\n        itemStyle: {\r\n             normal: {\r\n                barBorderRadius: 16,\r\n                color: function(params) {\r\n                    var num = myColor.length;\r\n                    return myColor[params.dataIndex % num]\r\n                },\r\n            }\r\n        },\r\n        max: 1,\r\n        label: {\r\n            normal: {\r\n                show: true,\r\n                position: 'inside',\r\n                formatter: '{c}%',\r\n                fontSize: 20\r\n            }\r\n        },\r\n        labelLine: {\r\n            show: true,\r\n        },\r\n        z: 2,\r\n        data: data.cost,\r\n    }]\r\n}"}