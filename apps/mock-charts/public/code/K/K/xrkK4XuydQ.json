{"code":"var data1 = [80, 98, 60, 53];\nvar data2 = [30, 32, 30, 27];\nvar data3 = function() {\n    var datas = [];\n    for (var i = 0; i < data1.length; i++) {\n        datas.push(data1[i] + data2[i]);\n    }\n    return datas;\n}();\nvar max = 130;\n\noption = {\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n        },\n        formatter: function(params) {\n            var relVal = params[0].name;\n            var value = 0;\n            for (var i = 0, l = params.length; i < l; i++) {\n                value += params[i].value;\n            }\n            value = value / 2;\n            for (var i = 0, l = params.length - 1; i < l; i++) {\n                relVal += '<br/>' + params[i].seriesName + ' : ' + parseFloat(params[i].value) + '(' + (100 *\n                    parseFloat(params[i].value) / parseFloat(value)).toFixed(2) + \"%)\";\n            }\n            return relVal;\n        }\n    },\n    color: ['#C0504D', '#4F81BD'],\n    legend: {\n        data: ['预算余额', '已使用金额'],\n        bottom: '0%'\n    },\n    grid: {\n        left: '3%',\n        right: '4%',\n        top: '10%',\n        bottom: '6%',\n        containLabel: true\n    },\n    xAxis: {\n        type: 'category',\n        data: /*'${xAxisList}'*/ ['总经办', '财务处', '勘察设计', '投资事业部']\n    },\n    yAxis: {\n        type: 'value',\n        splitNumber: 10,\n        max: max\n    },\n    series: [{\n            name: '预算余额',\n            type: 'bar',\n            stack: 'sum',\n            barWidth: '30%',\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: true, //是否展示\n                    },\n                    color: '#4F81BD'\n                }\n            },\n            data: data1\n        },\n        {\n            name: '已使用金额',\n            type: 'bar',\n            stack: 'sum',\n            barWidth: '30%',\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: true, //是否展示\n                    },\n                    color: '#C0504D'\n                }\n            },\n            data: data2\n        },\n        {\n            name: '总计',\n            type: 'bar',\n            stack: 'sum',\n            label: {\n                normal: {\n                    offset: ['50', '80'],\n                    show: true,\n                    position: 'insideBottom',\n                    formatter: '{c}',\n                    textStyle: {\n                        color: '#000'\n                    }\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: 'rgba(128, 128, 128, 0)'\n                }\n            },\n            data: data3\n        }\n    ]\n};"}