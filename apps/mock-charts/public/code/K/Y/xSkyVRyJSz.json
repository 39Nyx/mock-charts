{"code":"app.title = '极坐标系下的堆叠柱状图';\r\n\r\nvar data = [\r\n    [4700, 8000, 6292.857],\r\n    [9300,39000,25772.73],\r\n    [9800, 15900,12800],\r\n    [12000,35000,19941.67],\r\n    [5500, 12000, 6850],\r\n    [8300, 20000, 12278.57],\r\n    [8000, 14000, 10263.1],\r\n    [15500,36000,25936.67],\r\n    [11000, 36000,17354.55],\r\n    [6000, 13000, 8819.12],\r\n    [9300, 27800,15725],\r\n    [11000, 19000, 15003.33],\r\n    [4000, 8000,5937.5],\r\n    [5500, 20000, 12199.74],\r\n    [12100, 25000,17755.88],\r\n    [4700, 25000, 8170.588]\r\n];\r\nvar cities = ['新洲区', '武昌区', '青山区', '硚口区', '鄂州', '经开区', '江夏区', '江汉区', '江岸区', '黄陂区', '洪山区', '汉阳区', '汉南区', '东西湖区', '东湖高新区', '蔡甸区'];\r\nvar barHeight = 50;\r\n\r\noption = {\r\n    title: {\r\n        text: '在武汉买房子有多贵？',\r\n        subtext: '各城区房价（数据来源：https://www.numbeo.com）'\r\n},\r\n    toolbox: {\r\n　　show: true,\r\n　　feature: {\r\n　　　　saveAsImage: {\r\n　　　　show:true,\r\n　　　　excludeComponents :['toolbox'],\r\n　　　　pixelRatio: 2\r\n　　　　}\r\n　　}\r\n},\r\n    legend: {\r\n        show: true,\r\n        data: ['价格范围', '均值']\r\n    },\r\n    grid: {\r\n        top: 100\r\n    },\r\n    angleAxis: {\r\n        type: 'category',\r\n        data: cities\r\n    },\r\n    tooltip: {\r\n        show: true,\r\n        formatter: function (params) {\r\n            var id = params.dataIndex;\r\n            return cities[id] + '<br>最低：' + data[id][0] + '<br>最高：' + data[id][1] + '<br>平均：' + data[id][2];\r\n        }\r\n    },\r\n    radiusAxis: {\r\n    },\r\n    polar: {\r\n    },\r\n    series: [{\r\n        type: 'bar',\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'transparent'\r\n            }\r\n        },\r\n        data: data.map(function (d) {\r\n            return d[0];\r\n        }),\r\n        coordinateSystem: 'polar',\r\n        stack: '最大最小值',\r\n        silent: true\r\n    }, {\r\n        type: 'bar',\r\n        data: data.map(function (d) {\r\n            return d[1] - d[0];\r\n        }),\r\n        coordinateSystem: 'polar',\r\n        name: '价格范围',\r\n        stack: '最大最小值'\r\n    }, {\r\n        type: 'bar',\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'transparent'\r\n            }\r\n        },\r\n        data: data.map(function (d) {\r\n            return d[2] - barHeight;\r\n        }),\r\n        coordinateSystem: 'polar',\r\n        stack: '均值',\r\n        silent: true,\r\n        z: 10\r\n    }, {\r\n        type: 'bar',\r\n        data: data.map(function (d) {\r\n            return barHeight * 2\r\n        }),\r\n        coordinateSystem: 'polar',\r\n        name: '均值',\r\n        stack: '均值',\r\n        barGap: '-100%',\r\n        z: 10\r\n    }],\r\n    legend: {\r\n        show: true,\r\n        data: ['A', 'B', 'C']\r\n    }\r\n};"}