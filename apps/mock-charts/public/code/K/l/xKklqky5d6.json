{"code":"\r\nvar trafficWay = [{\r\n    name: '火车',\r\n    value: 20\r\n},{\r\n    name: '飞机',\r\n    value: 10\r\n},{\r\n    name: '客车',\r\n    value: 30\r\n},{\r\n    name: '轮渡',\r\n    value: 40\r\n}];\r\noption = {\r\n    backgroundColor: \"#0a283c\",\r\n    legend: {\r\n        orient: 'vertical',\r\n        top: \"center\",\r\n        right: \"5%\",\r\n        data: ['rose1', 'rose2', 'rose3', 'rose4', 'rose5', 'rose6', 'rose7'],\r\n        textStyle: {\r\n            color: \"#fff\",\r\n            fontSize: 16\r\n        }\r\n    },\r\n    tooltip: {\r\n        show:false,\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b} : {c} ({d}%)'\r\n    },\r\n    series: [{\r\n        name: '半径模式',\r\n        type: 'pie',\r\n        radius: ['30%', '38%'],\r\n        center: ['50%', '50%'],\r\n        roseType: 'radius',\r\n        label: {\r\n            show: false,\r\n            normal: {\r\n                position: 'outside',\r\n                fontSize: 16,\r\n                color:'#fff',\r\n                formatter: function(params) {\r\n                    var percent = 0;\r\n                    var total = 0;\r\n                    for (var i = 0; i < trafficWay.length; i++) {\r\n                        total += trafficWay[i].value;\r\n                    }\r\n                    percent = ((params.value / total) * 100).toFixed(0);\r\n                    if(params.name !== '') {\r\n                        return '交通方式：' + params.name + '\\n' + '\\n' + '占百分比：' + percent + '%';\r\n                    }else {\r\n                        return '';\r\n                    }\r\n                },\r\n            }\r\n            \r\n                \r\n        },\r\n        labelLine: {\r\n            length: 1,\r\n            length2: 20,\r\n            smooth: true\r\n        },        \r\n        color:['#face25','#6eb249','#1f75ff','#00e1ff'],\r\n        data:trafficWay\r\n    }]\r\n};"}