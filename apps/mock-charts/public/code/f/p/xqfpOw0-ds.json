{"code":"data = [{\r\n    name: \"一\",\r\n    value: 4000\r\n}, {\r\n    name: \"二\",\r\n    value: 300\r\n}, {\r\n    name: \"仨\",\r\n    value: 20\r\n}, {\r\n    name: \"四\",\r\n    value: 10\r\n}]\r\nlet name = data.map((item) => item.name)\r\nlet value = data.map((item) => item.value)\r\nlet sum = value.reduce((a, b) => {\r\n    return a + b\r\n})\r\nlet color = [\r\n    [\r\n        \"#FFB238\",\r\n        \"#0FDEAE\",\r\n        \"#198AFD\",\r\n        \"#753DFD\"\r\n    ],\r\n    [\"rgba(24, 183, 142,0.1)\",\r\n        \"rgba(1, 179, 238,0.1)\",\r\n        \"rgba(22, 75, 205,0.1)\",\r\n        \"rgba(52, 52, 176,0.1)\"\r\n    ]\r\n]\r\nlet series = []\r\nlet yAxis = []\r\nfor (let i = 0; i < data.length; i++) {\r\n    series.push({\r\n        name: \"\",\r\n        type: \"pie\",\r\n        clockWise: false, //顺时加载\r\n        hoverAnimation: false, //鼠标移入变大\r\n        radius: [45 - i * 10 + \"%\", 40 - i * 10 + \"%\"],\r\n        center: [\"40%\", \"50%\"],\r\n        label: {\r\n            show: false\r\n        },\r\n        itemStyle: {\r\n            label: {\r\n                show: false\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            borderWidth: 5\r\n        },\r\n        data: [{\r\n                value: data[i].value* 0.75,\r\n                name: data[i].name,\r\n            },\r\n            {\r\n                value: sum - data[i].value*0.75,\r\n                name: \"\",\r\n                itemStyle: {\r\n                    color: 'transparent',\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            }\r\n        ]\r\n    })\r\n    series.push({\r\n        name: \"\",\r\n        type: \"pie\",\r\n        silent: true,\r\n        z: 1,\r\n        clockWise: false, //顺时加载\r\n        hoverAnimation: false, //鼠标移入变大\r\n        radius: [45 - i * 10 + \"%\", 40 - i * 10 + \"%\"],\r\n        center: [\"40%\", \"50%\"],\r\n        label: {\r\n            show: false\r\n        },\r\n        itemStyle: {\r\n            label: {\r\n                show: false\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            borderWidth: 5\r\n        },\r\n        data: [{\r\n                value: 7.5,\r\n                itemStyle: {\r\n                    color: color[1][i],\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            },\r\n            {\r\n                value: 2.5,\r\n                itemStyle: {\r\n                    color: \"rgba(0,0,0,0)\",\r\n                    borderWidth: 0\r\n                },\r\n                tooltip: {\r\n                    show: false\r\n                },\r\n                hoverAnimation: false\r\n            }\r\n        ]\r\n    })\r\n    yAxis.push(((data[i].value / sum) * 100).toFixed(2) + \"%\")\r\n}\r\noption = {\r\n    backgroundColor: '#012248',\r\n    color: color[0],\r\n    legend: {\r\n        show: true,\r\n        icon: \"circle\",\r\n        top: \"center\",\r\n        left: \"65%\",\r\n        data: name,\r\n        orient:'vertical',\r\n        formatter: (name) => {\r\n            return (\r\n                \"{title|\" + name + \"}\\n{value|\" + data.find((item) => {\r\n                    return item.name == name\r\n                }).value + \"}{value|人}\"\r\n            );\r\n        },\r\n        textStyle: {\r\n            rich: {\r\n                title: {\r\n                    fontSize: 14,\r\n                    lineHeight: 20,\r\n                    color: \"rgb(0, 178, 246)\"\r\n                },\r\n                value: {\r\n                    fontSize: 14,\r\n                    lineHeight: 20,\r\n                    color: \"#fff\"\r\n                }\r\n            }\r\n        }\r\n    },\r\n    tooltip: {\r\n        show: true,\r\n        trigger: \"item\",\r\n        formatter: \"{a}<br>{b}:{c}({d}%)\"\r\n    },\r\n    grid: {\r\n        top: \"26%\",\r\n        left: \"40%\",\r\n        width:\"40%\",\r\n        height:\"21%\",\r\n        containLabel: false\r\n    },\r\n    yAxis: [{\r\n        type: \"category\",\r\n        inverse: true,\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisTick: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            interval: 0,\r\n            inside: true,\r\n            textStyle: {\r\n                color: \"#fff\",\r\n                fontSize: 14\r\n            },\r\n            show: true\r\n        },\r\n        data: yAxis\r\n    }],\r\n    xAxis: [{\r\n        show: false,\r\n    }],\r\n    series: series\r\n};"}