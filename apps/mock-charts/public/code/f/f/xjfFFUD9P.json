{"code":"var data = [{\n    \"name\": \"短信\",\n    \"value\": 1369\n}, {\n    \"name\": \"客服\",\n    \"value\": 1476\n}, {\n    \"name\": \"外呼\",\n    \"value\": 1845\n}, {\n    \"name\": \"网厅\",\n    \"value\": 1476\n}, {\n    \"name\": \"手厅\",\n    \"value\": 2997\n}].sort(function(a,b){return b.value-a.value})\nvar max = Math.max(...data.map(item => item.value)) + 1000\n\nfunction array2obj(array, key) {\n    let resObj = {};\n    for (let i = 0; i < array.length; i++) {\n        resObj[array[i][key]] = array[i];\n    }\n    return resObj;\n}\n\nfunction getData(data) {\n    let res = {\n        series: [],\n        yAxis: []\n    };\n    for (let i = 0; i < data.length; i++) {\n        res.series.push({\n            name: i,\n            type: 'pie',\n            clockWise: false,\n            hoverAnimation: false,\n            radius: [63 - i * 8 + '%', 58 - i * 8 + '%'],\n            center: [\"45%\", \"50%\"],\n            label: {\n                show: false\n            },\n            itemStyle: {\n                label: {\n                    show: false,\n                },\n                labelLine: {\n                    show: false\n                },\n                borderWidth: 5,\n            },\n            data: [{\n                value: data[i].value,\n                name: data[i].name\n            }, {\n                value: max - data[i].value,\n                name: '',\n                itemStyle: {\n                    color: \"rgb(2, 31, 62)\",\n                    borderWidth: 0\n                },\n                tooltip: {\n                    show: false\n                },\n                hoverAnimation: false\n            }]\n        });\n    }\n    return res;\n}\n\nvar objData = array2obj(data, \"name\");\nvar optionData = getData(data)\noption = {\n    backgroundColor:'#333',\n    legend: {\n        x: 'right',\n        y: 'center',\n        itemGap: 20,\n        itemWidth: 15,\n        itemHeight: 15,\n        icon: 'rect',\n        formatter: function(name) {\n            return \"{title|\" + name + \"}{value|\" + (objData[name].value) + \"}\"\n        },\n        textStyle: {\n            rich: {\n                title: {\n                    width: 40,\n                    fontSize: 16,\n                    color: \"#fff\",\n                    padding: [0, 0, 0, 10]\n                },\n                value: {\n                    fontSize: 18,\n                    color: \"rgb(0, 222, 255)\",\n                    padding: [0, 40]\n                }\n            }\n        },\n    },\n    color: ['rgb(14, 109, 233)', 'rgb(172, 78, 211)', 'rgb(230, 175, 8)', 'rgb(0, 175, 109)', ' rgb(211, 78, 106)'],\n    grid: {\n        top: '0',\n        left: \"50%\",\n        containLabel: false\n    },\n    yAxis: [{\n        type: 'category',\n        inverse: true,\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            interval: 0,\n            inside: true,\n            textStyle: {\n                color: \"#fff\",\n                fontSize: 16,\n            },\n            show: true\n        },\n        data: optionData.yAxis\n    }],\n    xAxis: [{\n        show: false\n    }],\n    series: optionData.series\n}"}