{"code":"let chartData = [\n  ['product', '2019销售', '存量店增长', '新开店增长', '关店损失', '2020销售'],\n  ['汇总', 97776906, '-', '-', '-', 103242635],\n  ['辅助', '-', 97776906, 102352413, 103242635, '-'],\n  ['增加', '-', 4575507, 1464162, '-', '-'],\n  ['减少', '-', '-', '-', 573940, '-'],\n];\n\noption = {\n  dataset: {\n    source: chartData,\n  },\n  title: {\n    text: '阶梯瀑布图',\n    left: 'left',\n  },\n  tooltip: {\n    trigger: 'axis',\n    axisPointer: {\n      type: 'shadow',\n    },\n    formatter: function (params) {\n      const currentData = params\n        .filter((_val, i) => {\n          return i !== 1;\n        })\n        .map((val) => {\n          return {\n            name: val.seriesName,\n            value: val.value[val.encode.y[0]],\n          };\n        })\n        .filter((val) => {\n          return val.value !== '-';\n        })[0];\n\n      return params[0].name + '<br/>' + currentData.name + ' : ' + currentData.value;\n    },\n  },\n  legend: {\n    orient: 'horizontal',\n    y: 30,\n    data: ['汇总', '增加', '减少'],\n  },\n  grid: {\n    left: '3%',\n    right: '4%',\n    bottom: '3%',\n    top: 70,\n    containLabel: true,\n  },\n  xAxis: {\n    type: 'category',\n    splitLine: {\n      show: false,\n    },\n  },\n  yAxis: {\n    type: 'value',\n  },\n  series: [\n    {\n      type: 'bar',\n      stack: 'total',\n      label: {\n        show: true,\n        position: 'top',\n      },\n      seriesLayoutBy: 'row',\n    },\n    {\n      type: 'bar',\n      stack: 'total',\n      itemStyle: {\n        barBorderColor: 'rgba(0,0,0,0)',\n        color: 'rgba(0,0,0,0)',\n      },\n      emphasis: {\n        itemStyle: {\n          barBorderColor: 'rgba(0,0,0,0)',\n          color: 'rgba(0,0,0,0)',\n        },\n      },\n      seriesLayoutBy: 'row',\n    },\n    {\n      type: 'bar',\n      stack: 'total',\n      label: {\n        show: true,\n        position: 'top',\n      },\n      seriesLayoutBy: 'row',\n    },\n    {\n      type: 'bar',\n      stack: 'total',\n      label: {\n        show: true,\n        position: 'bottom',\n      },\n      seriesLayoutBy: 'row',\n    },\n  ],\n};\n"}