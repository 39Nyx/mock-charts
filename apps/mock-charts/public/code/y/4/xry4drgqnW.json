{"code":"var data = [];\nfor (let i = 0; i < 10; i++) {\n    data.push({\n        name: '类目' + i,\n        value: '20'\n    })\n};\nvar color = [\n    '#0580f2',\n    '#faa732',\n    '#e1575d',\n    '#8b73cc',\n    '#8cd123',\n    '#4b53ba',\n    '#429588',\n    '#735546',\n    '#d42762',\n    '#673ebc'\n];\nvar currentItem = {\n    name: '总数',\n    value: '200'\n};\noption = {\n    backgroundColor: '#212121',\n    color: color,\n    series: [{\n        name: '消费能力',\n        type: 'pie',\n        radius: ['60%', '75%'],\n        avoidLabelOverlap: true,\n        label: {\n            normal: {\n                show: true,\n                formatter: '{b} {c}',\n                textStyle: {\n                    fontSize: 14,\n                    color: '#eeeeee'\n                }\n            }\n        },\n        labelLine: {\n            normal: {\n                show: true\n            }\n        },\n        data: data\n    }, {\n        type: 'pie',\n        clockWise: true,\n        hoverAnimation: false,\n        radius: [100, 100],\n        label: {\n            normal: {\n                position: 'center'\n            }\n        },\n        data: [{\n            label: {\n                normal: {\n                    formatter: currentItem.value,\n                    textStyle: {\n                        color: '#eeeeee',\n                        fontSize: 36\n                    }\n                }\n            }\n        }, {\n            tooltip: {\n                show: false\n            },\n            label: {\n                normal: {\n                    formatter: '\\n' + currentItem.name,\n                    textStyle: {\n                        color: '#eeeeee',\n                        fontSize: 16\n                    }\n                }\n            }\n        }]\n    }]\n};\n\napp.currentIndex = -1;\n\nsetInterval(function() {\n    var dataLen = option.series[0].data.length;\n    // 取消之前高亮的图形\n    myChart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: app.currentIndex\n    });\n    currentItem = data[(app.currentIndex + 1) % dataLen];\n    option.series[1].data[0].label.normal.formatter = currentItem.value;\n    option.series[1].data[1].label.normal.formatter = '\\n' + currentItem.name;\n    myChart.setOption(option, true);\n    \n    app.currentIndex = (app.currentIndex + 1) % dataLen;\n    // 高亮当前图形\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: app.currentIndex\n    });\n    // 显示 tooltip\n    myChart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: app.currentIndex\n    });\n}, 1000);"}