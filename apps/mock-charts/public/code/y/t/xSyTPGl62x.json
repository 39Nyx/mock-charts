{"code":"\tmyChart.showLoading();\n\tvar d;\n\tvar setData = (function() {\n\t    var option = {\n\t        title: {\n\t            text: '最近上映电影',\n\t            left: '50%',\n\t            textAlign: 'center'\n\t        },\n\t        grid: {\n\t            left: 0,\n\t            right: 20,\n\t            bottom: 100,\n\t            top: 30\n\t        },\n\t        tooltip: {\n\t            formatter: function(params) {\n\t                if (params.componentSubType == 'pictorialBar') {\n\t                    return '电影：' + params.name + '</br> 豆瓣评分：' + (params.value * 1 + 10).toFixed(1);\n\t                }\n\t            }\n\t        },\n\t        xAxis: {\n\t            data: []\n\t        },\n\t        yAxis: {\n\t            splitLine: {\n\t                show: false\n\t            },\n\t            axisLine: {\n\t                show: false\n\t            }\n\t        },\n\t        series: [{\n\t            type: 'bar',\n\t            barWidth: 1,\n\t            data: [],\n\t            animationDelay: function(idx) {\n\t                return idx * 100;\n\t            }\n\t        }, {\n\t            type: 'pictorialBar',\n\t            symbolPosition: 'end',\n\t            symbolRotate: 165,\n\t            symbolOffset: ['20%', '100%'],\n\t            data: [],\n\t            animationDelay: function(idx) {\n\t                return idx * 100 + 500;\n\t            }\n\t        }, {\n\t            type: 'graph',\n\t            data: [{\n\t                x: 0,\n\t                y: 0,\n\t                symbolSize: 0\n\t            }, {\n\t                name: 'btn',\n\t                x: 0,\n\t                y: 10,\n\t                symbolSize: 30\n\t            }],\n\t            itemStyle: {\n\t                normal: {\n\t                    color: 'transparent',\n\t                    borderWidth: 1,\n\t                    borderColor: '#555'\n\t                }\n\t            }\n\t        }]\n\t    };\n\t    var mark = 1;\n\t    return function() {\n\t        var pics = [];\n\t        for (var i = 0; i < d.subjects.length; i++) {\n\t            pics.push({\n\t                value: ((d.subjects[i].rating.average || 0.1) - 10).toFixed(1),\n\t                symbol: 'image://https://images.weserv.nl/?url=' + d.subjects[i].images.small,\n\t                symbolSize: ['48.75', '75'],\n\t                name: d.subjects[i].title\n\t            })\n\t        }\n\t        if (mark % 2 == 0) {\n\t            pics.sort(function(a, b) {\n\t                return (mark / 2 | 0) % 2 == 0 ? (b.value - a.value) : (a.value - b.value)\n\t            })\n\t        }\n\t        option.series[0].data = pics;\n\t        option.series[1].data = pics;\n\t        myChart.hideLoading();\n\t        myChart.setOption(option);\n\t        mark++;\n\t    }\n\t})();\n\t$.ajax({\n\t    type: \"GET\",\n\t    url: \"https://douban.uieee.com/v2/movie/in_theaters\",\n\t    dataType: \"jsonp\",\n\t    success: function(data) {\n\t        d = data;\n\t        setData();\n\t    }\n\t});\n\tmyChart.on('click', function(params) {\n\t    if (params.name == 'btn') {\n\t        setData();\n\t    }\n\t})"}