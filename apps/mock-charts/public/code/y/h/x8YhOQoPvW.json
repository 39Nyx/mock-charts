{"code":"let aa ='';\r\nlet scale = 1;\r\nvar data = [{\r\n        value: 13,\r\n        name: '武汉'\r\n    },\r\n    {\r\n        value: 12,\r\n        name: '广州'\r\n    },\r\n    {\r\n        value: 12,\r\n        name: '西安'\r\n    },\r\n    {\r\n        value: 5,\r\n        name: '北京'\r\n    },\r\n    {\r\n        value: 13,\r\n        name: '成都'\r\n    },\r\n    {\r\n        value: 5,\r\n        name: '太原'\r\n    },\r\n    {\r\n        value: 40,\r\n        name: '上海'\r\n    },\r\n];\r\nfunction getRich() {\r\n    let result = {}\r\n    colorArr.forEach((v, i) => {\r\n        result[`normal${i}`]={\r\n            fontSize: 20 * scale,\r\n            align: 'left',\r\n            padding: [10, 4],\r\n            color: '#ACCFFF',\r\n        },\r\n        result[`value${i}`]={\r\n            color: '#ACCFFF',\r\n            align: 'left',\r\n            fontSize: 14 * scale,\r\n            padding: [2, 4],\r\n        }\r\n    })\r\n    return result\r\n}\r\nvar colorArr = ['#61a0a8', '#F87D7C', '#41E1FF', '#55D5B5', '#616BA6', '#6978F2', '#3769F4', '#01FFFF', '#FEDF00']\r\noption = {\r\n    backgroundColor:'#021434',\r\n    color: colorArr,\r\n    legend: {\r\n        orient: 'vertical',\r\n        right: 5,\r\n        top: '30%',\r\n        itemWidth: 10,\r\n        itemHeight: 10,\r\n        itemGap: 15,\r\n        textStyle: {\r\n            color: '#ACCFFF',\r\n            fontSize: 12,\r\n        },\r\n        data: ['武汉', '广州', '西安', '北京', '成都', '太原', '上海', '一般待料', '紧急待料']\r\n    },\r\n    series: [\r\n        {\r\n            name: '访问来源',\r\n            type: 'pie',\r\n            radius: ['50%', '70%'],\r\n            center: [\"43%\", \"50%\"],\r\n            selectedMode: 'single',\r\n            selectedOffset: 10,\r\n            clockwise: true,\r\n            label: {\r\n                normal: {\r\n                    formatter: function(params, ticket, callback) {\r\n                        aa = params.dataIndex\r\n                        var percent = 0;\r\n                        var total = 0;\r\n                        for (var i = 0; i < data.length; i++) {\r\n                            total += data[i].value;\r\n                        }\r\n                        percent = ((params.value / total) * 100).toFixed(0)+ '%';\r\n                            const index = params.dataIndex\r\n                            // return [`{a${index}|${params.name}：${percent}}`].join('\\n')\r\n                        return  [`{normal${index}|${percent}}\\n{value${index}|${params.name}}`].join('\\n');\r\n                    },\r\n                    padding: [0, -80],\r\n                    rich: getRich()\r\n                }\r\n\r\n            },\r\n            labelLine: {\r\n                length: 10,\r\n                length2: 80,\r\n                lineStyle: {\r\n                    color: '#4B70C9',\r\n                }\r\n            },\r\n            // label: {\r\n            //     normal: {\r\n            //         fontSize: 16,\r\n            //         color: '#4B70C9',\r\n            //         formatter: '{b}{d}%'\r\n            //     },\r\n            // },\r\n            itemStyle: {\r\n                normal: {\r\n                    shadowColor: \"rgba(0,0,0,0.4)\",\r\n                    shadowBlur: 15\r\n                }\r\n            },\r\n            // labelLine: {\r\n            //     normal: {\r\n            //         length: 30,\r\n            //         length2: 20,\r\n            //         lineStyle: {\r\n            //             color: '#4B70C9',\r\n            //         }\r\n            //     }\r\n            // },\r\n            data: data\r\n        }\r\n    ]\r\n};"}