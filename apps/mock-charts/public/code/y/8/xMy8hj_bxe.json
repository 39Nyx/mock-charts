{"code":"var dataPie = [12, 13, 14];\r\nvar dataPieXAxis = Array(3);\r\nfor (let i = 0; i < dataPie.length; i++) {\r\n    dataPieXAxis[i] = dataPie[i] + ':00'\r\n}\r\noption = {\r\n    title: {\r\n        text: '业务主机',\r\n        textStyle: {\r\n            fontSize: 12,\r\n            fontWeight: 'normal',\r\n            color: '#65aaf1' //标题颜色\r\n        },\r\n        right: '2%',\r\n    },\r\n    grid: {\r\n        left: '40px', // 与容器左侧的距离\r\n        right: '5px', // 与容器右侧的距离\r\n        top: '20px', // 与容器顶部的距离\r\n        bottom: '30px', // 与容器底部的距离\r\n    },\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: { // 坐标轴指示器，坐标轴触发有效\r\n            type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\r\n        }\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        data: dataPieXAxis,\r\n        axisTick: {\r\n            alignWithLabel: true\r\n        },\r\n        axisLabel: {\r\n            show: true,\r\n            textStyle: {\r\n                color: '#00b7ee'\r\n            }\r\n        }\r\n    }],\r\n    yAxis: {\r\n        type: 'value',\r\n        splitLine: {\r\n            show: true\r\n        },\r\n        axisTick: {\r\n            show: true\r\n        },\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        axisLabel: {\r\n            formatter: function(val) {\r\n                return val + '%';\r\n            },\r\n            show: true,\r\n            textStyle: {\r\n                color: '#6ba1bb' //字体颜色\r\n            }\r\n        },\r\n        data: ['0', '20%', '40%', '60%', '80%', '100%'],\r\n    },\r\n    series: [{\r\n        name: '',\r\n        type: 'pictorialBar',\r\n        symbolSize: [30, 20],\r\n        symbolOffset: [0, -1],\r\n        z: 12,\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#14b1eb'\r\n            }\r\n        },\r\n        data: [{\r\n            value: 100,\r\n            symbolPosition: 'end'\r\n        }, {\r\n            value: 60,\r\n            symbolPosition: 'end'\r\n        }, {\r\n            value: 20,\r\n            symbolPosition: 'end'\r\n        }]\r\n    }, {\r\n        name: '业务主机',\r\n        type: 'bar',\r\n        itemStyle: {\r\n            normal: {\r\n                color: '#14b1eb',\r\n                opacity: .7,\r\n                barBorderRadius: 35,\r\n            }\r\n        },\r\n        silent: true,\r\n        barWidth: 30,\r\n        barGap: '-100%', // Make series be overlap\r\n        data: [100, 60, 20]\r\n    }]\r\n};\r\n\r\nsetInterval(function() { //数据动态展现\r\n    if (dataPie.indexOf(23) == '-1') {\r\n        for (let i = 0; i < dataPie.length; i++) {\r\n            dataPie[i] = dataPie[i] + 1;\r\n            dataPieXAxis[i] = dataPie[i] + ':00'\r\n        }\r\n    } else {\r\n        dataPie = [0, 1, 2]\r\n         for (let i = 0; i < dataPie.length; i++) {\r\n            dataPieXAxis[i] = dataPie[i] + ':00'\r\n        }\r\n    }\r\n\r\n    myChart.setOption({\r\n        xAxis: [{\r\n            type: 'category',\r\n            data: dataPieXAxis,\r\n            axisTick: {\r\n                alignWithLabel: true\r\n            },\r\n            axisLabel: {\r\n                show: true,\r\n                textStyle: {\r\n                    color: '#00b7ee'\r\n                }\r\n            }\r\n        }],\r\n    });\r\n}, 1000);"}