{"code":"option = {\n    title: {\n        text: '动态数据',\n        subtext: '纯属虚构'\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross',\n            label: {\n                backgroundColor: '#283b56'\n            }\n        }\n    },\n    legend: {\n        data:['最新成交价', '预购队列']\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            dataView: {readOnly: false},\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    dataZoom: {\n        show: false,\n        start: 0,\n        end: 100\n    },\n    xAxis: [\n        {\n            type: 'category',\n            boundaryGap: true,\n            data: timesDate()\n        },\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            scale: true,\n            name: '价格',\n            max: 30,\n            min: 0,\n            boundaryGap: [0.2, 0.2]\n        },\n    ],\n    series: [\n        {\n            name:'最新成交价',\n            type:'line',\n            smooth: true,\n            symbolSize: 5,\n            symbol: 'circle',\n            showSymbol: false,\n            areaStyle:{\n                normal: {\n                    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                        offset: 0,\n                        color: 'rgba(0, 187, 237, 0.5)'\n                    }, {\n                        offset: 0.8,\n                        color: 'rgba(0, 189, 237, 0)'\n                    }], false),\n                    shadowColor: 'rgba(0, 0, 0, 0.1)',\n                    shadowBlur: 10\n                }  \n            },\n            markPoint:{\n                symbolSize: 10,\n                symbol: 'circle',\n                data:[{\n                    coord:[9, 2]\n                }],\n                label:{\n                  normal:{\n                        show: true,\n                        position: 'top',\n                        formatter: function(params) {\n                            if (params.dataIndex === 8){\n                                return '{b}'\n                            }\n                        }\n                    }  \n                },\n            },\n            markLine: {\n                data: [\n                    {yAxis: 8, name: '实时'}\n                ]\n            },\n            data:rwD()\n        }\n    ]\n};\nvar r = [];\nr = rwD();\nsetInterval(function (){\n    axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\n\n    var data1 = option.series[0].data;\n    data1.shift();\n    data1.push((Math.random() * 10 + 5).toFixed(1) - 0);\n\n    option.xAxis[0].data.shift();\n    option.xAxis[0].data.push(axisData);\n    var markData = data1[data1.length-1];\n    option.series[0].markPoint.data[0].coord[1] = markData;\n    option.series[0].markLine.data[0].yAxis = markData;\n\n    myChart.setOption(option);\n}, 2100);\nfunction rwD () { // y轴数据内容更新\n    var res = [];\n    var len = 0;\n    while (len < 10) {\n        res.push((Math.random()*10 + 5).toFixed(1) - 0);\n        len++;\n    }\n    return res;\n}\nfunction timesDate(){ // x轴曲线时间\n    var now = new Date();\n    var res = [];\n    var len = 10;\n    while (len--) {\n        res.unshift(now.toLocaleTimeString().replace(/^\\D*/,''));\n        now = new Date(now - 2000);\n    }\n    return res;\n}"}