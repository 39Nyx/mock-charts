{"code":"let list = [{\n\n        \"DLNAME\": \"机构与能力\",\n        \"AFFECT\": [{\n                \"KEY\": \"0\",\n                \"NAME\": \"负面\",\n                \"COUNT\": 0\n            },\n            {\n                \"KEY\": \"1\",\n                \"NAME\": \"正面\",\n                \"COUNT\": 0\n            },\n            {\n                \"KEY\": \"2\",\n                \"NAME\": \"中性\",\n                \"COUNT\": 1\n            }\n        ]\n    },\n    {\n\n        \"DLNAME\": \"保护管理\",\n        \"AFFECT\": [{\n                \"KEY\": \"0\",\n                \"NAME\": \"负面\",\n                \"COUNT\": 1\n            },\n            {\n                \"KEY\": \"1\",\n                \"NAME\": \"正面\",\n                \"COUNT\": 0\n            },\n            {\n                \"KEY\": \"2\",\n                \"NAME\": \"中性\",\n                \"COUNT\": 1\n            }\n        ]\n    },\n\n    {\n\n        \"DLNAME\": \"旅游与游客管理\",\n        \"AFFECT\": [{\n                \"KEY\": \"0\",\n                \"NAME\": \"负面\",\n                \"COUNT\": 0\n            },\n            {\n                \"KEY\": \"1\",\n                \"NAME\": \"正面\",\n                \"COUNT\": 1\n            },\n            {\n                \"KEY\": \"2\",\n                \"NAME\": \"中性\",\n                \"COUNT\": 1\n            }\n        ]\n    },\n    {\n\n        \"DLNAME\": \"宣传展示利用\",\n        \"AFFECT\": [{\n                \"KEY\": \"0\",\n                \"NAME\": \"负面\",\n                \"COUNT\": 0\n            },\n            {\n                \"KEY\": \"1\",\n                \"NAME\": \"正面\",\n                \"COUNT\": 1\n            },\n            {\n                \"KEY\": \"2\",\n                \"NAME\": \"中性\",\n                \"COUNT\": 1\n            }\n        ]\n    },\n\n]\n\nlet yAxisData = []\nlet seriesPositive = []\nlet seriesNegative = []\nlet seriesNeutral = []\nlist.map((item, index) => {\n    yAxisData.push(item.DLNAME)\n    seriesNegative.push(item.AFFECT[0].COUNT)\n    seriesPositive.push(item.AFFECT[1].COUNT)\n    seriesNeutral.push(item.AFFECT[2].COUNT)\n})\nlet colorList = [\"#99ffcc\", \"#ffcc33\", \"#ff6666\"]\n\noption = {\n    backgroundColor: \"#333\",\n    tooltip: {\n        trigger: \"axis\",\n        axisPointer: {\n            type: \"shadow\" // 默认为直线，可选为：'line' | 'shadow'\n        }\n    },\n    color: colorList,\n    grid: {\n        top: 0,\n        left: 30,\n        right: 40,\n        bottom: 10,\n        containLabel: true\n    },\n    xAxis: {\n        minInterval: 1,\n        type: \"value\",\n        axisLine: {\n            lineStyle: {\n                color: \"#51688a\"\n            }\n        },\n        axisTick: {\n            alignWithLabel: true,\n            lineStyle: {\n                color: \"#51688a\"\n            }\n        },\n        axisLabel: {\n            color: \"#fff\"\n        },\n        splitLine: {\n            show: false,\n            lineStyle: {\n                color: \"#51688a\",\n                type: \"dotted\"\n            }\n        }\n    },\n    yAxis: {\n        type: \"category\",\n        data: yAxisData,\n        axisLine: {\n            lineStyle: {\n                color: \"#51688a\"\n            }\n        },\n        axisTick: {\n            alignWithLabel: true,\n            lineStyle: {\n                color: \"#51688a\"\n            }\n        },\n        axisLabel: {\n            color: \"#fff\"\n        },\n        splitLine: {\n            show: false,\n            lineStyle: {\n                color: \"#51688a\",\n                type: \"dotted\"\n            }\n        }\n    },\n    series: [{\n            name: \"正面\",\n            type: \"bar\",\n            barWidth: 20,\n            stack: \"总量\",\n            label: {\n                show: false,\n                position: \"insideRight\"\n            },\n            data: seriesPositive\n        },\n        {\n            name: \"中性\",\n            type: \"bar\",\n            barWidth: 20,\n            stack: \"总量\",\n            label: {\n                show: false,\n                position: \"insideRight\"\n            },\n            data: seriesNeutral\n        },\n        {\n            name: \"负面\",\n            type: \"bar\",\n            barWidth: 20,\n            stack: \"总量\",\n            label: {\n                show: false,\n                position: \"insideRight\"\n            },\n            data: seriesNegative\n        }\n    ]\n}"}