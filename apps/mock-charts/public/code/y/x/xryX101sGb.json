{"code":"option = {\r\n    series: []\r\n}\r\n\r\n//模拟数据，并排序\r\nvar data = []\r\nvar cnt = Math.ceil(Math.random() * 5) + 3\r\nfor (var i = 0; i < cnt; i++) {\r\n    data.push({\r\n        name: \"data\" + Math.ceil(Math.random() * 1000),\r\n        value: Math.ceil(Math.pow(2, Math.random() * 5))\r\n    })\r\n}\r\nfor (var i = 0; i < data.length; i++) {\r\n    for (var j = i + 1; j < data.length; j++) {\r\n        if (data[j].value > data[i].value) {\r\n            var temp = data[j]\r\n            data[j] = data[i]\r\n            data[i] = temp\r\n        }\r\n    }\r\n}\r\n\r\n//计算总值，用来算出各数据项的半径\r\nvar sum = 0\r\nfor (var i = 0; i < data.length; i++) {\r\n    sum += data[i].value\r\n}\r\n\r\n//最大半径与最小半径\r\nvar maxR = 60,\r\n    minR = 20\r\nfor (var i = 0; i < data.length; i++) {\r\n    var serie = {\r\n        type: \"pie\",\r\n        data: [{\r\n            name: \"front\",\r\n            value: 0,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(0,0,0,0)\"\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            },\r\n            silent: true\r\n        }, {\r\n            name: data[i].name,\r\n            value: data[i].value,\r\n            label: {\r\n                normal: {\r\n                    show: false,\r\n                    position: \"center\"\r\n                },\r\n                emphasis: {\r\n                    show: true\r\n                }\r\n            }\r\n        }, {\r\n            name: \"back\",\r\n            value: 0,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: \"rgba(0,0,0,0)\"\r\n                }\r\n            },\r\n            label: {\r\n                normal: {\r\n                    show: false\r\n                }\r\n            }\r\n        }]\r\n    }\r\n    for (var j = 0; j < data.length; j++) {\r\n        if (j < i) {\r\n            serie.data[0].value += data[j].value\r\n        }\r\n        if (j > i) {\r\n            serie.data[2].value += data[j].value\r\n        }\r\n    }\r\n    var radius = [(minR + (maxR - minR) / sum * serie.data[2].value) + \"%\", (maxR - (maxR - minR) / sum * serie.data[0].value) + \"%\"]\r\n    serie.radius = radius\r\n    option.series.push(serie)\r\n}"}