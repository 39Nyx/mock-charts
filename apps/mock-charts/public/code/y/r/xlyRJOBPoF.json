{"code":"var getmydmc = ['山杨', '杨树林', '针阔混交', '珍贵硬阔混交', '软阔叶混交', '硬阔叶混交', '山槐林', '柳树', '其它']; //数据点名称\nvar getmyd = [86, 90, 77, 63, 55, 25, 98, 65, 55]; //学生满意度\nvar getmydzd = [];\nfor (let i = 0; i < getmyd.length; i++) {\n    getmydzd.push(10000);\n}\n//计算最大值\nfunction calMax(arr) {\n    let max = 0;\n    arr.forEach((el) => {\n        el.forEach((el1) => {\n            if (!(el1 === undefined || el1 === '')) {\n                if (max < el1) {\n                    max = el1;\n                }\n            }\n        });\n    });\n    let maxint = Math.ceil(max / 9.5);\n    //不让最高的值超过最上面的刻度\n    let maxval = maxint * 10;\n    //让显示的刻度是整数\n    return maxval;\n}\n\nvar max = Math.ceil(calMax([getmyd]) / 10) * 10;\n\noption = {\n    grid: {\n        left: '170',\n        right: '75',\n        bottom: '30',\n        top: '30',\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'none',\n        },\n        formatter: function (params) {\n            return '林分类型分布<br>' + params[0].name + ': ' + params[0].value + '个';\n        },\n    },\n    xAxis: [\n        {\n            type: 'value',\n            axisLabel: {\n                margin: 5,\n                color: '#666666',\n                textStyle: {\n                    fontSize: '13',\n                },\n            },\n            min: 0,\n            max: max, // 计算最大值\n            interval: max / 5, //  平均分为5份\n            splitNumber: 5,\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    color: '#D8D8D8',\n                },\n            },\n            axisLine: {\n                show: true,\n                lineStyle: {\n                    color: '#CCCCCC',\n                },\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n        {\n            type: 'value',\n            axisLabel: {\n                show: false,\n            },\n            min: 0,\n            max: max, // 计算最大值\n            interval: max / 10, //  平均分为5份\n            splitNumber: 10,\n            splitLine: {\n                show: true,\n                lineStyle: {\n                    type: 'dashed',\n                    color: '#CCEAA4',\n                },\n            },\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n        },\n    ],\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLabel: {\n                textStyle: {\n                    color: '#287912',\n                    fontSize: '13',\n                },\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLine: {\n                lineStyle: {\n                    color: '#CCCCCC',\n                },\n            },\n            data: getmydmc,\n        },\n    ],\n    series: [\n        {\n            name: '值',\n            type: 'bar',\n            zlevel: 1,\n            xAxisIndex: 0,\n            label: {\n                show: true,\n                position: 'right',\n                color: '#fff',\n                fontSize: 14,\n                fontWeight: 'bold', // 加粗\n                distance: 5, // 距离\n            },\n            itemStyle: {\n                normal: {\n                    color: new echarts.graphic.LinearGradient(\n                        0,\n                        0,\n                        1,\n                        0,\n                        [\n                            {\n                                offset: 0,\n                                color: '#0D8B10', // 0% 处的颜色\n                            },\n                            {\n                                offset: 1,\n                                color: '#2DE604', // 100% 处的颜色\n                            },\n                        ],\n                        false\n                    ),\n                },\n            },\n            barWidth: 30,\n            data: getmyd,\n        },\n        {\n            name: '背景',\n            type: 'bar',\n            barWidth: 30,\n            barGap: '-100%',\n            xAxisIndex: 1,\n            data: getmydzd,\n            itemStyle: {\n                color: '#314383',\n            },\n        },\n    ],\n};\n"}