{"code":"var uploadedDataURL = \"/asset/get/s/data-1469626907389-rkXXqNUd.json\";\n\napp.title = '北京公交路线 - 线特效';\n\n$.getJSON(uploadedDataURL, function(data) {\n    var hStep = 300 / (data.length - 1);\n    var busLines = [].concat.apply([], data.map(function (busLine, idx) {\n        var prevPt;\n        var points = [];\n        for (var i = 0; i < busLine.length; i += 2) {\n            var pt = [busLine[i], busLine[i + 1]];\n            if (i > 0) {\n                pt = [\n                    prevPt[0] + pt[0],\n                    prevPt[1] + pt[1]\n                ];\n            }\n            prevPt = pt;\n\n            points.push([pt[0] / 1e4, pt[1] / 1e4]);\n        }\n        return {\n            coords: points,\n            lineStyle: {\n                normal: {\n                    color: echarts.color.modifyHSL('#5A94DF', Math.round(hStep * idx))\n                }\n            }\n        };\n    }));\n    myChart.setOption(option = {\n        bmap: {\n            center: [116.40, 40.04],\n            zoom: 10,\n            roam: true,\n            mapStyle: {\n              'styleJson': [\n                {\n                  'featureType': 'water',\n                  'elementType': 'all',\n                  'stylers': {\n                    'color': '#031628'\n                  }\n                },\n                {\n                  'featureType': 'land',\n                  'elementType': 'geometry',\n                  'stylers': {\n                    'color': '#000102'\n                  }\n                },\n                {\n                  'featureType': 'highway',\n                  'elementType': 'all',\n                  'stylers': {\n                    'visibility': 'off'\n                  }\n                },\n                {\n                  'featureType': 'arterial',\n                  'elementType': 'geometry.fill',\n                  'stylers': {\n                    'color': '#000000'\n                  }\n                },\n                {\n                  'featureType': 'arterial',\n                  'elementType': 'geometry.stroke',\n                  'stylers': {\n                    'color': '#0b3d51'\n                  }\n                },\n                {\n                  'featureType': 'local',\n                  'elementType': 'geometry',\n                  'stylers': {\n                    'color': '#000000'\n                  }\n                },\n                {\n                  'featureType': 'railway',\n                  'elementType': 'geometry.fill',\n                  'stylers': {\n                    'color': '#000000'\n                  }\n                },\n                {\n                  'featureType': 'railway',\n                  'elementType': 'geometry.stroke',\n                  'stylers': {\n                    'color': '#08304b'\n                  }\n                },\n                {\n                  'featureType': 'subway',\n                  'elementType': 'geometry',\n                  'stylers': {\n                    'lightness': -70\n                  }\n                },\n                {\n                  'featureType': 'building',\n                  'elementType': 'geometry.fill',\n                  'stylers': {\n                    'color': '#000000'\n                  }\n                },\n                {\n                  'featureType': 'all',\n                  'elementType': 'labels.text.fill',\n                  'stylers': {\n                    'color': '#857f7f'\n                  }\n                },\n                {\n                  'featureType': 'all',\n                  'elementType': 'labels.text.stroke',\n                  'stylers': {\n                    'color': '#000000'\n                  }\n                },\n                {\n                  'featureType': 'building',\n                  'elementType': 'geometry',\n                  'stylers': {\n                    'color': '#022338'\n                  }\n                },\n                {\n                  'featureType': 'green',\n                  'elementType': 'geometry',\n                  'stylers': {\n                    'color': '#062032'\n                  }\n                },\n                {\n                  'featureType': 'boundary',\n                  'elementType': 'all',\n                  'stylers': {\n                    'color': '#465b6c'\n                  }\n                },\n                {\n                  'featureType': 'manmade',\n                  'elementType': 'all',\n                  'stylers': {\n                    'color': '#022338'\n                  }\n                },\n                {\n                  'featureType': 'label',\n                  'elementType': 'all',\n                  'stylers': {\n                    'visibility': 'off'\n                  }\n                }\n              ]\n            }\n        },\n        series: [{\n            type: 'lines',\n            coordinateSystem: 'bmap',\n            polyline: true,\n            data: busLines,\n            silent: true,\n            lineStyle: {\n                normal: {\n                    // color: '#c23531',\n                    // color: 'rgb(200, 35, 45)',\n                    opacity: 0.2,\n                    width: 1\n                }\n            },\n            progressiveThreshold: 500,\n            progressive: 200\n        }, {\n            type: 'lines',\n            coordinateSystem: 'bmap',\n            polyline: true,\n            data: busLines,\n            lineStyle: {\n                normal: {\n                    width: 0\n                }\n            },\n            effect: {\n                constantSpeed: 20,\n                show: true,\n                trailLength: 0.1,\n                symbolSize: 1.5\n            },\n            zlevel: 1\n        }]\n    });\n});"}