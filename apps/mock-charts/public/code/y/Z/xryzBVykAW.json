{"code":"var geoCoordMap = {\r\n    '上海': [121.48, 31.22],\r\n    '杭州': [120.19, 30.26],\r\n    '温州': [120.65, 28.01]\r\n};\r\n\r\nvar points = [\r\n    [{ cityName: '上海', runTime: '120', unitCount: '196', onlineRate: '38%', errors: '432', preErrors: '85' }],\r\n    [{ cityName: '杭州', runTime: '537', unitCount: '234', onlineRate: '42%', errors: '624', preErrors: '127' }],\r\n    [{ cityName: '温州', runTime: '50', unitCount: '120', onlineRate: '32%', errors: '252', preErrors: '60' }]\r\n];\r\n\r\nvar series = [];\r\n\r\n[\r\n    [\"\", points]\r\n].forEach(function(v, i) {\r\n    series.push({\r\n        type: 'effectScatter',\r\n        coordinateSystem: 'geo',\r\n        zlevel: 3,\r\n        rippleEffect: {\r\n            period: 4,\r\n            brushType: 'stroke',\r\n            scale: 4\r\n        },\r\n        symbol: 'circle',\r\n        symbolSize: function(val) {\r\n            return 8 + val[1] / 10;\r\n        },\r\n        itemStyle: {\r\n            normal: {\r\n                show: false,\r\n                color: 'rgba(0,255,0,1)'\r\n            }\r\n        },\r\n        data: v[1].map(function(dataItem) {\r\n            return {\r\n                name: dataItem[0].cityName,\r\n                value: geoCoordMap[dataItem[0].cityName],\r\n                runTime: dataItem[0].runTime,\r\n                unitCount: dataItem[0].unitCount,\r\n                onlineRate: dataItem[0].onlineRate,\r\n                errors: dataItem[0].errors,\r\n                preErrors: dataItem[0].preErrors,\r\n                proportion: dataItem[0].proportion,\r\n            };\r\n        }),\r\n    });\r\n});\r\n\r\nconsole.log(series)\r\n\r\noption = {\r\n    tooltip: {\r\n        trigger: 'item'\r\n    },\r\n    geo: {\r\n        map: 'china',\r\n        label: {\r\n            emphasis: {\r\n                show: false\r\n            }\r\n        },\r\n        roam: true,\r\n        layoutCenter: ['50%', '53%'],\r\n        layoutSize: \"108%\",\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(51, 69, 89, .5)',\r\n                borderColor: 'rgba(100,149,237,1)',\r\n                // areaColor: 'transparent'\r\n            },\r\n            emphasis: {\r\n                color: 'rgba(37, 43, 61, .5)'\r\n            }\r\n        }\r\n    },\r\n    series: series,\r\n};"}