{"code":"var uploadedDataURL = '/asset/get/s/data-1619331932890-vGo73FpJO.json';\n\n// 默认option\noptions = {\n  title: {\n    text: '数据集dataset使用示例'\n  },\n  tooltip: {},\n  dataset: [\n    {\n      source: [\n        { name: '南宁市', value: 20057.34 },\n        { name: '桂林市', value: 15477.48 },\n        { name: '梧州市', value: 31686.1 },\n        { name: '北海市', value: 6992.6 },\n        { name: '防城港市', value: 44045.49 },\n        { name: '钦州市', value: 40689.64 },\n        { name: '贵港市', value: 37659.78 },\n        { name: '玉林市', value: 45180.97 },\n        { name: '百色市', value: 55204.26 },\n        { name: '贺州市', value: 65204.26 },\n        { name: '河池市', value: 15204.26 },\n        { name: '柳州市', value: 25204.26 },\n        { name: '来宾市', value: 35204.26 },\n      ],\n    },\n    {\n      transform: {\n        type: 'sort',\n        config: { dimension: 'value', order: 'asc' },\n      },\n    },\n  ],\n  grid: {\n    top: '75%',\n    height: '20%',\n  },\n  xAxis: [\n    {\n      type: 'category',\n      inverse: true,\n    },\n  ],\n  yAxis: [\n    {\n      type: 'value',\n    },\n  ],\n  visualMap: {\n    type: \"piecewise\",\n    splitNumber: 8,\n    min: 0,\n    max: 100000,\n    calculable: true,\n    realtime: false,\n    inRange: {\n      color: [\"#ceebff\", \"#9ad5ff\", \"#52b8ff\", \"#1096f3\", \"#047fd4\"]\n    }\n  },\n  series: [\n    {\n      type: 'map',\n      mapType: 'map',\n      roam: true,\n      top: '5%',\n      bottom: '33%',\n      scaleLimit: {\n        min: 1,\n        max: 4,\n      },\n      label: {\n        show: false,\n      },\n      aspectScale: 0.75,\n      tooltip: {\n        formatter: '{b}: {c}',\n      },\n    },\n    {\n      type: 'bar',\n      showBackground: true,\n      backgroundStyle: {\n        borderRadius: [8, 8, 0, 0],\n      },\n      barWidth: 16,\n      itemStyle: {\n        borderRadius: [8, 8, 0, 0],\n      },\n      datasetIndex: 1,\n      encode: {\n        x: 'name',\n        y: 'value',\n      },\n    },\n  ],\n};\n\n// 异步加载地图geo文件\nfetch(uploadedDataURL)\n  .then(function (response) {\n    // 转换为 JSON\n    return response.json();\n  })\n  .then(function (mapJson) {\n    echarts.registerMap('map', mapJson);\n    myChart.setOption(options);\n  });\n"}