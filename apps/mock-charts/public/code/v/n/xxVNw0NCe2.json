{"code":"//半环形图\r\nvar data=[{value:335, name:'男教师'},\r\n\r\n\r\n                {value:310, name:'女教师'},\r\n           ]\r\n\r\n\r\nvar colorList = ['#4885FF', '#FEC67C']\r\n\r\n\r\n//这里才是关键整去掉下半部分的关键，\r\n\r\n\r\n//计算data中value的总和\r\n\r\n\r\nvar a=0;\r\nfor(var i=0; i<data.length; i++)\r\n{\r\n  a+=data[i].value;\r\n}\r\n\r\n\r\nvar data2=[{value:11,name:'背景'}]\r\n//添加新的元素到data中，并设置其颜色样式为白色\r\n\r\n\r\ndata.push({value:a, name:'__other', itemStyle:{normal:{color:'rgba(0,0,0,0)'}}});\r\ndata2.push({value:11, name:'__other2', itemStyle:{normal:{color:'rgba(0,0,0,0)'}}});\r\nconsole.log(data);\r\n\r\n\r\n\r\n\r\n//下面就不说了，都是echarts的属性，看其api就好\r\n\r\n\r\noption = {\r\n    tooltip : {\r\n        trigger: 'item',\r\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n    },\r\n    series : [\r\n        {\r\n            name: '男女教师比例',\r\n            type: 'pie',\r\n            startAngle:180,\r\n            radius :  ['50%', '60%'],\r\n            center: ['50%', '60%'],\r\n            data:data,\r\n            itemStyle: {\r\n                emphasis: {\r\n                    shadowBlur: 10,\r\n                    shadowOffsetX: 0,\r\n                    shadowColor: 'rgba(224,235,255, 0.5)'\r\n                },\r\n                normal: {\r\n                color: function(params) {\r\n                    return colorList[params.dataIndex]\r\n                }\r\n            }\r\n            },\r\n             label: {\r\n            show: false,\r\n             }\r\n        },\r\n        {\r\n        itemStyle: {\r\n            normal: {\r\n                color: 'rgba(224,235,255, 0.5)',\r\n            }\r\n        },\r\n        type: 'pie',\r\n        startAngle:180,\r\n        hoverAnimation: false,\r\n        radius: ['45%', '65%'],\r\n        center: [\"50%\", \"60%\"],\r\n        label: {\r\n            normal: {\r\n                show:false\r\n            }\r\n        },\r\n        data: data2,\r\n        z:-1\r\n    }\r\n    ]\r\n};"}