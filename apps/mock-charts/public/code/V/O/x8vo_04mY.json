{"code":"var iw = 20, ow = 40, gcount = 2, margin = 10;\nfunction getRenderFn ({y, w, g}) {\n return function renderItem(params, api) {\n    var xValue = api.value(0);\n    var yValue = api.value(y);\n    var style = api.style();\n    var point = api.coord([xValue, yValue]);\n    var size = api.size([1, yValue])\n    var bar = api.barLayout({\n        // barGap: '100%', barCategoryGap: '0%', count: 2\n        barWidth: ow, count: gcount, barGap: '100%'\n    });\n    console.debug(bar)\n    return {\n            type: 'rect',\n            shape: {\n                x: point[0] + bar[g].offsetCenter - w/2,\n                y: point[1],\n                width: w,\n                height: size[1]\n            },\n            style: style\n        };\n }   \n}\n\noption = {\n    dataset: {\n        source: [\n          [\n            \"省份\",\n            \"目标\",\n            \"实际\",\n            \"回购\",\n            \"逾期\"\n          ],\n          [\n            \"福建\",\n            16,\n            7,\n            3,\n            1\n          ],\n          [\n            \"广东\",\n            1,\n            2,\n            3,\n            4\n          ],\n          [\n            \"贵州\",\n            4,\n            5,\n            6,\n            7\n          ]\n          \n        ]\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        }\n    },\n    legend: {\n    },\n    dataZoom: [{\n        type: 'slider',\n    }, {\n        type: 'inside',\n    }],\n    xAxis: {\n        type: 'category',\n        axisTick: {\n                alignWithLabel: true\n            }\n    },\n    yAxis: {},\n    series: [{\n        type: 'custom',\n        name: '目标',\n        renderItem: getRenderFn({\n            y: '目标',\n            w: ow,\n            g: 0\n        }),\n        encode: {\n            x: '省份',\n            y: '目标'\n        }\n    },{\n        type: 'custom',\n        name: '实际',\n        renderItem: getRenderFn({\n            y: '实际',\n            w: iw,\n            g: 0\n        }),\n        encode: {\n            x: '省份',\n            y: '实际'\n        }\n    },{\n        type: 'custom',\n        name: '回购',\n        renderItem: getRenderFn({\n            y: '回购',\n            w: ow,\n            g: 1\n        }),\n        encode: {\n            x: '省份',\n            y: '回购'\n        }\n    },{\n        type: 'custom',\n        name: '逾期',\n        renderItem: getRenderFn({\n            y: '逾期',\n            w: iw,\n            g: 1\n        }),\n        encode: {\n            x: '省份',\n            y: '逾期'\n        }\n    }]\n};"}