{"code":"var cellSize = [100, 80];\n\nfunction getVirtulData() {\n    var date = +echarts.number.parseDate('2017-03-01');\n    var end = +echarts.number.parseDate('2017-04-01');\n    var dayTime = 3600 * 24 * 1000;\n    var data = [];\n    for (var time = date; time < end; time += dayTime) {\n        data.push([\n            echarts.format.formatTime('yyyy-MM-dd', time),\n            Math.floor(Math.random() * 10000)\n        ]);\n    }\n    return data;\n};\n\nfunction getLineSeries(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        center = chart.convertToPixel('calendar', item);\n        return {\n            type: 'line',\n            id: index + 'line',\n            label: {\n                normal: {\n                    formatter: '{c}'\n\n                }\n            },\n            itemStyle: {\n                normal: {\n                    color: '#80bcec',\n                    borderWidth: 1,\n                    lineStyle: {\n                        color: '#80bcec'\n                    }\n                }\n            },\n            xAxisIndex: index,\n            yAxisIndex: index,\n            data: [{\n                    name: '0',\n                    value: 4\n                },\n                {\n                    name: '1',\n                    value: 3\n                },\n                {\n                    name: '2',\n                    value: 4\n                },\n                {\n                    name: '0',\n                    value: 0\n                },\n                {\n                    name: '1',\n                    value: 3\n                },\n                {\n                    name: '2',\n                    value: 4\n                },\n                {\n                    name: '0',\n                    value: 0\n                },\n                {\n                    name: '1',\n                    value: 3\n                },\n                {\n                    name: '2',\n                    value: 4\n                }\n            ]\n        };\n    });\n};\n\nfunction getgrid(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        center = chart.convertToPixel('calendar', item);\n        console.log(center[0]);\n        return {\n            /* id: index + 'grid', */\n            left: center[0] - 50,\n            top: center[1],\n            width: '100',\n            height: '30'\n        };\n    });\n}\n\nfunction getxaxis(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        center = chart.convertToPixel('calendar', item);\n        return {\n            /* id: index + 'grid', */\n            type: 'category',\n            name: 'time',\n            gridIndex: index,\n            boundaryGap: false,\n            show: false\n        };\n    });\n}\n\nfunction getyaxis(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        center = chart.convertToPixel('calendar', item);\n        return {\n            /* id: index + 'grid', */\n            type: 'value',\n            name: 'height',\n            gridIndex: index,\n            show: false\n        };\n    });\n}\n\nfunction getLineSeriesUpdate(scatterData, chart) {\n    return echarts.util.map(scatterData, function(item, index) {\n        var center = chart.convertToPixel('calendar', item);\n        return {\n            id: index + 'line',\n            center: center\n        };\n    });\n}\n\nvar scatterData = getVirtulData();\n\noption = {\n    calendar: {\n        top: 'middle',\n        left: 'center',\n        orient: 'vertical',\n        cellSize: cellSize,\n        yearLabel: {\n            show: false,\n            textStyle: {\n                fontSize: 30\n            }\n        },\n        dayLabel: {\n            margin: 20,\n            firstDay: 1,\n            nameMap: ['星期日', '星期一', '星期二', '星期三', '星期四', '星期五', '星期六']\n        },\n        monthLabel: {\n            show: false\n        },\n        range: ['2017-03']\n    },\n    series: [{\n        id: 'label',\n        type: 'scatter',\n        coordinateSystem: 'calendar',\n        symbolSize: 1,\n\n        label: {\n            normal: {\n                show: true,\n                formatter: function(params) {\n                    return echarts.format.formatTime('dd', params.value[0]);\n                },\n                offset: [-cellSize[0] / 2 + 10, -cellSize[1] / 2 + 10],\n                textStyle: {\n                    color: '#000',\n                    fontSize: 14\n                }\n            }\n        },\n        data: scatterData\n    }]\n};\n\nsetTimeout(function() {\n    myChart.setOption({\n        series: getLineSeries(scatterData, myChart),\n        grid: getgrid(scatterData, myChart),\n        xAxis: getxaxis(scatterData, myChart),\n        yAxis: getyaxis(scatterData, myChart)\n    });\n}, 10);"}