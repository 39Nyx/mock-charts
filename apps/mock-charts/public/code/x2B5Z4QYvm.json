{"code":"var map\n\n      function initMap(options) {\n        //合并属性参数，可覆盖config.json中的对应配置\n        var mapOptions = mars3d.Util.merge(options, {\n          scene: {\n            center: { lat: 26.339073, lng: 118.495643, alt: 937783, heading: 355, pitch: -58 },\n          },\n        })\n\n        //创建三维地球场景\n        map = new mars3d.Map('mars3dContainer', mapOptions)\n\n        map.basemap = 2017 //蓝色底图\n\n        let geoJsonLayer = new mars3d.layer.GeoJsonLayer({\n          name: '安徽各市',\n          url: '//data.mars3d.cn/file/geojson/areas/340000_full.json',\n          symbol: {\n            type: 'polygon',\n            styleOptions: {\n              materialType: mars3d.MaterialType.PolyGradient, //重要参数，指定材质\n              color: '#3388cc',\n              opacity: 0.7,\n              alphaPower: 1.3,\n              //面中心点，显示文字的配置\n              label: {\n                text: '{name}', //对应的属性名称\n                opacity: 1,\n                font_size: 25,\n                color: '#fff',\n                font_family: '楷体',\n                outline: false,\n                scaleByDistance: true,\n                scaleByDistance_far: 20000000,\n                scaleByDistance_farValue: 0.1,\n                scaleByDistance_near: 1000,\n                scaleByDistance_nearValue: 1,\n              },\n            },\n            callback: function (attr, styleOpt) {\n              let randomHeight = attr.gdp * 5 //测试的高度\n              return {\n                color: getColor(),\n                diffHeight: randomHeight,\n              }\n            },\n          },\n          popup: '{name} : {gdp}亿元  ',\n        })\n        map.addLayer(geoJsonLayer)\n\n        //绑定事件\n        geoJsonLayer.on(mars3d.EventType.load, function (event) {\n          console.log('数据加载完成', event)\n        })\n        geoJsonLayer.on(mars3d.EventType.click, function (event) {\n          console.log('单击了图层', event)\n        })\n      }\n\n      let arrColor = ['rgb(15,176,255)', 'rgb(18,76,154)', '#40C4E4', '#42B2BE', 'rgb(51,176,204)', '#8CB7E5', 'rgb(0,244,188)', '#139FF0']\n\n      let index = 0\n      function getColor() {\n        return arrColor[++index % arrColor.length]\n      }"}