{"code":"var data = {\n    out: 679, // 省外流动数据\n\tin: 335,  // 省内流动数据\n\tdetail: [\n        {'name': '秀英区','value': 10},\n        {'name': '龙华区','value': 20},\n        {'name': '琼山区','value': 20},\n        {'name': '美兰区','value': 27}\n    ]\n};\nvar inData = [\n        {value:data.out, name:'省外流动'},\n        {value:data.in, name:'省内流动'}\n    ]\nvar color = {\n    start: ['#EE4D47', '#E5C905', '#00f', '#AE9AFE'],\n    end: ['#FE868E', '#EED932', '#5AB2F6', '#855CFE']\n}\nvar seriesData = data.detail.map((item, index) => {\n    return {\n        name: item.name,\n        value: item.value,\n        itemStyle: {\n            normal: {\n                color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [{\n                    offset: 0,\n                    color: color.start[index]\n                }, {\n                    offset: 1,\n                    color: color.end[index]\n                }])\n            }\n        }\n    }\n})\n\noption = {\n    backgroundColor: '#121E48',\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{a} <br/>{b}: {c} ({d}%)\"\n    },\n    series: [\n        {\n            name:'访问来源',\n            type:'pie',\n            selectedMode: 'single',\n            radius: [0, '30%'],\n            color: ['#8266F7', '#5BD69F'],\n            label: {\n                normal: {\n                    position: 'inner'\n                }\n            },\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            data: inData\n        },\n        {\n            name:'访问来源',\n            type:'pie',\n            radius: ['40%', '55%'],\n            itemStyle: {\n                normal: {\n                    label: {\n                        show: true,\n                        formatter: function(params) {\n                            console.log(params)\n                            return params.name + '\\n' + params.value\n                        },\n                        color: '#fff',\n                        lineHeight: 20\n                    }\n                }\n            },\n            labelLine: {\n                length: 20,\n                length2: 30\n            },\n            data: seriesData\n        }\n    ]\n};"}