{"code":"var data = [];\n\nfor (let i = 0; i < 20; i++) {\n    let val = Math.floor(Math.random() * 100);\n    data.push({\n        name: val,\n        value: val\n    });\n}\n\n\n//预处理\nlet threshold = 0.05; //小于5%半径的不显示lavel\nlet sum = 0;\nfor (var m of data) {\n    sum += m.value;\n}\nfor (var i in data) {\n    if (data[i].value / sum < threshold) {\n        data[i].label = {\n            show: false\n        };\n        data[i].labelLine = {\n            show: false\n        };\n    }\n}\n\noption = {\n    title: {\n        text: '测试小于百分比的不显示label和labelLine',\n        subtext: '虚构数据',\n        left: 'center'\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: \"{b} ({d}%)\"\n    },\n    series: [{\n        type: 'pie',\n        radius: '65%',\n        center: ['50%', '50%'],\n        selectedMode: 'single',\n        data: data,\n    }]\n};"}