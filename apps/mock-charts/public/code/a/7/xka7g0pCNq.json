{"code":"var types = [\n    '名称',\n    '比例',\n    '数值'\n];\nconst yArr = ['老北京布鞋', '李宁', '安踏', '鸿星尔克', '名称']\nvar names = ['1', '2', '3', '4', '5'];\n\nvar data = [\n    [0, 0, 9],\n    [0, 1, 4],\n    [0, 2, 8.3],\n    [1, 0, 7],\n    [1, 1, 4],\n    [1, 2, 27.56],\n    [2, 0, 1],\n    [2, 1, 44],\n    [2, 2, 127.31],\n    [3, 0, 5],\n    [3, 1, 48],\n    [3, 2, 1741.88],\n    [4, 0, 100],\n    [4, 1, 100],\n    [4, 2, 100]\n];\n\ndata = data.map((item) => {\n    return {\n        value: [item[1], item[0], item[2] || '-'],\n        itemStyle: {\n            color: item[0] === 4 ? '#fe9a8b1a': '#fff'\n        },\n        label: {\n            color: item[0] === 4 ? '#ccc' : '#fe9a8b',\n            align: 'center'\n        },\n        emphasis: {\n            itemStyle: {\n                color: item[0] === 4 ? '#fe9a8b1a' :'#FFF'\n            }\n        }\n    }\n});\n\noption = {\n    grid: {\n        backgroundColor: '#F6F8FA',\n        width: 270,\n        height: 28 * yArr.length,\n        left: 'center',\n        top:'center'\n    },\n    xAxis: {\n        type: 'category',\n        data: types,\n        splitArea: {\n            show: false,\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        }\n    },\n    yAxis: {\n        type: 'category',\n        data: names,\n        splitArea: {\n            show: true,\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        axisLabel: {\n            show: false\n        }\n    },\n    series: [\n        {\n            type: 'heatmap',\n            data: data,\n            label: {\n                show: true,\n                fontSize: 14,\n                lineHeight: 22,\n                formatter: (params) => {\n                    if (params.name === '比例') {\n                        // console.log(params)\n                        if (params.value[1] !== 4) {\n                            return params.value[2] + '%'\n                        } else {\n                            console.log(params)\n                            return params.name\n                        }\n                    } \n                    else if (params.name === '数值') {\n                        if (params.value[1] === 4) {\n                            return params.name\n                        }\n                    } else {\n                        return yArr[params.value[1]]\n                    }\n                }\n            },\n            tooltip: {\n                show: false\n            },\n            itemStyle: {\n                color: '#fff'\n            }\n        }\n    ]\n}\n"}