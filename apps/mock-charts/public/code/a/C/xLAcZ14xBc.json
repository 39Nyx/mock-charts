{"code":"function randomData() {\n    now = new Date(+now + oneDay);\n    value = value + Math.random() * 21 - 10;\n    return {\n        name: now.toString(),\n        value: [\n            [now.getFullYear(), now.getMonth() + 1, now.getDate()].join('/'),\n            Math.round(value)\n        ]\n    };\n}\n\nvar data = [];\nvar now = +new Date(1997, 9, 3);\nvar oneDay = 24 * 3600 * 1000;\nvar value = Math.random() * 1000;\nfor (var i = 0; i < 1000; i++) {\n    data.push(randomData());\n}\n\noption = {\n    title: {\n        text: '动态数据 + 时间坐标轴'\n    },\n    tooltip: {\n        trigger: 'axis',\n        formatter: function(params) {\n            params = params[0];\n            var date = new Date(params.name);\n            return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];\n        },\n        axisPointer: {\n            animation: false\n        }\n    },\n    xAxis: {\n        type: 'time',\n        splitLine: {\n            show: false\n        },\n        triggerEvent: true\n    },\n    yAxis: {\n        type: 'value',\n        boundaryGap: [0, '100%'],\n        splitLine: {\n            show: false\n        }\n    },\n    series: [{\n        name: '模拟数据',\n        type: 'line',\n        showSymbol: false,\n        hoverAnimation: false,\n        markPoint: {\n            data: [\n                [{\n                    symbol: 'none',\n                    x: '95%',\n                    yAxis: data[999].value[1]\n                }, {\n                    symbol: 'circle',\n                    label: {\n                        normal: {\n                            position: 'start',\n                            formatter: '实时数据\\n{c}'\n                        }\n                    },\n                    name: '实时数据',\n                    value: data[999].value[1],\n                    xAxis: data[999].value[0],\n                    yAxis: data[999].value[1]\n                }]\n            ]\n        },\n        data: data\n    }]\n};\n\nsetInterval(function() {\n\n    for (var i = 0; i < 5; i++) {\n        data.shift();\n        data.push(randomData());\n    }\n    //alert(data[999].name)\n    myChart.setOption({\n        series: [{\n            data: data,\n            markLine: {\n                data: [\n                    [{\n                        symbol: 'none',\n                        x: '95%',\n                        yAxis: data[999].value[1]\n                    }, {\n                        symbol: 'circle',\n                        label: {\n                            normal: {\n                                position: 'start',\n                                formatter: '实时数据\\n{c}'\n                            }\n                        },\n                        name: '实时数据',\n                        value: data[999].value[1],\n                        xAxis: data[999].value[0],\n                        yAxis: data[999].value[1]\n                    }]\n                ]\n            }\n        }]\n    });\n}, 1000);"}