{"code":"//定义抠图方法\nfunction getImgData(imgSrc, radius, center = {\n    x: 0,\n    y: 0\n}) {\n    return new Promise((resolve) => {\n        const canvas = document.createElement('canvas');\n        const contex = canvas.getContext('2d');\n        const img = new Image();\n        img.crossOrigin = '';\n        const diameter = 2 * radius;\n        img.onload = function() {\n            canvas.width = diameter;\n            canvas.height = diameter;\n            contex.clearRect(0, 0, diameter, diameter);\n            contex.save();\n            contex.beginPath();\n            contex.arc(radius, radius, radius, 0, 2 * Math.PI); //画出圆\n            contex.clip(); //裁剪上面的圆形\n            contex.drawImage(img, center.x - radius, center.y - radius, diameter, diameter, 0, 0, diameter, diameter); // 在刚刚裁剪的园上画图\n            contex.restore(); // 还原状态\n            resolve(canvas.toDataURL('image/png', 1))\n        }\n        img.src = imgSrc;\n    })\n}\nlet p1 = getImgData('https://i.loli.net/2018/12/11/5c0f26233b7c9.jpeg', 60, {\n    x: 150,\n    y: 80\n});\nlet p2 = getImgData('https://i.loli.net/2019/03/29/5c9e005315d58.jpg', 45, {\n    x: 70,\n    y: 70\n});\nlet p3 = getImgData('https://i.loli.net/2018/12/11/5c0f5d927472d.jpeg', 300, {\n    x: 400,\n    y: 500\n});\n\nvar data = [{\n    fixed: true,\n    x: 100,\n    y: myChart.getHeight() / 2,\n    symbolSize: 100,\n    id: '0',\n    name: 'left'\n}, {\n    fixed: true,\n    x: myChart.getWidth() - 100,\n    y: myChart.getHeight() / 2,\n    symbolSize: 100,\n    id: '1',\n    name: 'right'\n}];\n\nvar edges = [];\nlet i = 2;\ndo {\n    if (i % 4 === 0) {\n        edges.push({\n            source: '0',\n            target: i,\n            value: i\n        })\n        edges.push({\n            source: i,\n            target: i + 1,\n            value: i\n        })\n        edges.push({\n            source: i + 1,\n            target: 1,\n            value: i\n        })\n        edges.push({\n            source: 0,\n            target: i + 2,\n            value: i\n        })\n        edges.push({\n            source: i + 2,\n            target: 1,\n            value: i\n        })\n        edges.push({\n            source: 0,\n            target: i + 3,\n            value: i\n        })\n        edges.push({\n            source: i + 3,\n            target: 1,\n            value: i\n        })\n    }\n\n    data.push({\n        id: i++,\n        symbolSize: i % 3 === 0 ? 60 : (i % 3 === 1 ? 70 : 80),\n        name: i,\n        legendHoverLink: true\n    })\n} while (i < 52)\n\noption = {\n    series: [{\n        type: 'graph',\n        layout: 'force',\n        animation: false,\n        data: data,\n        force: {\n            repulsion: 800,\n            edgeLength: [80, 200],\n            layoutAnimation: true\n        },\n        focusNodeAdjacency: true,\n        edges: edges,\n        edgeLabel: {\n            normal: {\n                show: true,\n                formatter: '{c}',\n                backgroundColor: 'red',\n                color: '#ffffff',\n                padding: [2, 5],\n                borderRadius: 4\n            }\n        },\n        lineStyle: {\n            normal: {\n                color: '#8DBFFF',\n                type: 'dashed',\n                opacity: 1,\n            }\n        },\n\n    }]\n};\n\nPromise.all([p1, p2, p3]).then((images) => {\n    let j = 0;\n    do {\n        data[j++].symbol = `image://${images[j%3]}`;\n    } while (j < 52)\n\n    myChart.setOption(option);\n\n})"}