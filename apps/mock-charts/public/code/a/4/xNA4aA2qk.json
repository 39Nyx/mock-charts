{"code":"\nvar  colors = ['#008b48','#64c128','#fadd1d','#ffaa01','#ff0101'];\nvar  texts = ['畅通','基本畅通','缓行','拥堵','严重拥堵'];\nfunction getIdx(value){\n     var p = value / 10,idx=0;\n    if(p>0.2&&p<=0.4){\n        idx=1;\n    }else if(p>0.4&&p<=0.6){\n        idx=2;\n    }else if(p>0.6&&p<=0.8){\n        idx=3;\n    }else if(p>0.8&&p<=1){\n        idx=4;\n    }\n    return idx;\n}\nfunction getColor(value){\n    \n    return colors[getIdx(value)];\n}\nfunction getText(value){\n      return texts[getIdx(value)];\n}\n\noption = {\n    tooltip: {\n        formatter: '{a} : {c}'\n    },\n    toolbox: {\n        feature: {\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    series: [\n        {\n            name: '实时交通指数',\n            type: 'gauge',\n            detail: {\n                formatter: '{value}',\n                fontSize:50,\n                fontWeight:'bold'\n                \n            },\n            data: [{value: 0, name:getText(0)}],\n            min:0,\n            max:10,\n            title:{\n                offsetCenter:[0,'20%'],\n                fontSize:20,\n                color:getColor(0)\n            },\n            axisLine:{\n                lineStyle:{\n                    width:25,\n                    color:[[0.2,colors[0]],[0.4,colors[1]],[0.6,colors[2]],[0.8,colors[3]],[1,colors[4]]]\n                }\n            },\n            axisLabel:{\n                fontSize:16,\n                fontWeight:'bold'\n            }\n        }\n    ]};\n    \nsetInterval(function () {\n     var value =  Math.round((Math.random() * 10)*10)/10;\n       option.series[0].data[0].value = value;\n     option.series[0].data[0].name = getText(value);\n     option.series[0].title.color = getColor(value);\n     \n    myChart.setOption(option, true);\n},3000);\n"}