{"code":"//计算最大值\nfunction calMax(arr) {\n  let max = 0;\n  arr.forEach((el) => {\n    el.forEach((el1) => {\n      if (!(el1 === undefined || el1 === '')) {\n        if (max < el1) {\n          max = el1;\n        }\n      }\n    });\n  });\n  let maxint = Math.ceil(max / 9.5); //不让最高的值超过最上面的刻度\n  let maxval = maxint * 10; //让显示的刻度是整数\n  return maxval;\n}\n\n//计算最小值\nfunction calMin(arr) {\n  let min = 0;\n  arr.forEach((el) => {\n    el.forEach((el1) => {\n      if (!(el1 === undefined || el1 === '')) {\n        if (min > el1) {\n          min = el1;\n        }\n      }\n    });\n  });\n  let minint = Math.floor(min / 10);\n  let minval = minint * 10; //让显示的刻度是整数\n  return minval;\n}\n\nvar data1 = [59357.9, 52789.77, 24837.98, 14345.02, 2291.93],\n  data2 = [-23.81, 36.43, 23.75, -86.83, -23.95];\n\nvar Min1 = calMin([data1]),\n  Min2 = calMin([data2]),\n  Max1 = calMax([data1]),\n  Max2 = calMax([data2]),\n  option = {\n    grid: { left: '100', right: '100', bottom: '100', top: '100' },\n    color: ['#0698d6', '#fd8246', '#d773b4', '#41ac7c', '#e86367', '#aada9c'],\n    tooltip: { trigger: 'axis', axisPointer: { type: 'cross', crossStyle: { color: '#999' } } },\n    legend: { data: ['市值', '涨幅'] },\n    xAxis: [\n      {\n        type: 'category',\n        show: true,\n        lineWidth: 0,\n        axisPointer: {\n          type: 'shadow',\n        },\n        data: ['2013-12-31', '2014-12-31', '2015-12-31', '2016-12-31', '2017-12-31'],\n      },\n    ],\n    yAxis: [\n      {\n        name: '单位：万元',\n        nameTextStyle: { color: '#999999' },\n        type: 'value',\n        axisLine: { show: false },\n        axisTick: { show: false },\n        axisLabel: { verticalAlign: 'bottom', color: '#999999' },\n        min: Min1,\n        max: Max1,\n        splitNumber: 5,\n        interval: (Max1 - Min1) / 5,\n        axisLabel: {\n          formatter: (val) => {\n            if (val == Min1) return val;\n            else if (val == Max1) return val;\n            else return '';\n          },\n        },\n      },\n      {\n        name: '单位：%',\n        type: 'value',\n        nameTextStyle: { color: '#999999' },\n        axisLine: { show: false },\n        axisTick: { show: false },\n        axisLabel: { verticalAlign: 'bottom', color: '#999999' },\n        min: Min2,\n        max: Max2,\n        splitNumber: 5,\n        interval: (Max2 - Min2) / 5,\n        axisLabel: {\n          formatter: (val) => {\n            if (val == Min2) return val;\n            else if (val == Max2) return val;\n            else return '';\n          },\n        },\n      },\n    ],\n    series: [\n      { name: '市值', type: 'bar', barGap: 0, barWidth: 30, data: data1 },\n      { name: '涨幅', type: 'line', barGap: 0, barWidth: 30, data: data2, yAxisIndex: 1 },\n    ],\n  };\n"}