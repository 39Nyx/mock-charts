{"code":"let yData = ['总数', 'EI', 'SCI', 'CSCD', '北大中文核心期刊', 'CSSCI', '其他期刊']\nlet xData = [3050,1200,300,200,900,300,150]\nlet color = ['#EA6D6C','#FE9379','#FFCC85','#02DEF9','#849EF2','#25CF9A','#499FF9']\n\nlet seriesData = xData.map((item,index)=>{\n    let a = new Array(xData.length).fill('');\n    a[index] = xData[index]\n    return {\n        type:'bar',\n        barGap:'-100%',\n        name:yData[index],\n        barWidth:18,\n        data:a,\n        itemStyle:{\n            color: color[index]\n        }\n    }\n})\nconsole.log(seriesData)\noption = {\n    legend:{\n        icon:'circle'\n    },\n    xAxis: {\n        position:'top',\n        axisLine:{\n            show:true,\n            lineStyle:{\n                color:'#31C2FF'\n            }\n        },\n        axisLabel:{\n            color:'#CAEEFF'\n        },\n        splitLine:{\n            show:false\n        }\n    },\n    yAxis: {\n        type:'category',\n        data: yData,\n        axisTick:{\n            show:false\n        },\n        axisLine:{\n            lineStyle:{\n                color:'#31C2FF'\n            }\n        },\n        axisLabel:{\n            color:'#CAEEFF',\n            formatter: name=>{\n                let len = name.length;\n                let time = Math.ceil(len / 5);\n                let newStr = ''\n                for(let i = 0 ; i < time ; i++){\n                    newStr+= name.substring(i*5,(i+1) * 5 )\n                    newStr+= '\\n'\n                }\n                console.log('1',name)\n                console.log('2',time)\n                console.log('3',newStr)\n                return newStr\n            }\n        }\n    },\n    series: seriesData\n};\n"}