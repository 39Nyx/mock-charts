{"code":"function getRandom(num) {\n    return Math.floor(Math.random() * num);\n}\n\nfunction getMax(arr, key) {\n    var max = 0,\n        len = arr.length;\n    for (var i = 0; i < len; i++) {\n        var item = arr[i][key];\n        if (max < item) max = item;\n    }\n    return max;\n}\n\nvar ageData = [{\n            name: '90后',\n            value: getRandom(6000)\n        },\n        {\n            name: '80后',\n            value: getRandom(6000)\n        },\n        {\n            name: '70后',\n            value: getRandom(6000)\n        },\n        {\n            name: '60后',\n            value: getRandom(6000)\n        },\n        {\n            name: '其他',\n            value: getRandom(6000)\n        }\n    ], // 年龄分布南丁格尔图数组\n    ages = [], // 年龄分布圆环数组\n    colorArr = ['#ffd74a', '#34f6cb', '#d88856', '#88a8ff', '#6665ff'],\n    len = ageData.length,\n    max = parseInt(getMax(ageData, 'value') * 1.2 * 100) / 100;\n\n// 添加一些占位值\nages = ageData.map(function(e) {\n    return {\n        name: e.name,\n        value: 100\n    }\n});\nages.push({\n    name: '',\n    value: 100 * len,\n    itemStyle: {\n        color: 'transparent'\n    }\n});\n\nfor (var i = 0; i < 5; i++) {\n    ageData.push({\n        value: 0\n    });\n}\n\noption = {\n    backgroundColor: '#188eee',\n    tooltip: {\n        formatter: '{b}: {c}件'\n    },\n    grid: {\n        top: '75%',\n        left: '35%',\n        right: '35%',\n        height: 2,\n    },\n    xAxis: [{\n        type: 'value',\n        min: -max,\n        max: max,\n        axisTick: {\n            show: false,\n        },\n        boundaryGap: true,\n        axisLine: {\n            show: false,\n            lineStyle: {\n                color: \"#035de4\",\n                width: 2\n            }\n        },\n        splitLine: {\n            show: false\n        },\n        showMinLabel: false,\n        showMaxLabel: false,\n        axisLabel: {\n            textStyle: {\n                color: '#fff',\n                fontSize: 12\n            },\n            formatter: function(value, index) {\n                return Math.abs(value);\n            }\n        }\n    }],\n    yAxis: [{\n        show: false\n    }],\n    series: [\n        //南丁格尔图 \n        {\n            type: 'pie',\n            startAngle: 180,\n            radius: [63, 180],\n            center: ['50%', '75%'],\n            roseType: 'area',\n            color: colorArr,\n            labelLine: {\n                normal: {\n                    show: false\n                }\n            },\n            label: {\n                normal: {\n                    show: false\n                }\n            },\n            // 默认值\n            // data: []\n            data: ageData,\n        },\n        // 年龄分布圆环 \n        {\n            type: 'pie',\n            startAngle: 180,\n            endAngle: 0,\n            hoverAnimation: false,\n            radius: [194, 247],\n            center: ['50%', '75%'],\n            itemStyle: {\n                color: '#2c25b2'\n            },\n            silent: true,\n            label: {\n                normal: {\n                    position: 'inner',\n                    textStyle: {\n                        color: '#fff',\n                        fontSize: 18,\n                        fontWeight: \"bold\"\n                    }\n                },\n            },\n            data: ages\n        },\n        // 最外层圆弧\n        {\n            type: 'gauge',\n            radius: 249,\n            center: ['50%', '75%'],\n            startAngle: 180,\n            endAngle: 0,\n            splitNumber: 5,\n            axisLine: {\n                lineStyle: {\n                    width: 1,\n                    color: [\n                        [1, '#0a5ba6']\n                    ]\n                },\n            },\n            splitLine: {\n                show: false\n            },\n            axisLabel: {\n                show: false\n            },\n            axisTick: {\n                show: false,\n            },\n            detail: {\n                show: false\n            },\n            pointer: {\n                show: false\n            }\n        }\n    ]\n};"}