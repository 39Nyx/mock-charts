{"code":"var testData = [\n        {\n            name:\"汇总\",\n            value:50,\n            children:[\n                {name:\"汇总当日计划\",value:45.7/(47.5+29.5)},\n                {name:\"汇总当日实际\",value:29.5/(47.5+29.5)}\n            ]\n        },\n        {\n            name:\"1.5MW\",\n            value:50*((10+6)/(47.5+29.5)),\n            children:[\n                {name:\"1.5MW当日计划\",value:10/((10+6)/(47.5+29.5))},\n                {name:\"1.5MW当日实际\",value:6/((10+6)/(47.5+29.5))}\n            ]\n        },\n        {\n            name:\"2MW\",\n            value:50*((7.2+3.5)/(47.5+29.5)),\n            children:[\n                {name:\"2MW当日计划\",value:7.2/(47.5+29.5)},\n                {name:\"2MW当日实际\",value:3.5/(47.5+29.5)}\n            ]\n        },\n        {\n            name:\"2.XMW\",\n            value:50*((12+11)/(47.5+29.5)),\n            children:[\n                {name:\"2.XMW当日计划\",value:12/(47.5+29.5)},\n                {name:\"2.XMW当日实际\",value:11/(47.5+29.5)}\n            ]\n        },\n        {\n            name:\"2.5MW汇总\",\n            value:50*((7.5+5)/(47.5+29.5)),\n            children:[\n                {name:\"2.5MW当日计划\",value:7.5/(47.5+29.5)},\n                {name:\"2.5MW当日实际\",value:5/(47.5+29.5)}\n            ]\n        },\n        {\n            name:\"3SMW汇总\",\n            value:50*((9+4)/(47.5+29.5)),\n            children:[\n                {name:\"3SMW当日计划\",value:9/(47.5+29.5)},\n                {name:\"3SMW当日实际\",value:4/(47.5+29.5)}\n            ]\n        }\n    ]\nfunction colorMappingChange(value) {\n        var levelOption = getLevelOption(value);\n        chart.setOption({\n            series: [{\n                levels: levelOption\n            }]\n        });\n    }\n\n    var formatUtil = echarts.format;\n\n    function getLevelOption() {\n        return [\n            {\n                itemStyle: {\n                    normal: {\n                        borderWidth: 0,\n                        gapWidth: 5\n                    }\n                }\n            },\n            {\n                itemStyle: {\n                    normal: {\n                        gapWidth: 1\n                    }\n                }\n            },\n            {\n                colorSaturation: [0.35, 0.5],\n                itemStyle: {\n                    normal: {\n                        gapWidth: 1,\n                        borderColorSaturation: 0.6\n                    }\n                }\n            }\n        ];\n    }\n\n    myChart.setOption(option = {\n        title:{\n            text:\"风电完成对比\"\n        },\n        tooltip: {\n            formatter: function (info) {\n                var value = info.value;\n                var treePathInfo = info.treePathInfo;\n                var treePath = [];\n\n                for (var i = 1; i < treePathInfo.length; i++) {\n                    treePath.push(treePathInfo[i].name);\n                }\n\n                return [\n                    '<div class=\"tooltip-title\">' + formatUtil.encodeHTML(treePath.join('/')) + '</div>',\n                    '面积: ' + formatUtil.addCommas(value) + ' m²',\n                ].join('');\n            }\n        },\n\n        series: [\n            {\n                name:'风电完成对比',\n                type:'treemap',\n                visibleMin: 300,\n                label: {\n                    show: true,\n                    formatter: '{b}'\n                },\n                itemStyle: {\n                    normal: {\n                        borderColor: '#fff'\n                    }\n                },\n                levels: getLevelOption(),\n                data: testData\n            }\n        ]\n    });"}