{"code":"var uploadedDataURL = '/asset/get/s/data-1592366734603-Z-iQwIHJk.json';\nvar center = {\n    南京市: [118.767413, 32.041544],\n    无锡市: [120.301663, 31.574729],\n    徐州市: [117.184811, 34.261792],\n    常州市: [119.946973, 31.772752],\n    苏州市: [120.619585, 31.299379],\n    南通市: [120.864608, 32.016212],\n    连云港市: [119.178821, 34.600018],\n    淮安市: [119.021265, 33.597506],\n    盐城市: [120.139998, 33.377631],\n    扬州市: [119.421003, 32.393159],\n    镇江市: [119.452753, 32.204402],\n    泰州市: [119.915176, 32.484882],\n    宿迁市: [118.275162, 33.963008],\n};\nvar option = null;\n$.get(uploadedDataURL, function (res) {\n    var mapData = JSON.parse(res);\n    echarts.registerMap('js', mapData);\n    var centerMap = {};\n    if (mapData && mapData.features && mapData.features.length > 0) {\n        for (var i = 0; i < mapData.features.length; i++) {\n            var feature = mapData.features[i];\n            var properties = feature.properties || {};\n            if (properties && properties.name) {\n                centerMap[properties.name] = properties.center || [];\n            }\n        }\n    }\n    var option = {\n        color: ['#ED7C30'], //圆点图例颜色\n        legend: {\n            //圆点\n            show: false,\n        },\n        visualMap: {\n            show: false,\n            max: 100,\n            inRange: {\n                color: ['#A5DCF4', '#006edd'],\n            },\n        },\n        geo: [\n            {\n                map: 'js',\n                roam: false, //是否允许缩放\n                zoom: 1.1, //默认显示级别\n                scaleLimit: {\n                    min: 0,\n                    max: 3,\n                }, //缩放级别\n                itemStyle: {\n                    //阴影\n                    normal: {\n                        borderColor: new echarts.graphic.LinearGradient(\n                            0,\n                            0,\n                            0,\n                            1,\n                            [\n                                {\n                                    offset: 0,\n                                    color: '#00F6FF',\n                                },\n                                {\n                                    offset: 1,\n                                    color: '#53D9FF',\n                                },\n                            ],\n                            false\n                        ),\n                        borderWidth: 3,\n                        shadowColor: 'rgba(10,76,139,1)',\n                        shadowOffsetY: 0,\n                        shadowBlur: 60,\n                    },\n                },\n                tooltip: {\n                    show: true,\n                },\n            },\n        ],\n        series: [\n            {\n                type: 'effectScatter',\n                coordinateSystem: 'geo',\n                z: 5,\n                data: [\n                    {\n                        city: '盐城市',\n                        value: [120.139998, 33.377631],\n                    },\n                ],\n                symbolSize: 14,\n                label: {\n                    normal: {\n                        show: true,\n                        formatter: function (params) {\n                            return (\n                                '{fline|地点：' +\n                                params.data.city +\n                                '}\\n{tline|' +\n                                (params.data.info || '发生xx集件') +\n                                '}'\n                            );\n                        },\n                        position: 'top',\n                        backgroundColor: '#6EB7EC',\n                        padding: [0, 0],\n                        borderRadius: 3,\n                        lineHeight: 32,\n                        color: '#f7fafb',\n                        rich: {\n                            //tooltip文字颜色\n                            fline: {\n                                padding: [0, 10, 10, 10],\n                                color: '#ffffff',\n                            },\n                            tline: {\n                                padding: [10, 10, 0, 10],\n                                color: '#ffffff',\n                            },\n                        },\n                    },\n                    emphasis: {\n                        show: true,\n                    },\n                },\n                itemStyle: {\n                    color: '#feae21',\n                },\n            },\n            //地图\n            {\n                type: 'map',\n                mapType: 'js',\n                geoIndex: -1,\n                zoom: 1.1, //默认显示级别\n                label: {\n                    show: true,\n                    color: '#ffffff',\n                    emphasis: {\n                        color: 'white',\n                        show: false,\n                    },\n                },\n                itemStyle: {\n                    normal: {\n                        borderColor: '#2980b9',\n                        borderWidth: 1,\n                        areaColor: '#12235c',\n                    },\n                    emphasis: {\n                        areaColor: '#FA8C16',\n                        borderWidth: 0,\n                        color: 'green',\n                    },\n                },\n                data: Object.keys(center).map((name) => {\n                    return {\n                        name: name,\n                        value: Math.random() * 100,\n                    };\n                }),\n            },\n        ],\n    };\n    myChart.setOption(option);\n    myChart.on('mouseover', function (event) {\n        if (event.componentType === 'series' && event.seriesIndex === 1) {\n            var codeCity = event.name;\n            var coord = centerMap[codeCity];\n            option.series[0].data = [\n                {\n                    city: codeCity,\n                    value: coord,\n                },\n            ];\n            myChart.setOption(option, true);\n        }\n    });\n});\n"}