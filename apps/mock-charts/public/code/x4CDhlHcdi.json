{"code":"function randomData() {\r\n\r\n    now = new Date(+now + 1000);\r\n\r\n    value = value + Math.random() * 21 - 10;\r\n\r\n    return {\r\n\r\n        name: now.toString(),\r\n\r\n        value: [\r\n\r\n            now,\r\n\r\n            Math.round(value)\r\n\r\n        ]\r\n\r\n    }\r\n\r\n}\r\nvar data = [];\r\nvar now = new Date();\r\nvar value = Math.random() * 1000;\r\n\r\n\r\n\r\noption = {\r\n\r\n    title: {\r\n\r\n        text: '动态数据 + 时间坐标轴'\r\n\r\n    },\r\n\r\n    tooltip: {\r\n\r\n        trigger: 'axis',\r\n\r\n        formatter: function(params) {\r\n\r\n            params = params[0];\r\n\r\n            var date = new Date(params.name);\r\n\r\n            return date.getDate() + '/' + (date.getMonth() + 1) + '/' + date.getFullYear() + ' : ' + params.value[1];\r\n\r\n        },\r\n\r\n        axisPointer: {\r\n\r\n            animation: false\r\n\r\n        }\r\n\r\n    },\r\n\r\n    xAxis: {\r\n\r\n        type: 'time',\r\n\r\n        splitLine: {\r\n\r\n            show: false\r\n\r\n        }\r\n\r\n    },\r\n\r\n    yAxis: {\r\n\r\n        type: 'value',\r\n\r\n        boundaryGap: [0, '100%'],\r\n\r\n        splitLine: {\r\n\r\n            show: false\r\n\r\n        }\r\n\r\n    },\r\n\r\n    series: [{\r\n\r\n        name: '模拟数据',\r\n\r\n        type: 'line',\r\n\r\n        showSymbol: false,\r\n\r\n        hoverAnimation: false,\r\n\r\n        data: data\r\n\r\n    }]\r\n\r\n};\r\n\r\nsetInterval(function() {\r\n\r\n    //data.shift();\r\n\r\n    data.push(randomData());\r\n\r\n    myChart.setOption({\r\n\r\n        series: [{\r\n\r\n            data: data\r\n\r\n        }]\r\n\r\n    });\r\n\r\n}, 1000);"}