{"code":"let list = [\n    {\n        name: '2018',\n        value: 20.88,\n    },\n    {\n        name: '2019',\n        value: 17.22,\n    },\n    {\n        name: '2020',\n        value: 23.23,\n    },\n    {\n        name: '2021',\n        value: 25.92,\n        predict: true,\n    },\n];\n\nlet list2 = [\n    {\n        name: 'Q1',\n        value: 4,\n    },\n    {\n        name: 'Q2',\n        value: 5,\n    },\n    {\n        name: 'Q3',\n        value: 6,\n    },\n];\n\nconst colors = ['red', 'orange', 'yellow'];\n\nlet labels = list.map((m) => m.name);\nlet barData1 = list\n    .filter((m) => !m.predict)\n    .map((item) => {\n        return [item.name, item.value];\n    });\nlet barData2 = list\n    .filter((m) => m.predict)\n    .map((item) => {\n        return [item.name, item.value];\n    });\n\nlet series = [\n    {\n        name: '实际收入',\n        type: 'bar',\n        barWidth: 20,\n        data: barData1,\n        itemStyle: {\n            color: 'rgba(85,113,201,0.4)',\n        },\n        label: {\n            show: true,\n            position: 'top',\n            fontSize: 20,\n            color: 'rgba(85,113,201,1)',\n        },\n    },\n    {\n        name: '实际收入',\n        type: 'line',\n        symbol: 'circle',\n        symbolSize: 10,\n        data: barData1,\n    },\n    {\n        name: '预测收入',\n        type: 'bar',\n        barWidth: 20,\n        barGap: '-100%',\n        data: barData2,\n        label: {\n            show: true,\n            position: 'top',\n            fontSize: 20,\n            color: '#000',\n        },\n        itemStyle: {\n            color: 'rgba(85,113,201,0.1)',\n        },\n    },\n];\n\nlist2.forEach((item, index) => {\n    series.push({\n        name: 'Q' + (index + 1),\n        type: 'bar',\n        barWidth: 20,\n        barGap: '-100%',\n        stack: true,\n        data: [['2021', +(Math.random() * 5 + 3).toFixed(2)]],\n        label: {\n            show: true,\n            position: 'right',\n            fontSize: 20,\n            color: 'rgba(85,113,201,1)',\n        },\n        itemStyle: {\n            color: colors[index],\n        },\n    });\n});\nlet legends = list2.map((m) => m.name);\n\n\noption = {\n    xAxis: {\n        data: labels,\n        axisTick: {\n            show: false,\n        },\n    },\n    yAxis: {\n        show: false,\n    },\n    legend: {\n        data: legends,\n    },\n    series: series,\n};\n"}