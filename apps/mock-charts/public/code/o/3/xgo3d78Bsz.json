{"code":"var ydata = [{\r\n    name: '军事训练',\r\n    value: 80\r\n}, {\r\n    name: '生产劳动',\r\n    value: 180\r\n}, {\r\n    name: '勤工俭学',\r\n    value: 220\r\n}, {\r\n    name: '研学旅行',\r\n    value: 25\r\n}, {\r\n    name: '社会调查',\r\n    value: 50\r\n}, {\r\n    name: '实践活动',\r\n    value: 255\r\n}];\r\nvar total = 0;\r\nvar legData = [];\r\nfor (var i = 0, len = ydata.length; i < len; i++) {\r\n    total += ydata[i].value;\r\n    legData.push(ydata[i].name);\r\n}\r\n\r\nvar color = [\"#0098ec\", '#01ffff', '#00c800', \"#fcc000\", '#c451ea', '#ff5252']\r\n\r\noption = {\r\n    backgroundColor: '#012A5C',\r\n    color: color,\r\n    title: {\r\n        text: '总计：' + total,\r\n        //  subtext: 7789,\r\n        textStyle: {\r\n            color: '#fff',\r\n            fontSize: 40,\r\n            align: 'center'\r\n        },\r\n        // subtextStyle: {\r\n        //     fontSize: 30,\r\n        //     color: ['#ff9d19']\r\n        // },\r\n        x: 'center',\r\n        y: 'center',\r\n    },\r\n    // tooltip: {\r\n    //     trigger: \"item\",\r\n    //     textStyle: {\r\n    //         fontSize: 20\r\n    //     },\r\n    //     formatter: function(param) {\r\n    //         return param.marker + param.name + \"  \" + param.percent.toFixed(1) + \"%\";\r\n    //     }\r\n    // },\r\n    legend: {\r\n        orient: 'horizontal',\r\n        bottom: 20,\r\n        x: 'center',\r\n        width: '32%',\r\n        itemWidth: 14,\r\n        itemHeight: 14,\r\n        // align: 'left',\r\n        textStyle: {\r\n            color: '#fff'\r\n        },\r\n        itemGap: 20,\r\n        formatter: function(name) {\r\n            for (var i = 0, len = legData.length; i < len; i++) {\r\n                if (legData[i] == name) {\r\n                    return name + ' - ' + ((ydata[i].value / total) * 100).toFixed(1) + '%'\r\n                }\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: '各类活动次数',\r\n        type: 'pie',\r\n        // clockwise: false, //饼图的扇区是否是顺时针排布\r\n        // minAngle: 20, //最小的扇区角度（0 ~ 360）\r\n        radius: [\"30%\", \"50%\"],\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                formatter: '{text|{b}}\\n{value|{d}%}',\r\n                rich: {\r\n                    text: {\r\n                        color: \"#fff\",\r\n                        fontSize: 24,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        padding: 5\r\n                    },\r\n                    value: {\r\n                        fontSize: 24,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                    },\r\n                }\r\n            },\r\n            emphasis: {\r\n                show: true\r\n            }\r\n        },\r\n        data: ydata\r\n    }]\r\n};"}