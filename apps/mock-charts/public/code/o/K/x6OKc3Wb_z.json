{"code":"var level = [0, 0, 0, 0];\nvar data = [\n    {\n        value: level[0],\n        name: '不及格',\n    },\n    {\n        value: level[1],\n        name: '及格',\n    },\n    {\n        value: level[2],\n        name: '良好',\n    },\n    {\n        value: level[3],\n        name: '优秀',\n    },\n];\nvar colorList = ['#F52A72', '#4AD993', '#64A1F9', '#FC7D3B'];\noption = {\n    backgroundColor:'effefe',\n    legend: {\n        orient: 'vertical',\n        icon: 'rect',\n        x: '70%',\n        y: 'center',\n        itemWidth: 12,\n        itemHeight: 12,\n        align: 'left',\n        textStyle: {\n            color: '#fff',\n        },\n        formatter: (params) => {\n            const dataAll = data.map((item) => Number(item.value));\n            const total = dataAll.reduce((x, y) => parseInt(x, 10) + parseInt(y, 10));\n            const value = Number(data.filter((item) => item.name === params)[0].value);\n            if (total === 0) {\n                return `${params}：0.00%`;\n            }\n            // const name = params\n            return `${params}：${((value * 100) / total).toFixed(2)}%`;\n        },\n    },\n    series: [\n        {\n            type: 'pie',\n            radius: ['50%', '80%'],\n            center: ['30%', '50%'],\n            label: {\n                show: false,\n                normal: {\n                    // formatter: '{c}',\n                    position: 'inside',\n                    formatter: (params) => {\n                        // return  params.name + '\\n' + params.value+'%'\n                        return params.value + '%';\n                    },\n                    fontSize: 12,\n                },\n            },\n            data: data,\n            itemStyle: {\n                normal: {\n                    color: function (params) {\n                        return colorList[params.dataIndex];\n                    },\n                    label: {\n                        show: false,\n                        color: '#fff',\n                    },\n                    labelLine: {\n                        show: false,\n                    },\n                },\n            },\n        },\n    ],\n};\n"}