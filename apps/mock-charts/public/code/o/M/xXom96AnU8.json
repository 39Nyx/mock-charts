{"code":"var list = [\n    {\n        date: '1953年6月30日',\n        title: '第一次全国人口普查',\n        total: 601912371\n    },\n    {\n        date: '1964年7月1日',\n        title: '第二次全国人口普查',\n        total: 694580000\n    },\n    {\n        date: '1982年7月1日',\n        title: '第三次全国人口普查',\n        total: 1008180000\n    },\n    {\n        date: '1989年7月1日',\n        title: '第四次全国人口普查',\n        total: 1133680000\n    },\n    {\n        date: '2000年7月1日',\n        title: '第五次全国人口普查',\n        total: 1242600000\n    },\n    {\n        date: '2010年11月1日',\n        title: '第六次全国人口普查',\n        total: 1339724852\n    }\n]\nvar min = 0, xarr = [], yarr = [], linearr = []\nlist.map(item => {\n    linearr.push(0)\n    xarr.push(item.total)\n    yarr.push(`${item.date}\\n${item.title}`)\n    if (min < item.total) min = item.total\n})\nmin = parseInt(min / 8)\nlinearr.fill(-min)\nvar linev = { value: -min, symbol: 'none' }\nvar barv = { value: 0, label: { show: false } }\noption = {\n    grid: {\n      top: 20,\n      left: '50%',\n      right: '30%',\n      bottom: 50\n    },\n    legend: {\n      bottom: 0,\n      itemWidth: 10,\n      itemHeight: 10,\n      textStyle: {\n        padding: [2, 0, 0, 0]\n      }\n    },\n    xAxis: {\n      axisLine: {show: false},\n      axisTick: {show: false},\n      axisLabel: {show: false},\n      splitLine: {show: false},\n      min: -min\n    },\n    yAxis: {\n      type: 'category',\n      axisLine: {\n        show: false\n      },\n      axisTick: {\n        show: false,\n        alignWithLabel: true\n      },\n      axisLabel: {\n        margin: 30,\n        alignWithLabel: true\n      },\n      data: ['', ...yarr, '']\n    },\n    color: ['#F5222D'],\n    series: [{\n      name: '人口数量',\n      type: 'bar',\n      barWidth: 30,\n      label: {\n        show: true,\n        position: 'right',\n        formatter(val) {\n            console.log(val.value)\n            return (val.value/100000000).toFixed(2) + '亿人'\n        }\n      },\n      data: [barv, ...xarr, barv]\n    },\n    {\n      type: 'line',\n      symbolSize: 8,\n      itemStyle: {\n        borderColor: \"#F5222D\",\n        borderWidth: 2,\n      },\n      hoverAnimation: false,\n      legendHoverLink: false,\n      data: [linev, ...linearr, linev],\n      lineStyle: {\n          color: '#F5222D'\n      }\n    }],\n}"}