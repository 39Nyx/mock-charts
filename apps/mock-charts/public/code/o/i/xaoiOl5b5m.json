{"code":"//项目说明\n//https://www.yuque.com/wenfeng-xpta1/nt34sc/goaxny/edit\n\nvar seriesData = [\n    { name: '现金类', value: 30, age: '10' },\n    { name: '固收类', value: 10, age: '10' },\n    { name: '权益类', value: 15, age: '10' },\n    { name: '其他类', value: 23, age: '10' },\n    { name: '保障类', value: 12, age: '10' },\n];\n\nvar objData = array2obj(seriesData, 'name');\n\nfunction array2obj(array, key) {\n    var resObj = {};\n    for (var i = 0; i < array.length; i++) {\n        resObj[array[i][key]] = array[i];\n    }\n    console.log(JSON.stringify(resObj));\n    return resObj;\n}\n\nvar color = ['#34BCFF', '#FED100', '#8380FF', '#95D600', '#FF688D'];\n\noption = {\n    tooltip: {},\n    color: color,\n    title: [\n        {\n            show: true,\n            text: '{a|名称}{b|当前}{c|建议}',\n            top: '30%',\n            left: '75%',\n            textStyle: {\n                rich: {\n                    a: {\n                        align: 'center',\n                        fontSize: 14,\n                        color: 'black',\n                        width: 20,\n                        padding: [0, 0, 0, 20],\n                    },\n                    b: {\n                        align: 'center',\n                        fontSize: 14,\n                        color: 'black',\n                        width: 5,\n                        padding: [0, 0, 0, 50],\n                    },\n                    c: {\n                        align: 'center',\n                        fontSize: 14,\n                        color: 'black',\n                        width: 5,\n                        padding: [0, 0, 0, 45],\n                    },\n                },\n            },\n        },\n    ],\n    series: [\n        {\n            name: '',\n            type: 'pie',\n            radius: ['40%', '60%'],\n            avoidLabelOverlap: false,\n            label: {\n                show: false,\n                position: 'center',\n            },\n            emphasis: {\n                label: {\n                    show: false,\n                    fontSize: '40',\n                    fontWeight: 'bold',\n                },\n            },\n            labelLine: {\n                show: false,\n            },\n            data: seriesData,\n        },\n    ],\n    legend: {\n        selectedMode: false, //取消底部的按钮的点击\n        orient: 'vertical',\n        top: '35%',\n        left: '75%',\n        show: true,\n        itemGap: 15,\n        itemWidth: 15,\n        itemHeight: 10,\n        data: seriesData,\n        formatter: function (name) {\n            console.log(name);\n            return '{a|' + name + '}{b|' + objData[name].value + '}{c|' + objData[name].age + '}';\n        },\n        textStyle: {\n            rich: {\n                a: {\n                    align: 'center',\n                    fontSize: 14,\n                    color: color,\n                    width: 20,\n                    //fontWeight: 600,\n                    padding: [0, 0, 0, 10],\n                },\n                b: {\n                    align: 'center',\n                    fontSize: 14,\n                    color: color,\n                    width: 5,\n                    //fontWeight: 600,\n                    padding: [0, 0, 0, 40],\n                },\n                c: {\n                    align: 'center',\n                    fontSize: 14,\n                    color: color,\n                    width: 5,\n                    //fontWeight: 600,\n                    padding: [0, 0, 0, 50],\n                },\n            },\n        },\n    },\n};\n\nmyChart.setOption(option);\n\ngetDefaultSelected(myChart);\n\nfunction getDefaultSelected(myChart) {\n    let index = 0;\n    myChart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: 0,\n    });\n    myChart.on('mouseover', (e) => {\n        if (e.dataIndex !== index) {\n            myChart.dispatchAction({\n                type: 'downplay',\n                seriesIndex: 0,\n                dataIndex: index,\n            });\n        }\n    });\n    myChart.on('mouseout', (e) => {\n        index = e.dataIndex;\n        myChart.dispatchAction({\n            type: 'highlight',\n            seriesIndex: 0,\n            dataIndex: e.dataIndex,\n        });\n    });\n}\n"}