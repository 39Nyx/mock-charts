{"code":"var oridata = [\n[120, 132, 101, 134, 90, 230, 210],\n[220, 182, 191, 234, 290, 330, 310],\n[150, 232, 201, 154, 190, 330, 410]\n];\nvar data0 = [];\nvar data1 = [];\nvar data2 = [];\nvar total;\nfor (var i = 0, l = oridata[0].length; i < l; i++) {\ntotal = oridata[0][i] + oridata[1][i] + oridata[2][i];\ndata0.push(Math.round(oridata[0][i]/total * 100));\ndata1.push(Math.round(oridata[1][i]/total * 100));\ndata2.push(100 - data0[data0.length - 1] - data1[data1.length - 1]);\n}\noption = {\ntooltip : {\ntrigger: 'axis',\naxisPointer : { // 坐标轴指示器，坐标轴触发有效\ntype : 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n}\n},\nlegend: {\ndata:['邮件营销','联盟广告','视频广告']\n},\ntoolbox: {\nshow : true,\norient: 'vertical',\nx: 'right',\ny: 'center',\nfeature : {\nmark : true,\ndataView : {readOnly: false},\nmagicType:['line', 'bar'],\nrestore : true,\nsaveAsImage : true\n}\n},\ncalculable : true,\nxAxis : [\n{\ntype : 'category',\ndata : ['周一','周二','周三','周四','周五','周六','周日']\n}\n],\nyAxis : [\n{\ntype : 'value',\nsplitArea : {show : true}\n}\n],\nseries : [\n{\nname:'邮件营销',\ntype:'bar',\nstack: '广告',\ndata:data0\n},\n{\nname:'联盟广告',\ntype:'bar',\nstack: '广告',\ndata:data1\n},\n{\nname:'视频广告',\ntype:'bar',\nstack: '广告',\ndata:data2\n}\n]\n};"}