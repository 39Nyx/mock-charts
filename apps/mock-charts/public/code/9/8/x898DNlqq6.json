{"code":"var geoCoordMap = {\n    '北京': [116.405285, 39.904985],\n    '福建': [119.306239, 26.075230],\n    '贵州': [106.713478, 26.578343]\n};\nvar data = [{\n    \"name\": \"北京\",\n    \"value\": 213\n}, {\n    \"name\": \"福建\",\n    \"value\": 100\n}, {\n    \"name\": \"贵州\",\n    \"value\": 50\n}];\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value)\n            });\n        }\n    }\n    return res;\n};\n\noption = {\n    title: {\n        text: 'echarts 地图学习',\n        left: 'center',\n        textStyle: {\n            color: '#fff'\n        }\n    },\n    tooltip: {\n        trigger: 'item',\n        formatter: function(params) {\n            return params.name + ' : ' + params.value[2];\n        }\n    },\n    visualMap: {\n        min: 0,\n        max: 300,\n        left: 20,\n        bottom: 20,\n        calculable: true,\n        text: ['高', '低'],\n        inRange: {\n            color: ['rgb(70, 240, 252)', 'rgb(250, 220, 46)', 'rgb(245, 38, 186)']\n        },\n        textStyle: {\n            color: '#111'\n        }\n    },\n    geo: {\n        map: 'china',\n        label: {\n            emphasis: {\n                show: false\n            }\n        },\n        roam:true,\n        itemStyle: {\n            normal: {\n                areaColor: 'rgb(19, 91, 153)',\n                borderColor: 'rgb(9, 54, 95)'\n            },\n            emphasis: {\n                areaColor: 'rgb(10, 105, 187)'\n            }\n        }\n    },\n    series: [{\n            name: '散点测试',\n            type: 'effectScatter',\n            coordinateSystem: 'geo',\n            data: convertData(data),\n            symbolSize: val=>{\n                return parseInt(val)/6\n            },\n            label: {\n                normal: {\n                    show: false\n                },\n                emphasis: {\n                    show: false\n                }\n            },\n            itemStyle: {\n                emphasis: {\n                    borderColor: '#fff',\n                    borderWidth: 1\n                }\n            }\n        },\n\n\n        {\n            type: 'map',\n            map: 'china',\n            geoIndex: 0,\n            aspectScale: 0.75, \n            tooltip: {\n                show: false\n            }\n        }\n    ]\n}\n\n"}