{"code":"var data = [87, 90, 60, 50, 20];\nvar target = 80;\nfor (var i = 0; i < data.length; i++) {\n    data[i] = {\n        value: data[i],\n        itemStyle: {\n            color: data[i] >= target ? '#c00' : '#00736E'\n        }\n    }\n};\noption = {\n    backgroundColor: '#fff',\n    title: {\n        text: 'CPU TOP5',\n        left: 'center',\n        subtext: \"2020-03-12 10:00\",\n        subtextStyle: { //副标题的属性\n            color: '#666',\n            // 同主标题\n        }\n    },\n    tooltip: {\n         trigger: 'axis',\n         axisPointer: { // 坐标轴指示器，坐标轴触发有效\n             type: 'shadow' // 默认为直线，可选为：'line' | 'shadow'\n         }\n     },\n    yAxis: {\n        \n        type: 'value',\n        name: 'cpu占用率',\n        axisLabel: {\n            show: true,\n            interval: 'auto',\n            formatter: (param) => {\n                return param + '%'\n            }\n        },\n        splitLine: {\n            show: false\n        }\n    },\n    xAxis: {\n        type: 'category',\n        data: ['服务器一', '服务器二', '服务器三', '服务器四', '服务器五'],\n        axisLine: {\n            show: true,\n        },\n    },\n    series: [{\n        data: data,\n        type: 'bar',\n        barWidth: '30%',\n        itemStyle: {\n            barBorderRadius: 30,\n        },\n        label: {\n            normal: {\n                show: false,\n                fontSize: 14,\n                fontWeight: 'normal',\n                color: '#333',\n                position: 'top',\n                formatter: (param) => {\n                    return param.value + '%'\n                }\n            },\n            emphasis: {\n                show: true,\n                fontSize: 14,\n                fontWeight: 'normal',\n                color: '#333',\n                position: 'top',\n                formatter: (param) => {\n                    return param.value >= 87 ? param.value + '%' : ''\n                }\n            }\n        },\n        markLine: {\n            itemStyle: {\n                normal: {\n                    lineStyle: {\n                        type: 'dashed',\n                        // 这儿设置的颜色是公共配置，如需单独配置，请在data里配置\n                        color: '#00736E',\n                    },\n                    label: {\n                        show: true,\n                        position: 'insideEndTop',\n                        formatter: '{b}%'\n                    }\n                },\n            },\n            symbol:'none',//去掉箭头\n            data: [{\n                type:'average',\n                name: '80',\n                xAxis: 80,\n                // 单独配置每条线的样式\n                lineStyle: {\n                    color: '#00736E'\n                },\n                formatter: '{value}%'\n            }]\n        },\n    }]\n};"}