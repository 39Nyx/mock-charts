{"code":"// geo文件地址\nvar uploadedDataURL = '/asset/get/s/data-1617778426692-KdrH1rape.json';\n\n// 默认option\noptions = {\n  title: {\n    text: '数据集dataset使用示例',\n  },\n  tooltip: {},\n  dataset: [\n    {\n      source: [\n        { name: '北京市', value: 589 },\n        { name: '广东省', value: 543 },\n        { name: '云南省', value: 536 },\n        { name: '四川省', value: 368 },\n        { name: '江苏省', value: 329 },\n        { name: '上海市', value: 318 },\n        { name: '浙江省', value: 315 },\n        { name: '陕西省', value: 269 },\n        { name: '山东省', value: 267 },\n        { name: '广西壮族自治区', value: 258 },\n        { name: '黑龙江省', value: 245 },\n        { name: '台湾省', value: 244 },\n        { name: '河北省', value: 237 },\n        { name: '河南省', value: 233 },\n        { name: '湖南省', value: 216 },\n        { name: '湖北省', value: 202 },\n        { name: '重庆市', value: 189 },\n        { name: '江西省', value: 187 },\n        { name: '吉林省', value: 182 },\n        { name: '天津市', value: 173 },\n        { name: '福建省', value: 170 },\n        { name: '新疆维吾尔自治区', value: 170 },\n        { name: '青海省', value: 167 },\n        { name: '安徽省', value: 159 },\n        { name: '贵州省', value: 154 },\n        { name: '辽宁省', value: 146 },\n        { name: '内蒙古自治区', value: 137 },\n        { name: '海南省', value: 125 },\n        { name: '山西省', value: 96 },\n        { name: '香港', value: 75 },\n        { name: '甘肃省', value: 73 },\n        { name: '西藏自治区', value: 71 },\n        { name: '宁夏回族自治区', value: 44 },\n        { name: '澳门', value: 5 },\n      ],\n    },\n  ],\n  grid: [\n    {\n      top: 5,\n      right: '5%',\n      bottom: '39%',\n      left: '65%',\n      height: '55%',\n      containLabel: true,\n    },\n  ],\n  xAxis: {},\n  yAxis: {\n    type: 'category',\n    axisLine: {\n      show: false,\n    },\n    axisTick: {\n      show: false,\n    },\n  },\n  visualMap: [\n    {\n      type: 'piecewise',\n      splitNumber: 10,\n      min: 0,\n      max: 600,\n      minOpen: true,\n      maxOpen: true,\n      selectedMode: 'multiple',\n      text: ['高', '低'],\n      textGap: 6,\n      itemGap: 0,\n      dimension: 1,\n      inRange: {\n        color: ['#E9E3F5', '#51259F'],\n      },\n    },\n  ],\n  series: [\n    {\n      type: 'map',\n      mapType: 'map',\n      roam: true,\n      zoom: 1,\n      left: '5%',\n      top: '5%',\n      right: '40%',\n      bottom: '5%',\n      scaleLimit: {\n        min: 1,\n        max: 4,\n      },\n      label: {\n        show: false,\n      },\n      aspectScale: 0.75,\n      tooltip: {\n        formatter: '{b}:{c}',\n      },\n      nameMap: {\n        'CHN.15': '内蒙古自治区',\n        'CHN.37': '山东省',\n        'CHN.14': '山西省',\n        'CHN.36': '江西省',\n        'CHN.13': '河北省',\n        'CHN.35': '福建省',\n        'CHN.12': '天津市',\n        'CHN.34': '安徽省',\n        'CHN.11': '北京市',\n        'CHN.33': '浙江省',\n        'CHN.32': '江苏省',\n        'CHN.54': '西藏自治区',\n        'CHN.31': '上海市',\n        'CHN.53': '云南省',\n        'CHN.52': '贵州省',\n        'CHN.51': '四川省',\n        'CHN.50': '重庆市',\n        'CHN.82': '澳门',\n        'CHN.81': '香港',\n        'CHN.46': '海南省',\n        'CHN.23': '黑龙江省',\n        'CHN.45': '广西壮族自治区',\n        'CHN.22': '吉林省',\n        'CHN.44': '广东省',\n        'CHN.21': '辽宁省',\n        'CHN.43': '湖南省',\n        'CHN.65': '新疆维吾尔自治区',\n        'CHN.42': '湖北省',\n        'CHN.64': '宁夏回族自治区',\n        'CHN.41': '河南省',\n        'CHN.63': '青海省',\n        'CHN.62': '甘肃省',\n        'CHN.61': '陕西省',\n        'CHN.71': '台湾省',\n      },\n    },\n    {\n      type: 'bar',\n      barMaxWidth: 15,\n      barCategoryGap: '12px',\n      axisLabel: {\n        show: true,\n      },\n      encode: {\n        x: 'value',\n        y: 'name',\n      },\n    },\n    {\n      type: 'pie',\n      radius: ['40%', '70%'],\n      emphasis: {\n        label: {\n          show: true,\n          fontSize: 24,\n          fontWeight: 'bold',\n        },\n      },\n      labelLine: {\n        show: true,\n      },\n      top: '61%',\n      right: '5%',\n      bottom: 5,\n      left: '65%',\n      height: '35%',\n      encode: {\n        itemName: 'name',\n        value: 'value',\n      },\n    },\n  ],\n};\n\n// 异步加载地图geo文件\nfetch(uploadedDataURL)\n  .then(function (response) {\n    // 转换为 JSON\n    return response.json();\n  })\n  .then(function (mapJson) {\n    echarts.registerMap('map', mapJson);\n    myChart.setOption(options);\n  });\n"}