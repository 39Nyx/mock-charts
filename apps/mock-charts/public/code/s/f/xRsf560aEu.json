{"code":"var oldData = [{\n        \"clrDate\": \"2020-05-01\",\n        \"taskType\": \"上门收款\",\n        \"amount\": 243.35\n    },\n    {\n        \"clrDate\": \"2020-05-01\",\n        \"taskType\": \"网点解现\",\n        \"amount\": 40.34\n    },\n    {\n        \"clrDate\": \"2020-05-01\",\n        \"taskType\": \"银医通上门收款\",\n        \"amount\": 123.54\n    },\n    {\n        \"clrDate\": \"2020-05-01\",\n        \"taskType\": \"自助机具卸钞\",\n        \"amount\": 342\n    },\n    {\n        \"clrDate\": \"2020-05-02\",\n        \"taskType\": \"上门收款\",\n        \"amount\": 132.35\n    },\n    {\n        \"clrDate\": \"2020-05-02\",\n        \"taskType\": \"网点解现\",\n        \"amount\": 165.1\n    },\n    {\n        \"clrDate\": \"2020-05-02\",\n        \"taskType\": \"银医通上门收款\",\n        \"amount\": 34.54\n    },\n    {\n        \"clrDate\": \"2020-05-02\",\n        \"taskType\": \"自助机具卸钞\",\n        \"amount\": 23.78\n    },\n    {\n        \"clrDate\": \"2020-05-03\",\n        \"taskType\": \"上门收款\",\n        \"amount\": 243.35\n    },\n    {\n        \"clrDate\": \"2020-05-03\",\n        \"taskType\": \"网点解现\",\n        \"amount\": 40.34\n    },\n    {\n        \"clrDate\": \"2020-05-03\",\n        \"taskType\": \"银医通上门收款\",\n        \"amount\": 123.54\n    },\n    {\n        \"clrDate\": \"2020-05-03\",\n        \"taskType\": \"自助机具卸钞\",\n        \"amount\": 342\n    },\n    {\n        \"clrDate\": \"2020-05-04\",\n        \"taskType\": \"上门收款\",\n        \"amount\": 132.35\n    },\n    {\n        \"clrDate\": \"2020-05-04\",\n        \"taskType\": \"网点解现\",\n        \"amount\": 165.1\n    },\n    {\n        \"clrDate\": \"2020-05-04\",\n        \"taskType\": \"银医通上门收款\",\n        \"amount\": 34.54\n    },\n    {\n        \"clrDate\": \"2020-05-04\",\n        \"taskType\": \"自助机具卸钞\",\n        \"amount\": 23.78\n    },\n];\n\n\nvar dataset = {\n    source: [\n        ['clrDate']\n    ]\n};\n\nlet taskArr = [],\n    dateArr = [];\noldData.forEach((item) => {\n    if (dateArr.indexOf(item.clrDate) < 0) {\n        dateArr.push(item.clrDate);\n    }\n    if (taskArr.indexOf(item.taskType) < 0) {\n        taskArr.push(item.taskType);\n    }\n});\n\nfor (var i = 0; i < dateArr.length + 1; i++) {\n    if (i === 0) {\n        for (var j = 0; j < taskArr.length; j++) {\n            dataset.source[i][j + 1] = taskArr[j];\n        }\n    } else {\n        dataset.source[i] = [];\n        dataset.source[i][0] = dateArr[i - 1];\n    }\n}\n\nfor (var i = 1; i < dataset.source.length; i++) {\n    for (var j = 1; j < dataset.source[0].length; j++) {\n        for (var k = 0; k < oldData.length; k++) {\n            //console.log(i+'-'+j+'-'+k);\n            if (dataset.source[i][0] == oldData[k].clrDate &&\n                dataset.source[0][j] == oldData[k].taskType) {\n                dataset.source[i][j] = oldData[k].amount;\n            }\n        }\n    }\n}\n\nvar fontColor = '#30eee9';\noption = {\n    title: {\n        text: '各类型订单清分业务统计',\n        top: '5%',\n        left: 'center',\n        textStyle: {\n            color: '#FFF',\n            align: 'center',\n        }\n    },\n    dataset: dataset,\n    backgroundColor: '#11183c',\n    grid: {\n        left: '9%',\n        right: '10%',\n        top: '20%',\n        bottom: '15%',\n        containLabel: true\n    },\n    tooltip: {\n        show: true,\n        trigger: 'item'\n    },\n    legend: {\n        show: true,\n        x: 'center',\n        top: '12%',\n        y: '35',\n        icon: 'stack',\n        itemWidth: 10,\n        itemHeight: 10,\n        textStyle: {\n            color: '#1bb4f6'\n        }\n    },\n    xAxis: [{\n        type: 'category',\n        boundaryGap: false,\n        axisLabel: {\n            color: fontColor\n        },\n        axisLine: {\n            show: true,\n            lineStyle: {\n                color: '#397cbc'\n            }\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: false,\n            lineStyle: {\n                color: '#195384'\n            }\n        }\n    }],\n    yAxis: [{\n        type: 'value',\n        name: '清分量（万元）',\n        axisLabel: {\n            formatter: '{value}',\n            textStyle: {\n                color: '#2ad1d2'\n            }\n        },\n        axisLine: {\n            lineStyle: {\n                color: '#27b4c2'\n            }\n        },\n        axisTick: {\n            show: false,\n        },\n        splitLine: {\n            show: true,\n            lineStyle: {\n                color: '#11366e'\n            }\n        }\n    }],\n    series: [{\n            name: '上门收款',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n            itemStyle: {\n                normal: {\n                    color: '#0092f6',\n                    lineStyle: {\n                        color: \"#0092f6\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,44,90,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(0,146,246,0.9)'\n                        }]),\n                    }\n                }\n            },\n            markPoint: {\n                itemStyle: {\n                    normal: {\n                        color: 'red'\n                    }\n                }\n            }\n        },\n        {\n            name: '网点解现',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n\n            itemStyle: {\n                normal: {\n                    color: '#00d4c7',\n                    lineStyle: {\n                        color: \"#00d4c7\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,44,90,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(0,212,199,0.9)'\n                        }]),\n                    }\n                }\n            }\n\n        },\n        {\n            name: '银医通上门收款',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n            itemStyle: {\n                normal: {\n                    color: '#aecb56',\n                    lineStyle: {\n                        color: \"#aecb56\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,44,90,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(114,144,89,0.9)'\n                        }]),\n                    }\n                }\n            }\n        },\n        {\n            name: '自助机具卸钞',\n            type: 'line',\n            stack: '总量',\n            symbol: 'circle',\n            symbolSize: 8,\n            itemStyle: {\n                normal: {\n                    color: '#3A44FB',\n                    lineStyle: {\n                        color: \"#3A44FB\",\n                        width: 1\n                    },\n                    areaStyle: {\n                        //color: '#94C9EC'\n                        color: new echarts.graphic.LinearGradient(0, 1, 0, 0, [{\n                            offset: 0,\n                            color: 'rgba(7,46,101,0.3)'\n                        }, {\n                            offset: 1,\n                            color: 'rgba(0,166,246,0.9)'\n                        }]),\n                    }\n                }\n            }\n        }\n\n    ]\n};"}