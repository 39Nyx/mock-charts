{"code":"\nsetTimeout(function () {\n\n    option = {\n        legend: {},\n        tooltip: {\n            trigger: 'axis',\n            showContent: true\n        },\n        dataset: {\n            source: [\n                ['月份', '1月', '2月', '3月', '4月', '5月', '6月','7月','8月','9月','10月','11月','12月'],\n                ['先销后采', 41.1, 30.4, 65.1, 53.3, 83.8, 98.7],\n                ['先采后销', 86.5, 92.1, 85.7, 83.1, 73.4, 55.1],\n            ]\n        },\n        xAxis: {type: 'category'},\n        yAxis: {gridIndex: 0,\n                min : function(value){\n                    return value.min;\n                        }\n        },\n        grid: {right: '30%'},\n        series: [\n            {type: 'line', smooth: true, seriesLayoutBy: 'row'},\n            {type: 'line', smooth: true, seriesLayoutBy: 'row'},\n            {\n                type: 'pie',\n                id: 'pie',\n                radius: '50%',\n                center: ['85%', '50%'],\n                label: {\n                    formatter: '{b}: {@1月} ({d}%)'\n                },\n                encode: {\n                    itemName: '月份',\n                    value: '1月',\n                    tooltip: '1月'\n                }\n            }\n        ]\n    };\n\n    myChart.on('updateAxisPointer', function (event) {\n        var xAxisInfo = event.axesInfo[0];\n        if (xAxisInfo) {\n            var dimension = xAxisInfo.value + 1;\n            myChart.setOption({\n                series: {\n                    id: 'pie',\n                    label: {\n                        formatter: '{b}: {@[' + dimension + ']} ({d}%)'\n                    },\n                    encode: {\n                        value: dimension,\n                        tooltip: dimension\n                    }\n                }\n            });\n        }\n    });\n\n    myChart.setOption(option);\n\n});"}