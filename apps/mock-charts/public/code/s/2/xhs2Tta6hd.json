{"code":"var getname = [\r\n    '省部级高级次人才',\r\n    '国家级高层次人才'\r\n];\r\nvar getvalue = [100,100];\r\nvar fontColor = ['rgba(38, 215, 160, 1)','rgba(0, 138, 255, 1)']\r\nvar data = [];\r\n\r\nvar colorList = [\r\n    {\r\n        x:0,\r\n        y:0,\r\n        x2:0,\r\n        y2:1,\r\n        colorStops:[\r\n            {\r\n                offset:0,\r\n                color:'#26D7A0'\r\n            },{\r\n                offset:1,\r\n                color:'#21B088'\r\n            }\r\n        ]\r\n    },\r\n    {\r\n        x:0,\r\n        y:0,\r\n        x2:0,\r\n        y2:1,\r\n        colorStops:[\r\n            {\r\n                offset:0,\r\n                color:'#008AFF'\r\n            },{\r\n                offset:1,\r\n                color:'#21F7FF'\r\n            }\r\n        ]\r\n    }\r\n]\r\n\r\nfor (var i = 0; i < getname.length; i++) {\r\n    data.push({\r\n        name: getname[i],\r\n        value: getvalue[i],\r\n        label:{\r\n            color:colorList[i]\r\n        },\r\n        itemStyle:{\r\n            normal:{\r\n                color:colorList[i]\r\n            }\r\n        }\r\n    })\r\n}\r\n\r\n\r\noption = {\r\n    backgroundColor:'#000831',\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{b} <br/>{c}次\",\r\n    },\r\n    series: [{\r\n        type: 'pie',\r\n        radius: ['40%', '60%'],\r\n        center: [\"center\", \"center\"],\r\n        itemStyle: {\r\n            normal: {\r\n                borderWidth:3,\r\n                borderColor:'#000831'\r\n            }\r\n        },\r\n        label: {\r\n            show: true,\r\n            // position: 'outside',\r\n            formatter: (item,index)=>{\r\n                let newName = item['data']['name'];\r\n                let i = 0;\r\n                let newStr = ''\r\n                while(newName.length > 8){\r\n                    newStr += `{name|${newName.substring(i*7,(i+1)*7)}}\\n`;\r\n                    newName = newName.substring((i+1)*7);\r\n                    if(newName.length > 7){\r\n                        i++;\r\n                    }else{\r\n                        break;\r\n                    }\r\n                }\r\n                newStr+=`{name|${newName}}\\n`\r\n                console.log(item,item.dataIndex)\r\n                return `${newStr}{percent${item['dataIndex']}|${item['percent']}%}`\r\n            },\r\n            fontFamily: 'MicrosoftYaHei',\r\n            fontSize: 15,\r\n            align: 'center',\r\n            verticalAlign: 'left',\r\n            rich:{\r\n                name:{\r\n                    color:'rgba(202, 231, 255, 1)',\r\n                    fontSize:12,\r\n                    padding:[0,0,5,0],\r\n                    width:40\r\n                },\r\n                percent0:{\r\n                    fontSize:12,\r\n                    color:fontColor[0]\r\n                },\r\n                percent1:{\r\n                    fontSize:12,\r\n                    color:fontColor[1]\r\n                }\r\n            }\r\n        },\r\n        labelLine: {\r\n            show: 'true',\r\n            length: 20,\r\n            length2: 20,\r\n            lineStyle: {\r\n                color: 'rgba(49, 194, 255, 1)'\r\n            }\r\n        }\r\n        ,\r\n        data: data,\r\n        avoidLabelOverlap: true,\r\n        stillShowZeroSum: false,\r\n    }]\r\n};\r\nmyChart.setOption(option);"}