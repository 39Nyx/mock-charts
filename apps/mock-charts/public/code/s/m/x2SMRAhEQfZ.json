{"code":"var symbolSize = 20;\r\nvar data = [\r\n  [\"c-40\", -10],\r\n  [\"c-30\", -5],\r\n  [\"c-76.5\", 20],\r\n  [\"c-63.5\", 40],\r\n  [\"c-22.1\", 50],\r\n];\r\n\r\noption = {\r\n  title: {\r\n    text: \"Try Dragging these Points\",\r\n    left: \"center\",\r\n  },\r\n  tooltip: {\r\n    triggerOn: \"none\",\r\n    formatter: function (params) {\r\n      return \"X: \" + params.data[0] + \"<br>Y: \" + params.data[1].toFixed(2);\r\n    },\r\n  },\r\n  grid: {\r\n    top: \"8%\",\r\n    bottom: \"12%\",\r\n  },\r\n  xAxis: {\r\n    // min: -100,\r\n    // max: 70,\r\n    type: \"category\",\r\n    axisLine: { onZero: false },\r\n  },\r\n  yAxis: {\r\n    min: -30,\r\n    max: 60,\r\n    type: \"value\",\r\n    axisLine: { onZero: !true },\r\n  },\r\n  // dataZoom: [\r\n  //     {\r\n  //         type: 'slider',\r\n  //         xAxisIndex: 0,\r\n  //         filterMode: 'none'\r\n  //     },\r\n  //     {\r\n  //         type: 'slider',\r\n  //         yAxisIndex: 0,\r\n  //         filterMode: 'none'\r\n  //     },\r\n  //     {\r\n  //         type: 'inside',\r\n  //         xAxisIndex: 0,\r\n  //         filterMode: 'none'\r\n  //     },\r\n  //     {\r\n  //         type: 'inside',\r\n  //         yAxisIndex: 0,\r\n  //         filterMode: 'none'\r\n  //     }\r\n  // ],\r\n  animation: false,\r\n  series: [\r\n    {\r\n      id: \"a\",\r\n      type: \"bar\",\r\n      smooth: true,\r\n      symbolSize: symbolSize,\r\n      data: data,\r\n    },\r\n  ],\r\n};\r\n\r\nsetTimeout(function () {\r\n  // Add shadow circles (which is not visible) to enable drag.\r\n  myChart.setOption({\r\n    graphic: data.map(function (item, dataIndex) {\r\n      return {\r\n        type: \"circle\",\r\n        position: myChart.convertToPixel(\"grid\", item),\r\n        shape: {\r\n          cx: 0,\r\n          cy: 0,\r\n          r: symbolSize / 2,\r\n        },\r\n        // invisible: true,\r\n        draggable: true,\r\n        ondrag: function (dx, dy) {\r\n          // console.log('.....vvvvv');\r\n          onPointDragging(dataIndex, [this.x, this.y]);\r\n        },\r\n        onmousemove: function () {\r\n          showTooltip(dataIndex);\r\n        },\r\n        onmouseout: function () {\r\n          hideTooltip(dataIndex);\r\n        },\r\n        z: 100,\r\n      };\r\n    }),\r\n  });\r\n}, 0);\r\n\r\nwindow.addEventListener(\"resize\", updatePosition);\r\n\r\nmyChart.on(\"dataZoom\", updatePosition);\r\n\r\nfunction updatePosition() {\r\n  myChart.setOption({\r\n    graphic: data.map(function (item, dataIndex) {\r\n      return {\r\n        position: myChart.convertToPixel(\"grid\", item),\r\n      };\r\n    }),\r\n  });\r\n}\r\n\r\nfunction showTooltip(dataIndex) {\r\n  myChart.dispatchAction({\r\n    type: \"showTip\",\r\n    seriesIndex: 0,\r\n    dataIndex: dataIndex,\r\n  });\r\n}\r\n\r\nfunction hideTooltip(dataIndex) {\r\n  myChart.dispatchAction({\r\n    type: \"hideTip\",\r\n  });\r\n}\r\n\r\nfunction onPointDragging(dataIndex, pos) {\r\n  // console.log(data[dataIndex])\r\n  data[dataIndex][1] = myChart.convertFromPixel(\"grid\", pos)[1];\r\n\r\n  console.time(\"wwwwwwwwww\");\r\n  // Update data\r\n  myChart.setOption({\r\n    series: [\r\n      {\r\n        id: \"a\",\r\n        data: data,\r\n      },\r\n    ],\r\n  });\r\n\r\n  setTimeout(() => {\r\n    console.timeEnd(\"wwwwwwwwww\");\r\n  });\r\n}\r\n"}