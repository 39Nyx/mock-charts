{"code":"var pieOption = {\n        title: '材料报验',\n        data: {\n            total: 10,\n            completed: 2,\n        },\n        color: '#43D5A0',\n    },\n    option = {\n        title: {\n            text: pieOption.title,\n            right: '32%',\n            top: '0',\n            textStyle: {\n                color: pieOption.color,\n                fontWeight: '500',\n                fontSize: 14,\n            },\n        },\n        tooltip: {\n            show: true,\n            trigger: 'item',\n            confine: true,\n        },\n        legend: {\n            data: [\n                {\n                    name: '已完成验收总数',\n                    itemStyle: {\n                        color: pieOption.color,\n                    },\n                },\n                {\n                    name: '总数',\n                    itemStyle: {\n                        color: 'rgba(255,255,255,.65)',\n                    },\n                },\n            ],\n            top: 'center',\n            right: '2%',\n            itemGap: 10,\n            orient: 'lineHeight',\n            itemWidth: 8,\n            itemHeight: 8,\n            formatter: function (name) {\n                var arr = [\n                    '{a|' + name + '}  |  ',\n                    name === '总数' ? '{b|' + pieOption.data.total + '个}' : '{b|' + pieOption.data.completed + '个}',\n                ];\n                return arr.join('');\n            },\n            textStyle: {\n                color: '#eee',\n                fontStyle: 'normal',\n                fontWeight: 'normal',\n                fontFamily: 'sans-serif',\n                fontSize: 12,\n                rich: {\n                    a: {\n                        fontSize: 14,\n                        color: 'rgba(255,255,255,.8)',\n                    },\n                    b: {\n                        fontSize: 14,\n                        color: '#fff',\n                    },\n                },\n            },\n        },\n        series: [\n            {\n                type: 'pie',\n                radius: ['45%', '70%'],\n                center: ['50%', '50%'],\n                labelLine: {\n                    normal: {\n                        show: false,\n                    },\n                },\n                emphasis: {\n                    label: {\n                        show: false,\n                        fontSize: 14,\n                    },\n                },\n                data: [\n                    {\n                        name: '总数',\n                        value: pieOption.data.total - pieOption.data.completed,\n                        showValue: pieOption.data.total,\n                        itemStyle: {\n                            normal: {\n                                color: '#4c6370',\n                            },\n                        },\n                        label: {\n                            show: false,\n                        },\n                    },\n                    {\n                        name: '已完成验收总数',\n                        showValue: pieOption.data.completed,\n                        value: pieOption.data.completed > 0 ? pieOption.data.completed : '',\n                        itemStyle: {\n                            normal: {\n                                color: pieOption.color,\n                            },\n                        },\n                        label: {\n                            show: true,\n                            position: 'center',\n                            color: pieOption.color,\n                            fontSize: 12,\n                            formatter: function (data) {\n                                if (!pieOption.data.completed || !pieOption.data.total) {\n                                    return '0%';\n                                }\n                                var proportion = (pieOption.data.completed / pieOption.data.total) * 100;\n                                if (\n                                    proportion.toString().indexOf('.') > 0 &&\n                                    proportion.toString().indexOf('.') + 2 < proportion.toString().length\n                                ) {\n                                    return proportion.toFixed(2) + '%';\n                                } else {\n                                    return proportion + '%';\n                                }\n                            },\n                        },\n                    },\n                ],\n                tooltip: {\n                    formatter: function (params) {\n                        return params.name + ': ' + params.data.showValue;\n                    },\n                },\n            },\n        ],\n    };\n"}