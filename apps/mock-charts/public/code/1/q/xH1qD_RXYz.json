{"code":"var data = {\n    data:[900, 345, 393, 135, 178, 286]\n}\nvar total = function(){\n    var arr = data.data\n    var len = arr.length\n    var num = 0\n    for(var i=0; i<len; i++){\n        num = num + arr[i]\n        console.log( arr[i] )\n        console.log( num )\n    }\n    return num\n}()\n\nfunction getPercentage(itemNum,total){\n    return Math.floor((itemNum/total) * 1000) /10\n}\n\noption = {\n    coror:['#c23531','#2f4554', '#61a0a8', '#d48265', '#91c7ae','#749f83',  '#ca8622', '#bda29a','#6e7074', '#546570', '#c4ccd3'],\n    xAxis: {\n        type : 'category',\n        splitLine: {show:false},\n        data :  function (){\n            var list = [];\n            for (var i = 1; i <= 6; i++) {\n                list.push('11月' + i + '日');\n            }\n            return list;\n        }()\n    },\n    yAxis: {\n        type : 'value'\n    },\n    series: [\n        {\n            name: '支出',\n            type: 'bar',\n            stack: '总量',\n            label: {\n                normal: {\n                    show: true,\n                    position: 'top',\n                    formatter:function(obj){\n                        return [\n                            '{a|'+obj.value+'}',\n                            '{b|'+getPercentage(obj.value,total)+'%}'\n                        ].join('\\n')\n                    },\n                    rich: {\n                        a: {\n                            fontSize:16,\n                            align:'center',\n                            color: '#000',\n                            height: 20\n                        },\n                        b: {\n                            fontSize:14,\n                            align:'center',\n                            height: 20,\n                            color: '#888'\n                        }\n                    }\n                }\n                \n            },\n            data: data.data\n        }\n    ]\n};\n"}