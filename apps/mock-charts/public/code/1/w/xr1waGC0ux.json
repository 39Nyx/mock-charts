{"code":"// ECharts 水球图插件，需要额外插件脚本，参见上方“脚本”\n// 完整配置参数参见：https://github.com/ecomfe/echarts-liquidfill\nvar beginTime = null;\nvar clicks = 0;\nvar TOTAL_CLICKS = 100;\n\nvar option = {\n    title: {\n        text: '图表由 ECharts 制作',\n        textStyle: {\n            fontSize: 15,\n            color: '#999'\n        },\n        left: '50%',\n        top: '90%',\n        textAlign: 'center',\n        textBaseAlign: 'middle'\n    },\n    series: [{\n        color: ['#FFBFE5', '#EA88CE', '#DE52B4', '#C42795'],\n        type: 'liquidFill',\n        silent: true,\n        animationDurationUpdate: 200,\n        data: getData(clicks),\n        radius: '80%',\n        outline: {\n            show: false\n        },\n        backgroundStyle: {\n            borderColor: '#A31180',\n            borderWidth: 1,\n            shadowColor: 'rgba(234, 136, 206, 0.8)',\n            shadowBlur: 100,\n            color: '#FEF9FF'\n        },\n        itemStyle: {\n            normal: {\n                opacity: 0.6,\n                shadowColor: 'rgba(234, 136, 206, 0.2)'\n            }\n        },\n        shape: 'path://M24.85,10.126c2.018-4.783,6.628-8.125,11.99-8.125c7.223,0,12.425,6.179,13.079,13.543c0,0,0.353,1.828-0.424,5.119c-1.058,4.482-3.545,8.464-6.898,11.503L24.85,48L7.402,32.165c-3.353-3.038-5.84-7.021-6.898-11.503c-0.777-3.291-0.424-5.119-0.424-5.119C0.734,8.179,5.936,2,13.159,2C18.522,2,22.832,5.343,24.85,10.126z',\n        label: {\n            normal: {\n                position: ['50%', '45%'],\n                formatter: function() {\n                    if (clicks === 0) {\n                        return '开始游戏';\n                    } else if (clicks >= TOTAL_CLICKS) {\n                        return '祝我最爱的 XXX\\n情人节快乐！';\n                    } else {\n                        var elapsed = new Date() - beginTime;\n                        return Math.floor(clicks / TOTAL_CLICKS * 100) + '%\\n';\n                    }\n                },\n                textStyle: {\n                    fontSize: 28,\n                    color: '#A31180'\n                }\n            }\n        }\n    }]\n};\n\ndocument.onclick = function() {\n    if (clicks <= TOTAL_CLICKS) {\n        if (clicks === 0) {\n            beginTime = new Date();\n        }\n        myChart.setOption({\n            series: [{\n                data: getData(clicks),\n                backgroundStyle: {\n                    shadowBlur: Math.random() * 200 + 50\n                }\n            }]\n        });\n    }\n    else if (clicks === TOTAL_CLICKS + 1) {\n        // game over\n    }\n\n    ++clicks;\n};\n\nfunction getData(clicks) {\n    var value = clicks / TOTAL_CLICKS;\n    return [\n        value,\n        value - 0.02,\n        value - 0.04,\n        value - 0.06\n    ];\n}\n"}