{"code":"app.title = '环形图'\r\n\r\nvar data = [{\r\n  value: 335,\r\n  name: '直接访问'\r\n}, {\r\n  value: 310,\r\n  name: '邮件营销'\r\n}, {\r\n  value: 234,\r\n  name: '联盟广告'\r\n}, {\r\n  value: 135,\r\n  name: '视频广告'\r\n}, {\r\n  value: 1548,\r\n  name: '搜索引擎'\r\n}]\r\n\r\nfunction translateData (data) {\r\n  let sum = 0\r\n  let count = data.length\r\n  for (let i = 0; i < count; i++) {\r\n    sum += data[i].value\r\n    data[i].itemStyle = {\r\n      normal: {\r\n        borderWidth: 5,\r\n        borderColor: 'white'\r\n      }\r\n\r\n    }\r\n  }\r\n  let val = sum / count\r\n  for (let i = 0; i < count; i++) {\r\n    data.push({\r\n      value: val,\r\n      itemStyle: {\r\n        normal: {\r\n        //   color: 'none'\r\n        }\r\n      }\r\n    })\r\n  }\r\n  console.log(data)\r\n  return data\r\n}\r\n\r\noption = {\r\n  series: [\r\n    {\r\n      name: '访问来源',\r\n      type: 'pie',\r\n      radius: ['10%', '90%'],\r\n      center:['50%','80%'],\r\n      startAngle: -180,\r\n      roseType: 'area',\r\n      label: {\r\n        normal: {\r\n          show: true,\r\n          position: 'inside'\r\n        }\r\n      },\r\n      labelLine: {\r\n        normal: {\r\n          show: true\r\n        }\r\n      },\r\n      data: translateData(data)\r\n    }\r\n  ]\r\n}\r\n"}