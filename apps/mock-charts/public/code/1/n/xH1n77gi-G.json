{"code":"labelTop = {\n    normal : {\n        label : {\n            show : true,\n            position : 'center',\n            formatter : '{b}',\n            textStyle: {\n                baseline : 'bottom'\n            }\n        },\n        labelLine : {\n            show : false\n        }\n    }\n};\nvar labelFromatter = {\n    normal : {\n        label : {\n            formatter : function (params){\n                return 100 - params.value + '%'\n            },\n            textStyle: {\n                baseline : 'top'\n            }\n        }\n    },\n}\nvar labelBottom = {\n    normal : {\n        color: '#ccc',\n        label : {\n            show : true,\n            position : 'center'\n        },\n        labelLine : {\n            show : false\n        }\n    },\n    emphasis: {\n        color: 'rgba(0,0,0,0)'\n    }\n};\nvar radius = [40, 55];\noption = {\n    legend: {\n        x : 'center',\n        y : 'center',\n        data:[\n            '家庭', '学校', '职场', '宗教'\n        ]\n    },\n    title : {\n        text: '性少数受访者在日常生活环境中受到歧视的比率',\n        subtext: '原始数据来自联合国统计数据',\n        x: 'center'\n    },\n    toolbox: {\n        show : true,\n        feature : {\n            dataView : {show: true, readOnly: false},\n            magicType : {\n                show: true, \n                type: ['pie', 'funnel'],\n                option: {\n                    funnel: {\n                        width: '20%',\n                        height: '30%',\n                        itemStyle : {\n                            normal : {\n                                label : {\n                                    formatter : function (params){\n                                        return 'other\\n' + params.value + '%\\n'\n                                    },\n                                    textStyle: {\n                                        baseline : 'middle'\n                                    }\n                                }\n                            },\n                        } \n                    }\n                }\n            },\n            restore : {show: true},\n            saveAsImage : {show: true}\n        }\n    },\n   series : [\n       \n        {\n            type : 'pie',\n            center : ['30%', '30%'],\n            radius : radius,\n            x:'20%', // for funnel\n            itemStyle : labelFromatter,\n            data : [\n                {name:'other', value:44, itemStyle : labelBottom},\n                {name:'家庭', value:56,itemStyle : labelTop}\n            ]\n        },\n        \n        {\n            type : 'pie',\n            center : ['70%', '30%'],\n            radius : radius,\n            x:'60%', // for funnel\n            itemStyle : labelFromatter,\n            data : [\n                {name:'other', value:61, itemStyle : labelBottom},\n                {name:'学校', value:39,itemStyle : labelTop}\n            ]\n        },\n       \n       \n        {\n            type : 'pie',\n            center : ['30%', '70%'],\n            radius : radius,\n            y: '55%',   // for funnel\n            x:'20%',    // for funnel\n            itemStyle : labelFromatter,\n            data : [\n                {name:'other', value:79, itemStyle : labelBottom},\n                {name:'职场', value:21,itemStyle : labelTop}\n            ]\n        },\n       \n        {\n            type : 'pie',\n            center : ['70%', '70%'],\n            radius : radius,\n            y: '55%',   // for funnel\n            x:'60%', // for funnel\n            itemStyle : labelFromatter,\n            data : [\n                {name:'other', value:86, itemStyle : labelBottom},\n                {name:'宗教', value:14,itemStyle : labelTop}\n            ]\n        },\n       \n    ]\n};\n"}