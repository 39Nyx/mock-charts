{"code":"\nvar data = {\n    xAxis : [],\n    series : []\n    \n}\n\nvar len = 0;\nwhile (len < 10) {\n    data.series.push(Math.floor(Math.random()*10 * 5));\n    len++;\n}\nfunction newItem(){\n    return echarts.util.merge({\n        type: 'category',\n        boundaryGap: true,\n        data: data.xAxis\n    })\n    \n}\n\n\n\nvar now = new Date();\nvar ser = 10;\nwhile (ser--) {\n    data.xAxis.unshift(now.toLocaleTimeString().replace(/^\\D*/,''));\n    now = new Date(now - 2000);\n}\n\noption = {\n    title: {\n        text: '动态数据',\n        subtext: '纯属虚构'\n    },\n    tooltip: {\n        trigger: 'axis',\n        axisPointer: {\n            type: 'cross',\n            label: {\n                backgroundColor: '#283b56'\n            }\n        }\n    },\n    legend: {\n        data:['最新成交价', '预购队列']\n    },\n    toolbox: {\n        show: true,\n        feature: {\n            dataView: {readOnly: false},\n            restore: {},\n            saveAsImage: {}\n        }\n    },\n    dataZoom: {\n        show: true,\n        start: 30,\n        end: 70,\n       // filterMode: 'empty'\n    },\n    xAxis: [\n        newItem()\n    ],\n    yAxis: [\n        {\n            type: 'value',\n            scale: true,\n            name: '价格',\n            max: 50,\n            min: 0,\n            boundaryGap: [0.2, 0.2]\n        }\n    ],\n    series: [\n        {\n            name:'最新成交价',\n            type:'bar',\n            data:data.series\n        }\n    ]\n};\n\napp.count = 11;\nsetInterval(function (){\n    axisData = (new Date()).toLocaleTimeString().replace(/^\\D*/,'');\n\n    var data0 = option.series[0].data;\n    \n    data.series.shift();\n    data.series.push(Math.floor(Math.random() * 10 * 5));\n\n    data.xAxis.shift();\n    data.xAxis.push(axisData);\n    \n    myChart.setOption({\n        xAxis : [\n            {\n                data: data.xAxis\n            }\n        ],\n        series : [\n            {\n                data:data.series\n            }\n        ]\n    })\n    \n    \n    \n}, 2100);\n\n"}