{"code":"//获取中国地图省份geo数据\r\n$.getScript(\"https://gallerybox.echartsjs.com/dep/echarts/map/js/china.js\", function() {\r\n    option = {\r\n        map:{},\r\n        title: {\r\n            text: \"地图点击选点\"\r\n        },\r\n        tooltip: {\r\n            formatter: function(arg) {\r\n                return arg.data[2] + \":\" + arg.data[0] + \",\" + arg.data[1];\r\n            }\r\n        },\r\n        geo: {\r\n            map: 'china',\r\n            roam: true,\r\n            center: [114.878927, 33.4578]\r\n        },\r\n        series: [{\r\n            type: \"scatter\",\r\n            coordinateSystem: \"geo\",\r\n            symbol: \"pin\",\r\n            symbolSize: 30,\r\n            name: \"test\",\r\n            data: [\r\n                [114.878, 33.458, \"所选点\"]\r\n            ],\r\n            label: {\r\n                normal: {\r\n                    position: \"top\",\r\n                    show: true,\r\n                    textBorderColor: \"#fff\",\r\n                    textBorderWidth: 2,\r\n                    fontWeight: 800,\r\n                    fontSize: 10,\r\n                    color: \"auto\",\r\n                    formatter: function(arg) {\r\n                        return arg.data[0] + \"\\n\" + arg.data[1];\r\n                    }\r\n                }\r\n            }\r\n        }]\r\n    };\r\n\r\n\r\n    myChart.setOption(option);\r\n    \r\n    //实时展示当前鼠标所在地图位置的坐标\r\n    $(myChart.getDom()).off(\"mousemove\").on(\"mousemove\", myChart, function(event) {\r\n        var data = event.data.convertFromPixel(\"series\", [event.offsetX, event.offsetY]);\r\n        data = [Math.round(data[0] * 1000000) / 1000000, Math.round(data[1] * 1000000) / 1000000];\r\n        $(\"#myinput\").val(JSON.stringify(data));\r\n    });\r\n\r\n    \r\n    //点击展示坐标\r\n    $(myChart.getDom()).off(\"click\").on(\"click\", myChart, function(event) {\r\n        var data = event.data.convertFromPixel(\"series\", [event.offsetX, event.offsetY]);\r\n        data = [Math.round(data[0] * 1000000) / 1000000, Math.round(data[1] * 1000000) / 1000000];\r\n        data.push(\"所选点\");\r\n        myChart.setOption({\r\n            series: [{\r\n                data: [data]\r\n            }]\r\n        })\r\n    });\r\n});\r\n\r\n\r\n\r\nvar menubox = $(\"#myinput\");\r\nif(menubox.length==0){\r\n    $('<input id=\"myinput\" value=\"\" style=\"position:fixed;top: 30px;right: 10px;z-index: 999999999999999999999;color: #000;\"/>')\r\n    .appendTo($(document.body));\r\n}\r\n\r\n"}