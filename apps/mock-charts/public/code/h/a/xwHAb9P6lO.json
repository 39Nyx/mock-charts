{"code":"let data1 = [\n    {\n        name: '近机位',\n        value: 10,\n        sum: 100,\n    },\n    {\n        name: '远机位',\n        value: 20,\n        sum: 100,\n    },\n    {\n        name: '廊桥位',\n        value: 23,\n        sum: 500,\n    },\n];\n\nlet getArrByKey = (data, k) => {\n    let key = k || 'value';\n    let res = [];\n    if (data) {\n        data.forEach(function (t) {\n            res.push(t[key]);\n        });\n    }\n    return res;\n};\nlet getSymbolData = (data) => {\n    let arr = [];\n    for (var i = 0; i < data.length; i++) {\n        arr.push({\n            value: data[i].value,\n            symbolPosition: 'end',\n        });\n    }\n    return arr;\n};\n\ndata = data1.sort((a, b) => {\n    return b.value - a.value;\n});\noption = {\n    backgroundColor: 'blurScope',\n    grid: {\n        top: '2%',\n        bottom: -15,\n        right: 80,\n        left: '10%',\n        containLabel: true,\n    },\n    xAxis: {\n        show: false,\n    },\n    yAxis: [\n        {\n            triggerEvent: true,\n            show: true,\n            inverse: true,\n            data: getArrByKey(data, 'name'),\n            axisLine: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                show: false,\n            },\n        },\n        {\n            triggerEvent: true,\n            show: true,\n            inverse: true,\n            data: getArrByKey(data, 'name'),\n            axisLine: {\n                show: false,\n            },\n            splitLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                interval: 0,\n                shadowOffsetX: '-50px',\n                color: ['#fff'],\n                align: 'right',\n                verticalAlign: 'bottom',\n                lineHeight: 55,\n                fontSize: 14,\n                formatter: function (value, index) {\n                    // return (data[index].value / data[index].sum) * 100\n                    return `占用 8   剩余 2`;\n                },\n            },\n        },\n    ],\n    series: [\n        //     {\n        //     name: 'XXX',\n        //     type: 'pictorialBar',\n        //     symbol: 'image://data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADoAAAA6CAMAAADWZboaAAAAZlBMVEUAAABe3uVe3+Vf3uVf3+Zf3uVg3+Zg3+Zf3+Vi4OZh4OZg3+Z86/Bh3+Zi4Odj4Odi4OZ86/B76/B86/Bj4ed56+9x5+xn4umB7/N87PB36e+A7/N+7fF/7vJ/7vJ+7fGA7/OB7/PReX+lAAAAIXRSTlMABQkVDREmIhk3MR10LEFFPHh7cUprXE35h2XnqMLAp+mHAG9cAAAB5ElEQVRIx83WjU7CMBQFYIoiKMqU/XUboHv/l/Tce7t2XamDNSacETEmX86tlK2rx4py150o+MstMBLwWRfHKo6JCVxLnvmFGBjFQ58oF1//sUZhGy/ClSTWObgnL4O+bkeN4nY2okfNMbkRt9/vtxz8InoTsWplJSCzFxPmO8+GpSIByX3YQAuGDWtRKhKjCnxDXhF6Z4yxnZ20Wgko7BMRDmxtSGVaI4kdTIgb+zTYoJQlIMlDlmUFgrcDWWC201qSayqlTkiCddWWeV62VU0YlnpRi9VOKaSUsiyq/N0krwq2Ugt7lVpZl5BfHNiytjagMi+XYp0kCR45hMlivVQrE/uU5pXSrCB5bM6d1t2lOZItMqmliT3q5uVxqxzyW/ccfYLNKx7ZTeykMvNyac2yt2Fbc61MHLSC0rwoxbiNdlQ3GBm1NLHQsHUrtEXppR/ljNpW6DbSCoqlFiVoN6YdaFlgsSFVPs1BdT8OaB5QyQzVcaqWDows/zepxR8ObLglTrdtCRVuRNj4Rrxh+//0ke2f8KVL+Kon3GCSbmsJN9OUW3j6g0Ns+LgCij2u0h+Sghc8mlMPBMgdx5DFh59VmOVHrvmDnoNxCz3J7MFWsMuaLyR089xz/xhlfijvwutR8gv3zk6BLUUeCgAAAABJRU5ErkJggg==',\n        //     symbolSize: [50, 50],\n        //     symbolOffset: [20, 0],\n        //     z: 12,\n        //     itemStyle: {\n        //         normal: {\n        //             color: '#fff'\n        //         }\n        //     },\n        //     data: getSymbolData(data)\n        // },\n        {\n            name: '条',\n            type: 'bar',\n            showBackground: true,\n            yAxisIndex: 0,\n            data: data,\n            barWidth: 20,\n            zlevel: 1,\n            // align: left,\n            backgroundStyle: {\n                color: '#FFBD5B',\n                barBorderRadius: 20,\n            },\n            itemStyle: {\n                // normal: {\n                //     color: new echarts.graphic.LinearGradient(\n                //         0,\n                //         0,\n                //         1,\n                //         0,\n                //         [\n                //             {\n                //                 offset: 0,\n                //                 color: '#A71A2B',\n                //             },\n                //             {\n                //                 offset: 0.7,\n                //                 color: '#A71A2B',\n                //             },\n                //             {\n                //                 offset: 1,\n                //                 color: '#5EDEE5',\n                //             },\n                //         ],\n                //         false\n                //     ),\n                //     barBorderRadius: 10,\n                // },\n                color: '#35FFF5',\n                barBorderRadius: 20,\n            },\n            label: {\n                normal: {\n                    color: '#fff',\n                    show: true,\n                    position: [0, '-30px'],\n                    textStyle: {\n                        fontSize: 18,\n                    },\n                    formatter: function (a, b) {\n                        return a.name;\n                    },\n                },\n            },\n        },\n    ],\n};\n"}