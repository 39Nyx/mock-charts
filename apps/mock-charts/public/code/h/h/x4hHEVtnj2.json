{"code":"\r\nvar xdata = ['病假','事假','婚丧假','产假','其他'];\r\n\r\nvar ydata = [20,30,40,50,10];\r\n\r\nvar s= 0;\r\nfor(var i=0;i<ydata.length;i++){\r\n    s=s+ydata[i];\r\n}\r\nconsole.log('s',s)\r\nvar d=[];\r\nfor(var i=0;i<xdata.length;i++){\r\n    d.push({\r\n        name:xdata[i],\r\n        value:ydata[i],\r\n        pt:s == 0 ? 0 : (ydata[i]/s*100).toFixed(1) //三元\r\n        \r\n    });\r\n}\r\n\r\n\r\noption = {\r\n   /*\r\n    graphic:{\r\n      elements:[\r\n          {\r\n              type:'image',\r\n              style:{\r\n                image:imgUrl,\r\n            \r\n                height:40,\r\n                width:40,\r\n              },\r\n              left:'25%',\r\n              top:65,\r\n          }\r\n              \r\n              \r\n              \r\n          \r\n          \r\n          ]  \r\n    },\r\n    */\r\n    tooltip: {\r\n        show:false,\r\n        trigger: 'item',\r\n        formatter: '{a} <br/>{b}: {c} ({d}%)'\r\n    },\r\n    legend: {\r\n        orient: 'vertical',\r\n        icon: 'circle',\r\n        x: '50%',\r\n        y: 'center',\r\n        itemWidth: 10,\r\n        itemGap: 30,\r\n        align: 'left',\r\n        textStyle:{\r\n        rich:{\r\n            fontSize: 16,\r\n            color:'#666',\r\n            a:{\r\n                width:45,\r\n                align:'left'\r\n            },\r\n            b:{\r\n                width:60,\r\n                align:'right'\r\n            },\r\n            c:{\r\n                width:35,\r\n                align:'right'\r\n            },\r\n        },\r\n        },\r\n        formatter: function(name) {\r\n            let res = d.filter(v=>v.name === name);\r\n            res = res[0];\r\n            return '{a|'+name+'}{b|'+res.value+'人}  {c|'+res.pt+'%}'\r\n        }\r\n        \r\n    },\r\n    \r\n    color:[\"#3398FF\",\"#2ADA91\",\"#FFA633\",\"#FFC333\",\"#687AFF\"],\r\n    series: [\r\n        {\r\n         \r\n            type: 'pie',\r\n         \r\n            radius: ['40%', '60%'],\r\n            center: ['25%','50%'],\r\n            avoidLabelOverlap: false,\r\n            label: {\r\n                show: false,\r\n                position: 'center'\r\n            },\r\n            emphasis: {\r\n                label: {\r\n                    show: false,\r\n                    fontSize: '30',\r\n                    fontWeight: 'bold'\r\n                }\r\n            },\r\n            labelLine: {\r\n                show: false\r\n            },\r\n            \r\n            data: d\r\n         \r\n        }\r\n    ]\r\n};\r\nreturn option;"}