{"code":"let data = [\r\n    [\"正常请求次数\", \"满请求次数\", '错误请求次数'],\r\n    [200, 400, 700]\r\n]\r\n\r\noption = {\r\n    color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],\r\n    title: {\r\n        text: '',\r\n        top: 'center',\r\n        left: 'center',\r\n        textStyle: {\r\n            color: '#f00',\r\n            fontSize: 24\r\n        }\r\n    },\r\n\r\n    legend: {\r\n        // right: '20%', //图例排列方式\r\n        top: 'center',\r\n        right: '10%',\r\n        orient: 'vertical',\r\n        icon: \"circle\",\r\n        itemGap: 18,\r\n        formatter: (name) => {\r\n            var i = data[0].indexOf(name)\r\n            return `${data[1][i]}\r\n${name}`\r\n        },\r\n        textStyle: {\r\n            lineHeight: 20,\r\n        }\r\n\r\n        // height:40,\r\n    },\r\n    tooltip: {},\r\n    dataset: {\r\n        source: data\r\n    },\r\n    xAxis: {\r\n        type: 'category',\r\n        show: false\r\n    },\r\n    yAxis: {\r\n        show: false\r\n    },\r\n    series: [{\r\n        type: 'pie',\r\n        label: {\r\n            // alignTo: 'edge',\r\n            formatter: '{d}%'\r\n        },\r\n        seriesLayoutBy: 'row',\r\n        radius: ['25%', '30%'],\r\n        center: ['50%', '50%']\r\n    }]\r\n};\r\nlet dat = option.dataset.source[1];\r\n// let name = option.dataset.source[0];\r\nlet col = option.color;\r\nlet _t = 0;\r\noption.title.text = dat[0];\r\noption.title.textStyle.color = col[0];\r\nsetInterval(() => {\r\n    // 取消之前高亮的图形\r\n    myChart.dispatchAction({\r\n        type: 'downplay',\r\n        seriesIndex: 0,\r\n        dataIndex: _t % dat.length\r\n    });\r\n\r\n    _t++;\r\n    option.title.text = dat[_t % dat.length];\r\n    option.title.textStyle.color = col[_t % dat.length];\r\n    myChart.setOption(option);\r\n    // 高亮当前图形\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: _t%dat.length\r\n    });\r\n\r\n\r\n}, 3000)"}