{"code":"let color = ['#454bb3', '#a17131', '#a3a71a', '#0aa75b', '#0a7fb3'];\ndata = [\n    { name: '机关干部', value: 70 },\n    { name: '专家学者', value: 90 },\n    { name: '单位职工', value: 110 },\n    { name: '农村居民', value: 130 },\n    { name: '其他', value: 150 },\n];\nlet max = Math.max(...data.map((item) => item.value));\nlet sum = eval(data.map((item) => item.value).join('+'));\noption = {\n    backgroundColor: '#000237',\n    angleAxis: {\n        show: 0,\n        clockwise: false,\n        max: max + max / 3,\n    },\n    radiusAxis: {\n        type: 'category',\n        data: data.map((item) => {\n            return item.name + ':' + '　' + ((item.value / sum) * 100).toFixed() + '%';\n        }),\n        z: 10,\n        axisLine: {\n            show: false,\n        },\n        axisTick: {\n            show: false,\n        },\n        axisLabel: {\n            interval: 0,\n            color: '#fff',\n            align: 'left',\n            margin: -10,\n        },\n    },\n    polar: {\n        show: 0,\n        center: ['50%', '50%'],\n    },\n    series: [\n        {\n            type: 'bar',\n            data: data.map((item, index) => {\n                return {\n                    value: item.value,\n                    name: item.name,\n                    itemStyle: {\n                        color: color[index],\n                    },\n                };\n            }),\n            label: {\n                show: true,\n                position: 'top',\n            },\n            barWidth: 10,\n            coordinateSystem: 'polar',\n        },\n    ],\n};\n"}