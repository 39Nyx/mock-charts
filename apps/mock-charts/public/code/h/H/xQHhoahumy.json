{"code":"let Userdatas = [\n    {name:\"核电\",value: 44,itemStyle:{color: \"#04ba19\"}},\n    {name:\"火电\",value: 23,itemStyle:{color: \"#f7b61c\"}},\n    {name:\"水电\",value: 423,itemStyle:{color: \"#6cdabd\"}},\n    {name:\"省外送入\",value: 332,itemStyle:{color: \"#3fc3d0\"}},\n    {name:\"省内华东\",value: 223,itemStyle:{color: \"#dd614a\"}},\n];\n\noption = {\n    tooltip: {\n        trigger: \"item\",\n        formatter: \"{b}: {c} ({d}%)\"\n    },\n    legend: {\n        orient: \"vertical\",\n        top: \"center\",\n        right: 0,\n        data: [\"核电\", \"火电\", \"水电\", \"省外送入\", \"省内华东\"],\n        formatter: function(name) {\n              var oa = Userdatas;\n              var num = oa[0].value + oa[1].value + oa[2].value + oa[3].value;\n              for(var i = 0; i < Userdatas.length; i++){\n                  if(name==oa[i].name){\n                      return name + '   ' + (oa[i].value/num * 100).toFixed(2) + '%';\n                  }\n              }\n        },\n        textStyle: {\n            fontSize: 12,\n            align: \"right\",\n            padding: 4,\n        }\n    },\n    series: [{\n        name: \"用电构成\",\n        type: \"pie\",\n        radius: [\"35%\", \"80%\"],\n        center: [\"26%\", \"50%\"],\n        minAngle: 10,\n        data: Userdatas,\n        labelLine: {\n            length: 4,\n            length2: 4\n        },\n        label: {\n            normal: {\n                show: true,\n                position: \"inner\",\n                formatter: \"{per|{d}%}\", //\"{b}\\n{per|{d}%}\",\n                rich: {\n                    b: {\n                        fontSize: 24,\n                        lineHeight: 33\n                    },\n                    per: {\n                        color: \"white\"\n                    }\n                }\n            }\n        },\n        itemStyle: {\n            emphasis: {\n                shadowBlur: 10,\n                shadowOffsetX: 0,\n                shadowColor: \"rgba(0, 0, 0, 0.5)\"\n            }\n        }\n    }]\n};"}