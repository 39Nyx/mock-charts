{"code":"let data = [{\n    \"name\": \"使用中\",\n    \"value\": 23\n}, {\n    \"name\": \"维修中\",\n    \"value\": 9\n}, {\n    \"name\": \"休息\",\n    \"value\": 15\n}, {\n    \"name\": \"未使用\",\n    \"value\": 2\n}];\nlet color = [\"#AB63F7\", \"#FF8266\", \"#66B5FF \", \"#6678FF\"];\nlet echart = echarts.init(document.getElementById('chart-panel'));\n\nlet option = {\n    backgroundColor: '#000',\n    title: {\n        text: data[0].value,\n        subtext: data[0].name,\n        x: '50%',\n        y: '45%',\n        textAlign: 'center',\n        textStyle: {\n            color: '#00ffff',\n            fontSize: 50,\n        },\n        subtextStyle: {\n            color: 'rgba(255,255,255,0.5)',\n            fontSize: 14\n        }\n    },\n    animation: true,\n    legend: {\n        textStyle: {\n            rich: {\n                blue: {\n                    color: \"#029aff\"\n                },\n                white: {\n                    color: \"#fff\",\n                }\n            },\n\n            fontSize: 14\n        },\n        itemHeight: 3,\n        itemWidth: 10,\n        icon: 'rect',\n        bottom: \"center\",\n        right: \"0\",\n        orient: 'horizonta',\n        padding: [10, 20],\n        itemGap: 20,\n        formatter: function(values) {\n            // console.log(values)\n            let value = '';\n            data.forEach(function(item, index) {\n                if (item.name == values) {\n                    value = item.value;\n                }\n\n            });\n            return '{blue|' + values + '}' + '  ' + '{white|' + value + '}';\n        },\n        data: [\"使用中\", \"维修中\", \"休息\", \"未使用\"],\n\n    },\n    series: [{\n        type: \"pie\",\n        center: [\"50%\", \"50%\"],\n        radius: [\"35%\", \"50%\"],\n        color: color,\n        startAngle: 150,\n        label: {\n            normal: {\n                show: false,\n                position: 'center',\n                formatter: \"{per|{d}%}{b|{b}}  \",\n                rich: {\n                    b: {\n                        fontSize: 14,\n                    },\n                    per: {\n                        fontSize: 16,\n                    }\n                },\n            }\n        },\n        data: data\n    }]\n}\nechart.setOption(option);\nvar app = {\n    currentIndex: -1\n};\n\n/**var changeFocus;\n先移除定时器，然后再绑定定时器\nwindow.clearInterval(changeFocus);\nchangeFocus = */\nwindow.setInterval(function() {\n    var dataLen = option.series[0].data.length;\n    // 取消之前高亮的图形\n    echart.dispatchAction({\n        type: 'downplay',\n        seriesIndex: 0,\n        dataIndex: app.currentIndex\n    });\n    app.currentIndex = (app.currentIndex + 1) % dataLen;\n    echart.setOption({\n        title: {\n            text: data[app.currentIndex].value,\n            subtext: data[app.currentIndex].name\n        }\n    });\n    // 高亮当前图形\n    echart.dispatchAction({\n        type: 'highlight',\n        seriesIndex: 0,\n        dataIndex: app.currentIndex\n    });\n    // 显示 tooltip\n    echart.dispatchAction({\n        type: 'showTip',\n        seriesIndex: 0,\n        dataIndex: app.currentIndex\n    });\n}, 3000);"}