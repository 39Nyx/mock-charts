{"code":"let consump = [{\r\n    name:'食堂',\r\n    value:100\r\n},{\r\n    name:'商超',\r\n    value:100\r\n},{\r\n    name:'水电',\r\n    value:100\r\n},{\r\n    name:'其他',\r\n    value:100\r\n}]\r\n\r\nlet color = ['#0A7BFB','#41EFFF','#FFEC81','#EC2F7E']\r\nlet legendData1 = []\r\nlet legendData2 = []\r\n\r\nlet max = 0;\r\nlet series = consump.map((item,index)=>{\r\n    max+=Number(item.value)\r\n    index%2==0?legendData1.push(item.name):legendData2.push(item.name)\r\n    return {\r\n        type:'bar',\r\n        name:item.name,\r\n        data:[{\r\n            value:item.value,\r\n            itemStyle:{\r\n                color:color[index],\r\n                shadowColor:color[index],\r\n                shadowBlur:3\r\n            }\r\n        }],\r\n        barWidth:20,\r\n        stack:'sameBar',\r\n        coordinateSystem: 'polar',\r\n        z:3\r\n    }\r\n})\r\n\r\nseries.push({\r\n    type:'bar',\r\n    barGap:'-100%',\r\n    barWidth:30,\r\n    data:[{\r\n        value:max,\r\n        itemStyle:{\r\n            color:'rgba(10, 123, 251, 0.3)'\r\n        }\r\n    }],\r\n    coordinateSystem: 'polar',\r\n})\r\noption = {\r\n    title:{\r\n        text:max+'\\n万元',\r\n        subtext:'本学期累计消费',\r\n        top:'30%',\r\n        left:'center',\r\n        textStyle:{\r\n            color:'#008AFF',\r\n            fontSize:20\r\n        },\r\n        subtextStyle:{\r\n            color:'#86D0FF',\r\n            fontSize:15\r\n        }\r\n    },\r\n    color:color,\r\n    legend:[\r\n        {\r\n            orient: 'vertical',\r\n            icon:'square',\r\n            left: '33%',\r\n            align: 'left',\r\n            top: '60%',\r\n            itemGap: 20,\r\n            itemWidth:8,\r\n            itemHeight:8,\r\n            textStyle: {\r\n                fontSize:13,\r\n                color: '#86D0FF',\r\n                padding:[2,0,0,0]\r\n            },\r\n            data: legendData1\r\n        },{\r\n            \r\n            orient: 'vertical',\r\n            icon:'square',\r\n            left: '55%',\r\n            align: 'left',\r\n            top: '60%',\r\n            itemGap: 20,\r\n            itemWidth:8,\r\n            itemHeight:8,\r\n            textStyle: {\r\n                fontSize:13,\r\n                color: '#86D0FF',\r\n                padding:[2,0,0,0]\r\n            },\r\n            data: legendData2\r\n        }\r\n    ],\r\n    angleAxis: {\r\n        show: false,\r\n        max: max * 360 / 180,\r\n        type: 'value',\r\n        startAngle: 180,\r\n        splitLine: {\r\n            show: false\r\n        }\r\n    },\r\n    radiusAxis: {\r\n        show: false,\r\n        type: 'category',\r\n    },\r\n    //圆环位置和大小\r\n    polar: {\r\n        center: ['50%', '50%'],\r\n        radius: '150%'\r\n    },\r\n    series: series\r\n}"}