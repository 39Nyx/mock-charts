{"code":"var echartsData = [{\r\n        name: '安全管理',\r\n        value: 13\r\n    },\r\n    {\r\n        name: '施工用电',\r\n        value: 25\r\n    },\r\n    {\r\n        name: '高处作业',\r\n        value: 16\r\n    },\r\n    {\r\n        name: '文明施工',\r\n        value: 12\r\n    },\r\n    {\r\n        name: '未分类',\r\n        value: 6\r\n    }\r\n];\r\nvar color = [\"#029aff\", \"#00ffff\", \"#ec9c45\", \"#FFEE3F\", \"#e64c4c\", \"#06BBFF\", \"#90CB8B\", \"#48d210\"];\r\nlet xdata = [];\r\n$.each(echartsData,function(i,val){\r\n    xdata.push(echartsData[i].name);\r\n    \r\n});\r\noption = {\r\n    backgroundColor: \"#000\",\r\n    color: color,\r\n    legend: {\r\n        orient: \"vartical\",\r\n        x: \"left\",\r\n        top: \"40%\",\r\n        left: \"80%\",\r\n        bottom: \"0%\",\r\n        data: xdata,\r\n        itemWidth: 20,\r\n        itemHeight: 14,\r\n        textStyle:{\r\n            color:'#fff'\r\n        },\r\n        itemGap: 15,\r\n        formatter: function(name) {\r\n            var legendStr = '';\r\n            $.each(echartsData, function(i, val) {\r\n                if (echartsData[i].name == name) {\r\n                    legendStr = name + \"   \" + echartsData[i].value\r\n                }\r\n\r\n            });\r\n            return legendStr;\r\n        }\r\n    },\r\n    series: [{\r\n        name: '违规次数',\r\n        type: 'pie',\r\n        clockwise: false, //饼图的扇区是否是顺时针排布\r\n        minAngle: 20, //最小的扇区角度（0 ~ 360）\r\n        radius: [\"30%\", \"58%\"],\r\n        center: [\"35%\", \"50%\"],\r\n        avoidLabelOverlap: false,\r\n        itemStyle: { //图形样式\r\n            normal: {\r\n                borderColor: '#ffffff',\r\n                borderWidth:0,\r\n            },\r\n        },\r\n        label: {\r\n            normal: {\r\n                show: false,\r\n                position: 'center',\r\n                formatter: '{value|{d}%}\\n{text|{b}}',\r\n                rich: {\r\n                    text: {\r\n                        color: \"#fff\",\r\n                        fontSize: 18,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                        padding: 5\r\n                    },\r\n                    value: {\r\n                        color: \"#4A90E2\",\r\n                        fontSize: 26,\r\n                        align: 'center',\r\n                        verticalAlign: 'middle',\r\n                    },\r\n                }\r\n            },\r\n            emphasis: {\r\n                show: true,\r\n                textStyle: {\r\n                    fontSize: 46,\r\n                }\r\n            }\r\n        },\r\n        data: echartsData\r\n    }]\r\n};\r\nmyChart.setOption(option);\r\n\r\nsetTimeout(function() {\r\n    myChart.dispatchAction({\r\n        type: 'highlight',\r\n        seriesIndex: 0,\r\n        dataIndex: 0\r\n    });\r\n\r\n    myChart.on('mouseover', function(params) {\r\n        if (params.name == echartsData[0].name) {\r\n            myChart.dispatchAction({\r\n                type: 'highlight',\r\n                seriesIndex: 0,\r\n                dataIndex: 0\r\n            });\r\n        } else {\r\n            myChart.dispatchAction({\r\n                type: 'downplay',\r\n                seriesIndex: 0,\r\n                dataIndex: 0\r\n            });\r\n        }\r\n    });\r\n\r\n    myChart.on('mouseout', function(params) {\r\n        myChart.dispatchAction({\r\n            type: 'highlight',\r\n            seriesIndex: 0,\r\n            dataIndex: 0\r\n        });\r\n    });\r\n}, 1000);"}