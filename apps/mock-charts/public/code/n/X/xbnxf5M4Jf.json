{"code":"var data = {\r\n    title: ['总计', '北京', '上海', '浙江', '深圳', '广东', '宁波', '云南', '江苏', '湖南', '其他'],\r\n    plan_production: [500, 300, 490, 333, 346, 777, 888, 864, 789, 765, 500],\r\n    actual_production: [300, 400, 500, 300, 400, 500, 300, 400, 500, 500, 500]\r\n};\r\n\r\nfor (var pr in data) {\r\n    data[pr] = data[pr].slice(1, -1);\r\n}\r\n\r\nfunction getTableLine(num) {\r\n    var list = [];\r\n    var bottom = 40; //控制线的位置\r\n    var height = 20;\r\n    for (var i = 0; i < num; i++) {\r\n        list.push({\r\n            type: 'line',\r\n            bottom: bottom - i * height,\r\n            right: 0,\r\n            style: {\r\n                fill: '#333'\r\n            },\r\n            shape: {\r\n                x1: 0,\r\n                y1: 0,\r\n                x2: 3200,\r\n                y2: 0,\r\n            }\r\n\r\n        });\r\n    }\r\n    return list;\r\n}\r\nvar lineList = getTableLine(3);\r\n\r\noption = {\r\n    color: ['#4472c4', '#ed7d31', '#ffc000', '#5b9bd5', '#', '70ad47', '#264478', '#a5a5a5'],\r\n    //表格位置\r\n    title: [{\r\n        text: '\\n计划耗时\\n实际耗时',\r\n        bottom: -5, //控制表格Y轴方向\r\n        left: 10,\r\n        textStyle: {\r\n            lineHeight: 20,\r\n            fontSize: 13,\r\n            fontWeight: 'normal',\r\n            formatter: function(value) {\r\n                return '{table|' + value + '}';\r\n            },\r\n            rich: {\r\n                table: {\r\n                    align: 'center'\r\n                }\r\n            }\r\n        }\r\n    }],\r\n    tooltip: {\r\n        trigger: 'axis',\r\n        axisPointer: {\r\n            type: 'cross',\r\n            label: {\r\n                backgroundColor: '#283b56'\r\n            }\r\n        }\r\n    },\r\n    legend: {\r\n        data: ['计划耗时', '实际耗时']\r\n    },\r\n    grid: {\r\n        bottom: 70,\r\n        left: 80,\r\n        right: 1\r\n    },\r\n    xAxis: [{\r\n        type: 'category',\r\n        boundaryGap: true,\r\n        data: data.title,\r\n        axisTick: {\r\n            length: 170 //竖线的长度\r\n        },\r\n        axisLabel: {\r\n            axisPointer: {\r\n            type: 'shadow'\r\n        },\r\n            formatter: function(value, index) {\r\n                var indexNum = 0;\r\n                for (var i = 0; i < data.title.length; i++) {\r\n                    if (value == data.title[i]) {\r\n                        indexNum = i;\r\n                    }\r\n                }\r\n                return '{table|' + value +\r\n                    '}\\n{table|' + data.plan_production[indexNum] +\r\n                    '}\\n{table|' + data.actual_production[indexNum] +\r\n                    '}';\r\n            },\r\n            rich: {\r\n                table: {\r\n                    lineHeight: 20,\r\n                    align: 'center'\r\n                }\r\n            }\r\n        }\r\n    }],\r\n    yAxis: [{\r\n        type: 'value',\r\n        scale: true,\r\n        minInterval: 1,\r\n        name: '数量',\r\n        axisLine: {\r\n            show: false\r\n        },\r\n        splitLine: {\r\n            show: true,\r\n            color: '#333'\r\n        },\r\n        min: function(v) {\r\n            return 0;\r\n        }\r\n    }],\r\n    series: [{\r\n            name: '计划耗时',\r\n            stack: 'aa',\r\n            type: 'bar',\r\n            barWidth: '20px',\r\n            label: {\r\n                show: true,\r\n                position: 'top'\r\n            },\r\n            yAxisIndex: 0,\r\n            data: data.plan_production\r\n        },{\r\n            name: '实际耗时',\r\n            stack: 'bb',\r\n            type: 'bar',\r\n            barWidth: '20px',\r\n            label: {\r\n                show: true,\r\n                position: 'top'\r\n            },\r\n            yAxisIndex: 0,\r\n            data: data.actual_production\r\n        },\r\n        // {\r\n        //     data: data.actual_production,\r\n        //     type: 'line',\r\n        //     smooth: true,\r\n        //     name: '实际耗时',\r\n        //     symbol: 'none',\r\n        //     label: {\r\n        //         show: true,\r\n        //         position: 'top'\r\n        //     },\r\n        //     lineStyle: {\r\n        //         color: '#ffc000',\r\n        //         width: 4,\r\n        //         shadowColor: 'rgba(0, 0, 0, 0.3)', //设置折线阴影\r\n        //         shadowBlur: 15,\r\n        //         shadowOffsetY: 20,\r\n        //     }\r\n        // }\r\n    ],\r\n    graphic: lineList\r\n};"}