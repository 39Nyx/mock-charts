{"code":"$.getJSON('/asset/get/s/data-1491887968120-rJODPy9ae.json', function(data) {\n\n    data = data.filter(function(dataItem) {\n        return dataItem[2] > 0;\n    }).map(function(dataItem) {\n        return [dataItem[0], dataItem[1], Math.sqrt(dataItem[2])];\n    });\n\n\n    // var airSections = airports.slice(1000, 3000);\n    var airDatas = [];\n    // for (var i = 0; i < airSections.length; i += 2) {\n    //     airDatas.push([\n    //         [airSections[i][3], airSections[i][4]],\n    //         [airSections[i + 1][3], airSections[i + 1][4]]\n    //     ])\n    // }\n    for (let i = 0; i < 60; i++) {\n        airDatas = airDatas.concat(rodamData())\n    }\n\n    function rodamData() {\n        let name = '随机点' + Math.random().toFixed(5) * 100000\n        // let longitude = Math.random() * 62 + 73\n        let longitude = Math.random() * 360\n        let longitude2 = Math.random() * 360 - 180\n        // let latitude = Math.random() * 50 + 3.52\n        let latitude = Math.random() * 360\n        let latitude2 = Math.random() * 180 - 90\n        return {\n            coords: [\n                [longitude2, latitude2],\n                [longitude, latitude]\n            ],\n            value: (Math.random() * 3000).toFixed(2)\n        }\n    }\n    series = [];\n    series.push({\n        type: 'scatter3D',\n        coordinateSystem: 'globe',\n        blendMode: 'lighter',\n        symbolSize: 2,\n        silent: true,\n        itemStyle: {\n            color: '#0276f3',\n            opacity: 1\n        },\n        data: data\n    }, {\n        type: \"lines3D\",\n        effect: { //是否显示尾迹特效，默认不显示。\n            show: true,\n            period: 2,\n            trailWidth: 3,\n            trailLength: 0.5,\n            trailOpacity: 1,\n            trailColor: \"#fb06c3\"\n        },\n        lineStyle: {\n            width: 2,\n            color: \"#a82cf5\",\n            opacity: 0.2\n        },\n        blendMode: \"lighter\",\n        data: airDatas\n    });\n    myChart.setOption({\n        // backgroundColor:'#000',\n        visualMap: {\n            show: false,\n            min: 0,\n            max: 60,\n            inRange: {\n                symbolSize: [1.0, 10.0]\n            }\n        },\n        globe: {\n            baseTexture: \"/asset/get/s/data-1491837049070-rJZtl7Y6x.jpg\",\n            heightTexture: \"/asset/get/s/data-1491889019097-rJQYikcpl.jpg\",\n            displacementScale: 0.04,\n            // shading: 'color',\n            environment: '/asset/get/s/data-1491837999815-H1_44Qtal.jpg',\n            realisticMaterial: {\n                roughness: 0.9\n            },\n            postEffect: {\n                enable: true\n            },\n            viewControl: {\n                autoRotate: true,\n                distance: 350,\n                targetCoord: [123.38, 6.09]\n            },\n\n            // light: {\n            // main: {\n            //     intensity: 5,\n            //     shadow: false\n            // },\n            // ambient: {\n            // intensity: 2\n            // },\n            // ambientCubemap: {\n            //     texture: 'data-gl/asset/pisa.hdr',\n            //     diffuseIntensity: 5\n            // }\n            // }\n            light: {\n                ambient: {\n                    intensity: 0.4\n                },\n                main: {\n                    intensity: 0.4\n                }\n            },\n        },\n        series: series\n\n    });\n    \n});"}