{"code":"var population= [\n                {\"source\": \"健康环境\", \"target\": \"水\",  \"value\": 600.3},\n                {\"source\": \"健康卫生\", \"target\": \"水\",  \"value\": 50},\n                {\"source\": \"健康卫生\", \"target\": \"水\",  \"value\": 50},\n\n                {\"source\": \"健康环境\", \"target\": \"光\",  \"value\": 600.2},\n                {\"source\": \"健康环境\", \"target\": \"声环境\",  \"value\": 400.4},\n                {\"source\": \"健康环境\", \"target\": \"空气\",  \"value\": 600.9},\n                {\"source\": \"健康环境\", \"target\": \"热舒适\",  \"value\": 600.2},\n\n                {\"source\": \"健康居住\", \"target\": \"健康建筑\",  \"value\": 2100.6},\n                {\"source\": \"健康居住\", \"target\": \"材料\",  \"value\": 200.23},\n\n                {\"source\": \"健康社会\", \"target\": \"社区\",  \"value\": 800},\n                {\"source\": \"健康设施\", \"target\": \"社区\",  \"value\": 200},\n                {\"source\": \"健康服务\", \"target\": \"营养\",  \"value\": 700},\n\n                {\"source\": \"健康交通\", \"target\": \"空气\",  \"value\": 100},\n                {\"source\": \"健康交通\", \"target\": \"运动\",  \"value\": 500},\n\n\n                {\"source\": \"健康活动\", \"target\": \"运动\",  \"value\": 500},\n\n\n                {\"source\": \"健康社会\", \"target\": \"精神\",  \"value\": 900.97},\n\n\n                {\"source\": \"健康卫生\", \"target\": \"材料\",  \"value\": 200},\n                {\"source\": \"健康卫生\", \"target\": \"精神\",  \"value\": 450.97},\n                {\"source\": \"健康卫生\", \"target\": \"社区\",  \"value\": 100},\n                \n                {\"source\": \"健康居住\", \"target\": \"创新\",  \"value\": 600.81},\n\n                \n                {\"source\": \"健康政策\", \"target\": \"社区\",  \"value\": 200.81},\n\n            ]\n\nvar city={\n    '健康环境':'#e9bae8',\n    '健康居住':'#3dc5e7',\n    '健康设施':'#2aa12d',\n    '健康交通':'#e88886',\n    '健康活动':'#feda66',\n    '健康社会':'#c92123',\n    '健康卫生':'#8bc77b',\n    '健康服务':'#8ac74b',\n    '健康政策':'#2a564b',\n\n    '精神':'#E37332',\n    '材料':'#4393c3',\n    '社区':'#2166ac',\n    '运动':'#f97494',\n    '水':'#fb7f10',\n    '光':'#e492d0',\n    '空气':'#2aa12d',\n    '声环境':'#fb7f10',\n    '健康建筑':'#98c0fd',\n    '创新':'#DE4F3C',\n    '营养':'#46B39D',\n    '热舒适':'#46B39D',\n\n\n}\nvar citylist=[];\n//遍历city\nfor(var key in city){\n    citylist.push(\n            {name: key,itemStyle: {normal:  {color:city[key]}}}   //构造节点对象，包括name和itemStyle\n    )\n}\nconsole.log(citylist)\nvar data=[];\nfor(var i=0;i<population.length;i++){\n    var color = new echarts.graphic.LinearGradient(0, 0, 1, 0, [{\n                offset: 0,\n                color: city[population[i].source]  //获取起始节点的颜色属性\n            },{\n                offset: 1,\n                color: city[population[i].target]  //获取结尾节点的颜色属性\n            }]\n    )\n    data.push({\n                source: population[i].source,\n                target: population[i].target,\n                value: population[i].value,\n                lineStyle: {   //添加样式配置\n                    normal: {\n                        color:color\n                    }\n\n                }\n            }\n    )\n}\n\n\nvar option = {\n    backgroundColor:'#000',\n    title: {\n        text: 'well',\n        textStyle: {\n            fontWeight: 'normal',\n            fontSize: 20,\n            color: '#F1F1F3'\n        },\n        top: \"3%\",\n        x: 'center'\n    },\n    tooltip: {\n        trigger: 'item',\n        triggerOn: 'mousemove'\n    },\n    series: [\n        {\n            type: 'sankey',\n            data: citylist,\n            links: data,\n            top:'10%',\n            right:'10%',\n            bottom:'5%',\n            focusNodeAdjacency: 'allEdges',\n            itemStyle: {\n                normal: {\n                    borderWidth: 0,\n                    borderColor: '#fff',\n                    opacity:1\n                }\n            },\n            label:{\n                normal: {\n                    fontSize:'20',\n                    color: '#fff'\n                }\n            },\n            lineStyle: {\n                normal: {\n                    curveness: 0.5,\n                    opacity:0.5\n                }\n            }\n        }\n    ]\n};"}