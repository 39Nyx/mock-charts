{"code":"\r\n// 格式化百分比\r\nconst formatPercent = (num) => {\r\n    if (num.toString().indexOf(\".\") > -1) {\r\n        let arr = num.toString().split(\".\");\r\n        let decimalArr = arr[1].split(\"\");\r\n        if (decimalArr.length > 2) {\r\n            return num.toFixed(2);\r\n        } else {\r\n            return num;\r\n        }\r\n    } else {\r\n        return num;\r\n    }\r\n};\r\nlet value = 80;\r\nlet total = 100;\r\nlet color = ['#38F0FF', '#0A7EB8']; //渐变色列表\r\nlet point = value; //在线\r\nlet handred = total; //全部\r\n\r\noption = {\r\n    backgroundColor: '#313131',\r\n    // 标题\r\n    title: {\r\n        text: '{a|' + (formatPercent(point * 100 / handred)) + '}{b|%}\\n{c|在线率}',\r\n        x: 'center',\r\n        y: 'center',\r\n        textStyle: {\r\n            rich: {\r\n                a: {\r\n                    color: '#FFFFFF',\r\n                    fontSize: '26',\r\n                    fontFamily: 'OPPOSans-M'\r\n                },\r\n                b: {\r\n                    fontSize: '14',\r\n                    fontFamily: 'OPPOSans-R',\r\n                    color: '#FFFFFF',\r\n                    padding: [0, 0, 7, 2]\r\n                },\r\n                c: {\r\n                    fontSize: '16',\r\n                    fontFamily: 'SourceHanSansCN-Normal',\r\n                    color: '#BDE7FA',\r\n                    padding: [5, 0, 6, 0]\r\n                }\r\n            }\r\n        }\r\n    },\r\n    series: [{\r\n        name: '',\r\n        type: 'pie',\r\n        hoverAnimation: false,\r\n        clockWise: true,\r\n        radius: ['66%', '74%'],\r\n        itemStyle: {\r\n            normal: {\r\n                label: {\r\n                    show: false\r\n                },\r\n                labelLine: {\r\n                    show: false\r\n                }\r\n            }\r\n        },\r\n        data: [{\r\n            value: point,\r\n            name: '占比',\r\n            itemStyle: {\r\n                normal: {\r\n                    color: {\r\n                        // 颜色渐变\r\n                        type: 'linear',\r\n                        x: 0,\r\n                        y: 0.2,\r\n                        x2: 0,\r\n                        y2: 1,\r\n                        colorStops: [{\r\n                                offset: 0,\r\n                                color: color[0] // 0% 处的颜色\r\n                            },\r\n                            {\r\n                                offset: 0.6,\r\n                                color: 'rgba(56, 240, 255, 0.6)' // 60% 处的颜色\r\n                            },\r\n                            {\r\n                                offset: 1,\r\n                                color: color[1] // 100% 处的颜色\r\n                            }\r\n                        ]\r\n                    },\r\n                    label: {\r\n                        show: false\r\n                    },\r\n                    labelLine: {\r\n                        show: false\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            // 剩余背景透明\r\n            name: '剩余',\r\n            z: 1,\r\n            value: (handred - point) || 1,\r\n            itemStyle: {\r\n                normal: {\r\n                    color: 'rgba(0, 0, 0, 0)'\r\n                }\r\n            }\r\n        }]\r\n    }]\r\n}"}