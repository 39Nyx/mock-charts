{"code":"var option;\n\nvar getname = ['正常', '质差', '疑似中断'];\n\nvar getvalue = [5, 2, 1];\nlet chartData = getname.map((item, index) => {\n    return { name: item, value: getvalue[index] };\n});\n\nvar arrName = [];\nvar arrValue = [];\nvar sum = 0;\nvar pieSeries = [],\n    lineYAxis = [];\n\n// 数据处理\nchartData.forEach((v, i) => {\n    arrName.push(v.name);\n    arrValue.push(v.value);\n    sum = sum + v.value;\n});\n\n// 图表option整理\nchartData.forEach((v, i) => {\n    pieSeries.push({\n        name: '图表',\n        type: 'pie',\n        startAngle: 270,\n        clockwise: true,\n        emphasis: {\n            scale: false,\n        },\n        radius: [55 + i * 15 + '%', 50 + i * 15 + '%'],\n        center: ['50%', '50%'],\n        label: {\n            show: false,\n        },\n        data: [\n            {\n                value: v.value,\n                name: v.name,\n            },\n            {\n                value: sum / 10*2,\n                name: '',\n                itemStyle: {\n                    color: 'rgba(0,0,0,0)',\n                },\n            },\n        ],\n    });\n    pieSeries.push({\n        name: '',\n        type: 'pie',\n        silent: true,\n        z: 1,\n        startAngle: 270,\n        clockwise: true, //顺时加载\n        emphasis: {\n            scale: false, //鼠标移入变大\n        },\n        radius: [55 + i * 15 + '%', 50 + i * 15 + '%'],\n        center: ['50%', '50%'],\n        label: {\n            show: false,\n        },\n        data: [\n            // 底层圆\n            {\n                value: 10,\n                itemStyle: {\n                    color: '#3A3A3A',\n                },\n            },\n            // 空白部分\n            {\n                value: 2,\n                name: '',\n                itemStyle: {\n                    color: 'rgba(0,0,0,0)',\n                },\n            },\n        ],\n    });\n    lineYAxis.push({\n        value: i,\n    });\n});\n\noption = {\n    title: [\n        {\n            text: '总量',\n            top: '56%',\n            left: '46%',\n            textStyle: {\n                color: '#999',\n                fontSize: 34,\n            },\n        },\n        {\n            text: sum,\n            left: '48%',\n            top: '42%',\n            textStyle: {\n                color: '#fff',\n                fontSize: 54,\n            },\n        },\n    ],\n    color: new echarts.graphic.LinearGradient(0, 0, 0, 1, [\n        {\n            offset: 0,\n            color: '#5CCBB1',\n        },\n        {\n            offset: 1,\n            color: '#3765D1',\n        },\n    ]),\n    grid: {\n        top: '73%',\n        bottom: '5%',\n        left: '50%',\n        containLabel: false,\n    },\n    yAxis: [\n        {\n            type: 'category',\n            inverse: true,\n            axisLine: {\n                show: false,\n            },\n            axisTick: {\n                show: false,\n            },\n            axisLabel: {\n                formatter: function (params) {\n                    let item = chartData[params];\n                    return item.name + item.value;\n                },\n                interval: 0,\n                inside: true,\n                color: '#999',\n                fontSize: 10,\n                show: true,\n            },\n            data: lineYAxis,\n        },\n    ],\n    xAxis: [\n        {\n            show: false,\n        },\n    ],\n    series: pieSeries,\n};\n\noption && myChart.setOption(option);\n"}