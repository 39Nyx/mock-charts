{"code":"// 使用了工具库lodash，cdn：https://cdn.bootcdn.net/ajax/libs/lodash.js/4.17.15/lodash.js\n\nlet data = {\n    female: {\n        name: '女性',\n        data: [{\n            value: 5,\n            label: '小于1岁'\n        }, {\n            value: 12,\n            label: '1 ～ 9 岁'\n        }, {\n            value: 10,\n            label: '10 ～ 19 岁'\n        }, {\n            value: 7,\n            label: '20 ～ 29 岁'\n        }, {\n            value: 32,\n            label: '30 ～ 39 岁'\n        }, {\n            value: 40,\n            label: '40 ～ 49 岁'\n        }, {\n            value: 28,\n            label: '50 ～ 59 岁'\n        }, {\n            value: 34,\n            label: '大于60岁'\n        }]\n    },\n    male: {\n        name: '男性',\n        data: [{\n            value: 5,\n            label: '小于1岁'\n        }, {\n            value: 19,\n            label: '1 ～ 9 岁'\n        }, {\n            value: 23,\n            label: '10 ～ 19 岁'\n        }, {\n            value: 43,\n            label: '20 ～ 29 岁'\n        }, {\n            value: 34,\n            label: '30 ～ 39 岁'\n        }, {\n            value: 53,\n            label: '40 ～ 49 岁'\n        }, {\n            value: 12,\n            label: '50 ～ 59 岁'\n        }, {\n            value: 34,\n            label: '大于60岁'\n        }]\n    }\n};\nlet yAxisData = new Set();\nlet legendData = [];\n_.forEach(data, (d) => {\n    legendData.push(d.name);\n    _.forEach(d.data, (item) => {\n        yAxisData.add(item.label);\n    });\n});\n\nlet top = 60;\nlet bottom = 60;\n\nyAxisData = [...yAxisData];\n\noption = {\n    tooltip: {\n        show: true,\n        trigger: 'axis',\n        axisPointer: {\n            type: 'shadow'\n        }\n    },\n    legend: {\n        left: 'center',\n        bottom: 24,\n        itemWidth: 15,\n        itemHeight: 11,\n        itemGap: 20,\n        borderRadius: 4,\n        textStyle: {\n            color: '#262C41',\n            fontSize: 14\n        },\n        data: legendData\n    },\n    grid: [{\n        left: '12%',\n        width: '28%',\n        containLabel: true,\n        bottom\n    }, {\n        left: '52%',\n        width: '0%',\n        bottom: bottom + 16\n    }, {\n        right: '12%',\n        width: '28%',\n        containLabel: true,\n        bottom\n    }].map(item => _.merge({\n        top\n    }, item)),\n    xAxis: [{\n        type: 'value',\n        inverse: true,\n        axisLabel: {\n            show: true\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: true\n        }\n    }, {\n        gridIndex: 1,\n        show: true\n    }, {\n        gridIndex: 2,\n        type: 'value',\n        axisLabel: {\n            show: true\n        },\n        axisLine: {\n            show: false\n        },\n        axisTick: {\n            show: false\n        },\n        splitLine: {\n            show: true\n        }\n    }].map((item) => _.merge(item, {\n        axisLabel: {\n            color: '#949AA8',\n            margin: 0\n        },\n        splitLine: {\n            lineStyle: {\n                color: '#E0E0E0',\n                type: 'dashed'\n            }\n        },\n    })),\n    yAxis: [{\n            position: 'right',\n            axisLabel: {\n                show: false\n            },\n            axisLine: {\n                show: true\n            }\n        },\n        {\n            gridIndex: 1,\n            position: 'center',\n            axisLabel: {\n                align: 'center',\n                padding: [8, 0, 0, 0],\n                fontSize: 12,\n                color: `#262C41`\n            },\n            axisLine: {\n                show: false\n            }\n        },\n        {\n            gridIndex: 2,\n            position: 'left',\n            axisLabel: {\n                show: false\n            },\n            axisLine: {\n                show: true\n            }\n        }\n    ].map((item) => {\n        return _.merge(item, {\n            type: 'category',\n            inverse: false,\n            axisLine: {\n                lineStyle: {\n                    color: '#E0E0E0'\n                }\n            },\n            axisTick: {\n                show: false\n            },\n            data: yAxisData\n        });\n    }),\n    series: [{\n            name: _.get(data, 'male.name'),\n            label: {\n                position: 'left'\n            },\n            itemStyle: {\n                color: '#01C5B2',\n                barBorderRadius: [4, 0, 0, 4]\n            },\n            data: _.map(_.get(data, 'male.data'), d => d.value)\n        },\n        {\n            xAxisIndex: 2,\n            yAxisIndex: 2,\n            name: _.get(data, 'female.name'),\n            label: {\n\n                position: 'right'\n            },\n            itemStyle: {\n                color: '#FB6F6C',\n                barBorderRadius: [0, 4, 4, 0]\n            },\n            data: _.map(_.get(data, 'female.data'), d => d.value)\n        }\n    ].map(item => _.merge(item, {\n        type: 'bar',\n        barWidth: 11,\n        label: {\n            show: true,\n            fontFamily: 'Rubik-Medium',\n            fontSize: 14,\n            distance: 10\n        }\n    }))\n};"}