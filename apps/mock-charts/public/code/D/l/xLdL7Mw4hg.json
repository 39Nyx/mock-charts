{"code":"let xData = ['北京','天津','江西','上海','其他省']\nlet yData = [480,360,240,120,60]\n\n\n\n\n\nlet actValue = []\nlet stackValue = []\nlet actValueData = []\nyData.map((item,index)=>{\n    let isLast = index+1 == yData.length\n    // 堆叠高度\n    actValue.push({\n        name:xData[index],\n        value:isLast ? item : item-yData[index+1],\n        itemStyle:{\n            color:{\n                x:0,\n                y:0,\n                x2:0,\n                y2:1,\n                colorStops:[\n                    {\n                        offset:0,\n                        color:'#1890FF'\n                    },\n                    {\n                        offset:1,\n                        color:'#63B4FF'\n                    }\n                ]\n            },\n            barBorderRadius:3\n        }\n    })\n    stackValue.push(isLast ? 0 : yData[index+1])\n    \n})\n\nlet totalData = {\n    name:'总数',\n    value:Math.max(...yData),\n    itemStyle:{\n        color:{\n            x:0,\n            y:0,\n            x2:0,\n            y2:1,\n            colorStops:[\n                {\n                    offset:0,\n                    color:'#FECB84'\n                },\n                {\n                    offset:1,\n                    color:'#FEAE5B'\n                }\n            ]\n        }\n    }\n}\n\n\noption = {\n    title:{\n        text:'高分段（600分以上）生源分布',\n        textStyle:{\n            color:'#24559E',\n            fontSize:15\n        }\n    },\n    grid:{\n        top:70,\n        left:0,\n        right:0,\n        bottom:20,\n        containLabel:true\n    },\n    xAxis: {\n        type: \"category\",\n        data:['总数',...xData],\n        axisTick:{\n            show:false\n        },\n        axisLabel:{\n            color:'#666666',\n            fontSize:13\n        },\n        axisLine:{\n            lineStyle:{\n                color:'#B0C5DB'\n            }\n        },\n        offset:10\n        \n    },\n    yAxis: {\n        name:'人',\n        type: \"value\",\n        nameTextStyle:{\n            align:'left'  \n        },\n        splitLine:{\n            lineStyle:{\n                type:'dashed',\n                color:'#CCDBEB'\n            }  \n        },\n        labelLine:{\n            show:false\n        },\n        axisTick:{\n            show:false\n        },\n        axisLine:{\n            show:false\n        },\n        axisLabel:{\n            color:'#666666',\n            fontSize:13\n        }\n    },\n    series:[\n        {\n            type:'bar',\n            barWidth:10,\n            data:[0,...stackValue],\n            stack:'stack',\n            itemStyle:{\n                color:'transparent'\n            }\n        },\n        {\n            type:'bar',\n            barWidth:10,\n            itemStyle:{\n                color:{\n                      \n                },\n                barBorderRadius:[3,3,0,0],  \n            },\n            data:[totalData,...actValue],\n            stack:'stack'\n        }\n    ]\n}\nconsole.log(option)"}