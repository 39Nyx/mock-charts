{"code":"//修改源代码BMapCoordSys.js的enableMapClick为false取消兴趣点点击事件\n\n\nlet centerPoint =[113.303253, 23.101441]\nvar data = [{\n    name: '中山大学',\n    value: 25\n}];\nvar geoCoordMap = {\n    '中山大学': [113.303253, 23.101441]\n};\n\nvar convertData = function(data) {\n    var res = [];\n    for (var i = 0; i < data.length; i++) {\n        var geoCoord = geoCoordMap[data[i].name];\n        if (geoCoord) {\n            res.push({\n                name: data[i].name,\n                value: geoCoord.concat(data[i].value),\n                effectValue: data[i].value\n            });\n        }\n    }\n    return res;\n};\n\noption = {\n    tooltip: {\n        backgroundColor: '#fff',\n        trigger: 'item',\n        formatter: params => {\n            console.log(params);\n            return `<div style=\"color:#666666;padding-bottom:5px\">地点名称：<span style=\"color:#10AF7A\">${params.data.name}</span></div>\n                    <div style=\"color:#666666\">地点记录：<span style=\"color:#10AF7A\">${params.data.effectValue}</span></div>`\n        }\n    },\n    bmap: {\n        center:centerPoint,\n        zoom: 21,\n        roam: true,\n    },\n    series: [\n        {\n            name: 'pointer',\n            type: 'effectScatter',\n            coordinateSystem: 'bmap',\n            data: convertData(data.sort(function(a, b) {\n                return b.value - a.value;\n            }).slice(0, 6)),\n            symbolSize: function(val) {\n                return val[2];\n            },\n            encode: {\n                value: 2\n            },\n            showEffectOn: 'render',\n            rippleEffect: {\n                brushType: 'stroke'\n            },\n            hoverAnimation: true,\n            label: {\n                formatter: '{b}',\n                position: 'right',\n                show: true\n            },\n            itemStyle: {\n                normal: {\n                    color: {\n                        type: 'radial',\n                        x: 0.5,\n                        y: 0.5,\n                        r: 0.5,\n                        colorStops: [{\n                            offset: 0,\n                            color: '#FF5555'\n                        }, {\n                            offset: 0.5,\n                            color: '#FF5555'\n                        }, {\n                            offset: 0.6,\n                            color: '#FFFFFF'\n                        }, {\n                            offset: 0.85,\n                            color: '#FFFFFF'\n                        }, {\n                            offset: 1,\n                            color: '#FF5555'\n                        }],\n                        global: false // 缺省为 false\n                    },\n                }\n\n            },\n            zlevel: 1\n        },\n    ]\n};\nmyChart.setOption(option)"}