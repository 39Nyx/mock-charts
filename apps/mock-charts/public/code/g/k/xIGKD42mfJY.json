{"code":"const color = [\"#00B3FF\", \"\", \"#FFC633\", \"\", \"#13FFF1\", \"\"];\nconst color1 = [\"#0673D1\", \"\", \"#CD8D30\", \"\", \"#078680\", \"\"];\n\nlet chartdata = [\n        { value: 232, name: \"第一产业\" },\n        { value: 132, name: \"第二产业\" },\n        { value: 100, name: \"第三产业\" },\n      ]\nlet sum = 0;\nlet data1 = [];\nchartdata.forEach((item) => {\n    sum += Number(item.value);\n});\nchartdata.forEach((item) => {\ndata1.push(item, {\n  name: \"\",\n  value: sum / 100,\n  labelLine: {\n    show: false,\n    lineStyle: {\n      color: \"transparent\",\n    },\n  },\n  itemStyle: {\n    color: \"transparent\",\n  },\n});\n});\n\noption = {\nseries: [\n  {\n    type: \"pie\",\n    radius: [\"55%\", \"75%\"],\n    center: [\"50%\", \"50%\"],\n    hoverAnimation: false,\n    startAngle: 180,\n    selectedMode: \"single\",\n    label: {\n      show: false,\n    },\n    itemStyle: {\n      normal: {\n        color: function (params) {\n          return color1[params.dataIndex];\n        },\n      },\n    },\n    data: data1,\n    z: 666,\n  },\n  {\n    type: \"pie\",\n    radius: [\"75%\", \"80%\"],\n    center: [\"50%\", \"50%\"],\n    hoverAnimation: false,\n    startAngle: 180,\n    selectedMode: \"single\",\n    label: {\n      show: false,\n    },\n    itemStyle: {\n      normal: {\n        color: function (params) {\n          return color[params.dataIndex];\n        },\n      },\n    },\n    data: data1,\n    z: 1,\n  },\n],\n};\n\nlet currentIndex = -2;\nconst dataLen = chartdata.length * 2;\nvar timer = setInterval(() => {\n// 取消之前高亮的图形\nmyChart.dispatchAction({\n  type: \"unselect\",\n  seriesIndex: 0,\n  dataIndex: currentIndex,\n});\nmyChart.dispatchAction({\n  type: \"unselect\",\n  seriesIndex: 1,\n  dataIndex: currentIndex,\n});\n\ncurrentIndex += 2;\nif (currentIndex >= dataLen) {\n  currentIndex = 0;\n}\n\n// 高亮当前图形\nmyChart.dispatchAction({\n  type: \"select\",\n  seriesIndex: 0,\n  dataIndex: currentIndex,\n});\nmyChart.dispatchAction({\n  type: \"select\",\n  seriesIndex: 1,\n  dataIndex: currentIndex,\n});\n}, 3000);\n"}