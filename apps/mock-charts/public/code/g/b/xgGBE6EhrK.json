{"code":"let dataPieAccesInfo = [{\r\n        value: 934,\r\n        name: '机柜'\r\n    },\r\n    {\r\n        value: 436,\r\n        name: '路由器'\r\n    },\r\n    {\r\n        value: 620,\r\n        name: '交换机'\r\n    },\r\n    {\r\n        value: 252,\r\n        name: '服务器'\r\n    },\r\n    {\r\n        value: 312,\r\n        name: 'PDU'\r\n    },\r\n\r\n];\r\n\r\nlet total = 0;\r\ndataPieAccesInfo.forEach(function(val, idx, arr) {\r\n    total += val.value;\r\n})\r\noption = {\r\n    // backgroundColor: '#02102b',\r\n    color: ['#e062ae', \"#67e0e3\", \"#37a2da\", \"#ffdb5c\", \"#ff9f7f\"],\r\n    title: {\r\n        text: '总资产',\r\n        subtext: '2685',\r\n        textStyle: {\r\n            color: '#4effff',\r\n            fontSize: 12,\r\n            align: 'center'\r\n        },\r\n        subtextStyle: {\r\n            fontSize: 12,\r\n            color: ['#85c7e3']\r\n        },\r\n        x: 'center',\r\n        y: 'center',\r\n    },\r\n    tooltip: {\r\n        trigger: 'item',\r\n        formatter: \"{a} <br/>{b} : {c} ({d}%)\"\r\n    },\r\n    grid: {\r\n        left: '5px', // 与容器左侧的距离\r\n        right: '5px', // 与容器右侧的距离\r\n        top: '5px', // 与容器顶部的距离\r\n        bottom: '5px', // 与容器底部的距离\r\n    },\r\n    legend: {\r\n        // orient: 'vertical',\r\n        icon: \"vertical\",\r\n        // right: '1%',\r\n        bottom: \"1%\",\r\n        data: ['机柜', '路由器', '交换机', '服务器', 'PDU'],\r\n        itemGap: 20,\r\n        itemWidth: 15,\r\n        itemHeight: 8,\r\n        formatter: function(name) {\r\n\r\n            let target, percent;\r\n            for (let i = 0; i < dataPieAccesInfo.length; i++) {\r\n                if (dataPieAccesInfo[i].name === name) {\r\n                    target = dataPieAccesInfo[i].value;\r\n                    percent = ((target / total) * 100).toFixed(1);\r\n                }\r\n            }\r\n            let arr = [percent + '% ' + ' {yellow|' + target + '}', ' {blue|' + name + '}'];\r\n            return arr.join(\"\\n\")\r\n\r\n        },\r\n        textStyle: {\r\n            lineHeight: 20,\r\n            color: '#f0f4f6',\r\n            align: 'right',\r\n            rich: {\r\n                yellow: {\r\n                    color: '#00b5f3',\r\n                    fontWeight: \"bold\"\r\n\r\n                },\r\n                blue: {\r\n                    color: '#97c8ea',\r\n                    align: 'right',\r\n\r\n                },\r\n            }\r\n\r\n        },\r\n    },\r\n    series: [{\r\n        name: '资产设备统计',\r\n        type: 'pie',\r\n        radius: ['60%', '70%'],\r\n        center: ['50%', '50%'],\r\n        data: dataPieAccesInfo,\r\n        itemStyle: {\r\n            emphasis: {\r\n                shadowBlur: 10,\r\n                shadowOffsetX: 0,\r\n                shadowColor: 'rgba(0, 0, 0, 0.5)'\r\n            }\r\n        },\r\n        labelLine: {\r\n            show: true,\r\n            length: 5,\r\n            length2: 5,\r\n            lineStyle: {\r\n                color: '#40b3f1',\r\n                width: 2\r\n            }\r\n        },\r\n        label: {\r\n            normal: {\r\n                formatter: \"{d}%\",\r\n                color: '#c3e5f0',\r\n\r\n            },\r\n\r\n        },\r\n    }]\r\n};"}