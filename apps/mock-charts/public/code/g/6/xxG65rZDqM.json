{"code":"/*\n桑基图支持重名节点\nwx:yangtaoxf\n\n内容来自网络\n\n*/\nvar nodes =[\n{\"name\":\"11\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable1\"},\n{\"name\":\"22\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable2\"},\n{\"name\":\"33\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable3\"},\n{\"name\":\"44\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable4\"},\n{\"name\":\"55\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable5\"},\n{\"name\":\"66\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable6\"},\n{\"name\":\"77\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable7\"},\n{\"name\":\"88\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable8\"},\n{\"name\":\"99\", \"p1\":\"123\", \"p2\":\"123\", \"p3\":\"123\", \"p4\":\"123\", label: \"lable4\"},\n]\n\n        var links = [\n{\"source\":\"11\",\"target\":\"55\",\"value\":\"20\", sourceName: 'lable1', targetName: 'lable5'},\n{\"source\":\"11\",\"target\":\"66\",\"value\":\"30\", sourceName: 'lable1', targetName: 'lable6'},\n{\"source\":\"11\",\"target\":\"77\",\"value\":\"50\", sourceName: 'lable1', targetName: 'lable7'},\n{\"source\":\"22\",\"target\":\"55\",\"value\":\"10\", sourceName: 'lable2', targetName: 'lable5'},\n{\"source\":\"22\",\"target\":\"66\",\"value\":\"40\", sourceName: 'lable2', targetName: 'lable6'},\n{\"source\":\"22\",\"target\":\"77\",\"value\":\"50\", sourceName: 'lable2', targetName: 'lable7'},\n{\"source\":\"33\",\"target\":\"55\",\"value\":\"30\", sourceName: 'lable3', targetName: 'lable5'},\n{\"source\":\"33\",\"target\":\"66\",\"value\":\"30\", sourceName: 'lable3', targetName: 'lable6'},\n{\"source\":\"33\",\"target\":\"77\",\"value\":\"40\", sourceName: 'lable3', targetName: 'lable7'},\n{\"source\":\"44\",\"target\":\"55\",\"value\":\"30\", sourceName: 'lable4', targetName: 'lable5'},\n{\"source\":\"44\",\"target\":\"66\",\"value\":\"10\", sourceName: 'lable4', targetName: 'lable6'},\n{\"source\":\"44\",\"target\":\"77\",\"value\":\"60\", sourceName: 'lable4', targetName: 'lable7'},\n{\"source\":\"55\",\"target\":\"88\",\"value\":\"40\", sourceName: 'lable5', targetName: 'lable8'},\n{\"source\":\"55\",\"target\":\"99\",\"value\":\"60\", sourceName: 'lable5', targetName: 'lable4'},\n{\"source\":\"66\",\"target\":\"88\",\"value\":\"70\", sourceName: 'lable6', targetName: 'lable8'},\n{\"source\":\"66\",\"target\":\"99\",\"value\":\"30\", sourceName: 'lable6', targetName: 'lable4'},\n{\"source\":\"77\",\"target\":\"88\",\"value\":\"20\", sourceName: 'lable7', targetName: 'lable8'},\n{\"source\":\"77\",\"target\":\"99\",\"value\":\"80\", sourceName: 'lable7', targetName: 'lable4'},\n];\n\nvar option = {\n    tooltip : {},\n    backgroundColor : 'rgb(244, 245, 247)',\n    color : [ 'rgb(0, 106, 212)', 'rgb(50, 190, 151)' ],\n    series : [ {\n        name : '桑基',\n        type : 'sankey',\n        nodeWidth : 100,\n        nodeHeight : 100,\n        nodes : nodes,\n        links : links,\n        lineStyle : {\n            normal : {\n                color : 'rgb(108, 165, 211)'\n            }\n        },\n        itemStyle : {\n            normal : {\n                borderWidth : 0\n            }\n        },\n        animation : true,\n        tooltip : {\n            formatter : function(a) {\n                var data = eval(a['data']);\n                if (data.label) {\n                    return ('<span style=\"display:inline-block;margin-right:5px;border-radius:10px;width:9px;height:9px;background-color:'\n                            + a['color'] + '\"></span>' + data.label + ' : ' + data.p1)\n                } else {\n                    return (data.sourceName + ' -> ' + data.targetName\n                            + ' : ' + data.value)\n                }\n            }\n        },\n        label : {\n            normal : {\n                position : 'insideLeft|insideTop',\n                formatter : function(a) {\n                    var data = eval(a['data']);\n                    return (data.label + '\\n\\n' + 'P1: ' + data.p1 + '\\n'\n                            + 'P2: ' + data.p2 + '\\n' + 'P3: '\n                            + data.p3 + '\\n' + 'P4: ' + data.p4);\n                },\n                color : '#fff',\n                padding : [ 10, 0, 0, 10 ]\n            }\n        },\n    } ]\n};"}